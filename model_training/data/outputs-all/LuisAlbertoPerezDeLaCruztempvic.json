	0
from typing import Any [EOL] import typing [EOL] [docstring] [EOL] [EOL] import os [EOL] [EOL] from django . core . wsgi import get_wsgi_application [EOL] [EOL] os . environ . setdefault ( [string] , [string] ) [EOL] [EOL] application = get_wsgi_application ( ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0
from typing import Any , List [EOL] import typing [EOL] [docstring] [EOL] [EOL] from django . urls import path , include [EOL] from django . contrib import admin [EOL] from django . conf import settings [EOL] from django . conf . urls . static import static [EOL] import rest_framework . documentation as drf_doc [EOL] [EOL] urlpatterns = [ path ( [string] , drf_doc . include_docs_urls ( title = [string] ) ) , path ( [string] , admin . site . urls ) , path ( [string] , include ( [string] ) ) , path ( [string] , include ( [string] ) ) , path ( [string] , include ( [string] ) ) , path ( [string] , drf_doc . include_docs_urls ( title = [string] ) ) , ] + static ( settings . MEDIA_URL , document_root = settings . MEDIA_ROOT ) [EOL] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.List[typing.Any]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
	0
from typing import Type , Any [EOL] import typing [EOL] import web [EOL] from django import forms [EOL] from . models import * [EOL] from django . core . validators import * [EOL] from django . core . exceptions import ValidationError [EOL] from django . contrib . auth . models import User [EOL] from django . core . validators import RegexValidator [EOL] [EOL] class ProfileImageForm ( forms . Form ) : [EOL] image = forms . FileField ( label = [string] ) [EOL] [EOL] class RegisterMarcaForm ( forms . Form ) : [EOL] error_css_class = [string] [EOL] required_css_class = [string] [EOL] Correo = forms . EmailField ( label = [string] , widget = forms . EmailInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] nombre = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] telefono1 = forms . CharField ( label = [string] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] telefono2 = forms . CharField ( label = [string] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] alias = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] razon_social = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] doc_ident = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] calle = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] urbanizacion = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] edificio = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] ciudad = forms . ModelChoiceField ( label = [string] , queryset = Ciudad . objects . values_list ( [string] , flat = True ) . all ( ) , widget = forms . Select ( attrs = { [string] : [string] , [string] : [string] , [string] : [string] } ) ) [EOL] municipio = forms . ModelChoiceField ( label = [string] , queryset = Zona . objects . values_list ( [string] , flat = True ) . all ( ) , widget = forms . Select ( attrs = { [string] : [string] , [string] : [string] , [string] : [string] } ) ) [EOL] public = forms . BooleanField ( label = [string] , widget = forms . CheckboxInput ( attrs = { [string] : [string] , [string] : [string] , [string] : [string] } ) ) [EOL] descripcion = forms . CharField ( label = [string] , max_length = [number] , widget = forms . TextInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] plan = forms . ModelChoiceField ( label = [string] , queryset = ProductoMarca . objects . all ( ) , widget = forms . Select ( attrs = { [string] : [string] , [string] : [string] , [string] : [string] } ) ) [EOL] terminos = forms . BooleanField ( label = [string] , widget = forms . CheckboxInput ( attrs = { [string] : [string] , [string] : [string] } ) ) [EOL] boletin = forms . BooleanField ( label = [string] , widget = forms . CheckboxInput ( attrs = { [string] : [string] , [string] : [string] , [string] : [string] } ) ) [EOL] [EOL] def clean_Correo ( self ) : [EOL] cd = self . clean_data [EOL] print ( cd ) [EOL] usuario = cd . get ( [string] ) [EOL] print ( [string] + usuario ) [EOL] validate = EmailValidator ( ) [EOL] try : [EOL] validate ( usuario ) [EOL] except : [EOL] raise forms . ValidationError ( [string] ) [EOL] return usuario [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.ProfileImageForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 $builtins.str$ 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[web.forms.RegisterMarcaForm]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from typing import Any , Literal , Tuple [EOL] import typing [EOL] import web [EOL] import typing_extensions [EOL] from django . core . exceptions import PermissionDenied [EOL] from django . http import Http404 [EOL] from web . templatetags . filtrosEspeciales import * [EOL] from django . shortcuts import render , redirect [EOL] [EOL] [EOL] [EOL] def user_is_legal ( function ) : [EOL] def wrap ( request , * args , ** kwargs ) : [EOL] [EOL] NULO = [number] [EOL] ATLETA = [number] [EOL] MARCA = [number] [EOL] OTRO = [number] [EOL] [EOL] contenidoPK = NULO [EOL] contenidoPKA = NULO [EOL] [EOL] if [string] in kwargs : [EOL] pk = kwargs [ [string] ] [EOL] if Marca . objects . filter ( m_alias = pk ) . exists ( ) : [EOL] contenidoPK = MARCA [EOL] elif UserProfile . objects . filter ( u_alias = pk ) . exists ( ) : [EOL] contenidoPK = ATLETA [EOL] else : [EOL] contenidoPK = OTRO [EOL] [EOL] if [string] in kwargs : [EOL] pka = kwargs [ [string] ] [EOL] if Marca . objects . filter ( m_alias = pka ) . exists ( ) : [EOL] contenidoPKA = MARCA [EOL] elif UserProfile . objects . filter ( u_alias = pka ) . exists ( ) : [EOL] contenidoPKA = ATLETA [EOL] else : [EOL] contenidoPKA = OTRO [EOL] [EOL] [comment] [EOL] [comment] [EOL] nombreFuncion = function . __name__ [EOL] casosEspeciales1 = ( [string] , [string] , [string] , [string] , [string] ) [EOL] if nombreFuncion in casosEspeciales1 : [EOL] if contenidoPKA == MARCA : [EOL] pk = pka [EOL] pka = None [EOL] contenidoPK = MARCA [EOL] contenidoPKA = NULO [EOL] else : [EOL] raise Http404 [EOL] [comment] [EOL] casosEspeciales2 = ( [string] , ) [EOL] if nombreFuncion in casosEspeciales2 : [EOL] if [string] in request . GET : [EOL] pk = request . GET [ [string] ] [EOL] if Marca . objects . filter ( m_alias = pk ) . exists ( ) : [EOL] contenidoPK = MARCA [EOL] elif UserProfile . objects . filter ( u_alias = pk ) . exists ( ) : [EOL] contenidoPK = ATLETA [EOL] else : [EOL] contenidoPK = OTRO [EOL] contenidoPKA = NULO [EOL] else : [EOL] raise Http404 [EOL] [EOL] [comment] [EOL] if contenidoPK == OTRO : [EOL] if pk == [string] : [EOL] return redirect ( [string] ) [EOL] else : [EOL] raise Http404 [EOL] [EOL] [comment] [EOL] elif contenidoPK == MARCA and contenidoPKA == NULO : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . MARCA and vs . marcaEnUsoAlias != pk : [EOL] if vs . userAlias != pk : [EOL] raise PermissionDenied [EOL] else : [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] tieneRelacion = Relacion . objects . filter ( r_user__profile__u_alias = vs . userAlias , r_marca__m_alias = pk , r_estado = [string] ) . exists ( ) [EOL] marcaPublica = Marca . objects . filter ( m_alias = pk ) [ [number] ] . m_public [EOL] if not tieneRelacion and not marcaPublica : [EOL] raise PermissionDenied [EOL] [EOL] [comment] [EOL] elif contenidoPK == MARCA and contenidoPKA == OTRO : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . MARCA and vs . marcaEnUsoAlias != pk : [EOL] if vs . userAlias != pk : [EOL] raise PermissionDenied [EOL] else : [EOL] raise Http404 [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] elif contenidoPK == MARCA and contenidoPKA == ATLETA : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . MARCA and vs . marcaEnUsoAlias != pk : [EOL] if vs . userAlias != pk : [EOL] raise PermissionDenied [EOL] tieneRelacion = Relacion . objects . filter ( r_marca = vs . marcaEnUso , r_user__profile__u_alias = pka , r_estado = [string] ) . exists ( ) [EOL] if not tieneRelacion : [EOL] raise PermissionDenied [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] elif contenidoPK == ATLETA and contenidoPKA == ATLETA : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if [string] in request . META : [EOL] url = request . META [ [string] ] [EOL] if vs . tipoSesion == vs . ATLETA and vs . userAlias != pk : [EOL] if vs . userAlias != pk and [string] not in url : [EOL] if [string] in request . path : [EOL] pass [EOL] else : [EOL] raise PermissionDenied [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] elif contenidoPK == ATLETA and contenidoPKA == MARCA : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] raise PermissionDenied [EOL] [EOL] [EOL] return function ( request , * args , ** kwargs ) [EOL] [EOL] wrap . __doc__ = function . __doc__ [EOL] wrap . __name__ = function . __name__ [EOL] return wrap [EOL] [EOL] def manejarSesion ( request , pkIn , cambiarSesion ) : [EOL] vs = None [EOL] [EOL] try : [EOL] if [string] in request . session : [comment] [EOL] vsJson = request . session [ [string] ] [EOL] vs = VicSession ( request . user . username ) [EOL] vs . setear ( vsJson ) [EOL] if cambiarSesion : [EOL] vs . cambiarTipoSesion ( pkIn ) [EOL] del request . session [ [string] ] [EOL] request . session [ [string] ] = vs . getJason ( ) [EOL] request . session . modified = True [EOL] else : [EOL] vs = VicSession ( request . user . username ) [EOL] vsJson = vs . getJason ( ) [EOL] vs . setear ( vsJson ) [EOL] pkWork = request . user . profile . u_alias [EOL] if vs . tipoSesion == VicSession . MARCA : [EOL] pkWork = vs . marcaEnUso . m_alias [EOL] vs . cambiarTipoSesion ( pkWork ) [EOL] request . session [ [string] ] = vs . getJason ( ) [EOL] request . session . modified = True [EOL] except : [EOL] return redirect ( [string] ) [EOL] [EOL] return vs	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from django . apps import AppConfig [EOL] [EOL] [EOL] class WebConfig ( AppConfig ) : [EOL] name = [string] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0
from django . test import TestCase [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
from typing import Any [EOL] import typing [EOL] from django . contrib import admin [EOL] from django . apps import apps [EOL] [EOL] [comment] [EOL] app = apps . get_app_config ( [string] ) [EOL] [EOL] for model_name , model in app . models . items ( ) : [EOL] try : [EOL] admin . site . register ( model ) [EOL] except admin . sites . AlreadyRegistered : [EOL] pass [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from typing import Any , List [EOL] import typing [EOL] from django . conf . urls import include , url [EOL] from . views import viewsGeneral , viewsDashBoards , viewsActividades , viewsScripts [EOL] from accounts . views import token [EOL] [EOL] app_name = [string] [EOL] [EOL] urlpatterns = [ url ( [string] , viewsGeneral . requerirLogon , name = [string] ) , url ( [string] , viewsGeneral . reenviarcorreo , name = [string] ) , url ( [string] , viewsGeneral . updateajax ) , url ( [string] , viewsGeneral . activacionporcorreo , name = [string] ) , url ( [string] , token , name = [string] ) , url ( [string] , viewsGeneral . registromarca ) , url ( [string] , viewsGeneral . registromarca , name = [string] ) , url ( [string] , viewsGeneral . centros , name = [string] ) , url ( [string] , viewsGeneral . crearactualizarcuentaajax , name = [string] ) , url ( [string] , viewsGeneral . crearactualizarsalaajax , name = [string] ) , url ( [string] , viewsGeneral . actualizarConfigMarca , name = [string] ) , url ( [string] , viewsGeneral . actualizarConfigAtleta , name = [string] ) , url ( [string] , viewsGeneral . acerca_de , name = [string] ) , url ( [string] , viewsGeneral . cambiarcontraajax ) , url ( [string] , viewsGeneral . clasecancelarajax ) , url ( [string] , viewsActividades . crearActividadAjax ) , url ( [string] , viewsGeneral . validarsalonajax ) , url ( [string] , viewsGeneral . cuentasajax ) , url ( [string] , viewsGeneral . editarplanajax ) , url ( [string] , viewsGeneral . forgotajax , name = [string] ) , url ( [string] , viewsGeneral . habilitarplanajax ) , url ( [string] , viewsGeneral . getplanajax ) , url ( [string] , viewsGeneral . getPlanPendientePorCobrarAjax ) , url ( [string] , viewsGeneral . instructores , name = [string] ) , url ( [string] , viewsGeneral . marcarasistenciaajax ) , url ( [string] , viewsGeneral . mostrarpagoajax ) , url ( [string] , viewsGeneral . mostrarPagoPendientePorCobrarAjax ) , url ( [string] , viewsActividades . obtenerActividadAjax ) , url ( [string] , viewsActividades . tabRecarga , name = [string] ) , url ( [string] , viewsActividades . tabPlanesCentros , name = [string] ) , url ( [string] , viewsActividades . obtenerActividadRecargaAjax ) , url ( [string] , viewsActividades . eliminarActividadAjax ) , url ( [string] , viewsActividades . suspenderActividadAjax ) , url ( [string] , viewsActividades . reactivarActividadAjax ) , url ( [string] , viewsGeneral . obtenerserieajax ) , url ( [string] , viewsGeneral . pagoajax ) , url ( [string] , viewsGeneral . pagoPorCobrarAjax ) , url ( [string] , viewsGeneral . cambiarStatusPago ) , url ( [string] , viewsGeneral . registrarusuarioajax ) , url ( [string] , viewsGeneral . agregarUsuarioExistenteAjax ) , url ( [string] , viewsGeneral . solicitudusuarioajax ) , url ( [string] , viewsGeneral . atletascentro ) , url ( [string] , viewsGeneral . confmarca , name = [string] ) , url ( [string] , viewsGeneral . confatleta , name = [string] ) , url ( [string] , viewsGeneral . atletasentrenadores , ) , url ( [string] , viewsGeneral . calendarioajax , name = [string] ) , url ( [string] , viewsGeneral . cancelarajax ) , url ( [string] , viewsActividades . clasedetail ) , url ( [string] , viewsGeneral . comprarajax ) , url ( [string] , viewsGeneral . comprar2ajax ) , url ( [string] , viewsGeneral . consumos ) , url ( [string] , viewsGeneral . cuporeservandoajax ) , url ( [string] , viewsDashBoards . dashboard , name = [string] ) , url ( [string] , viewsDashBoards . dashtableVigentes , name = [string] ) , url ( [string] , viewsDashBoards . dashtableRecientes , name = [string] ) , url ( [string] , viewsGeneral . estadoentrenadorajax ) , url ( [string] , viewsGeneral . perfilPlanesAtleta ) , url ( [string] , viewsGeneral . perfilAtletaMarca ) , url ( [string] , viewsGeneral . perfilAfiliacionesAtleta ) , url ( [string] , viewsGeneral . perfilRemuneracionesInstructor ) , url ( [string] , viewsGeneral . perfilatleta ) , url ( [string] , viewsGeneral . perfilatleta ) , url ( [string] , viewsGeneral . consumoplan ) , url ( [string] , viewsGeneral . calendario ) , url ( [string] , viewsGeneral . planesatleta ) , url ( [string] , viewsGeneral . reservandoajax ) , url ( [string] , viewsGeneral . reservandoajax ) , url ( [string] , viewsGeneral . reservarajax ) , url ( [string] , viewsGeneral . historial ) , url ( [string] , viewsGeneral . pagospendientes ) , url ( [string] , viewsGeneral . validate_refpago , name = [string] ) , url ( [string] , viewsActividades . validate_salon , name = [string] ) , url ( [string] , viewsGeneral . getReciboPagoInfo , name = [string] ) , url ( [string] , viewsGeneral . enviarCorreoIntencionCompra , name = [string] ) , url ( [string] , viewsGeneral . correoBienvenida , name = [string] ) , url ( [string] , viewsGeneral . eliminarUsuario ) , url ( [string] , viewsScripts . crearUsuariosBatch ) , url ( [string] , viewsScripts . crearUsuariosBatch ) , url ( [string] , viewsDashBoards . dashboard , name = [string] ) , url ( [string] , viewsGeneral . table_body_remuneraciones_instructor , name = [string] ) , url ( [string] , viewsGeneral . perfilmarca , name = [string] ) , url ( [string] , viewsGeneral . notificacionesAjax , name = [string] ) , url ( [string] , viewsGeneral . aceptarRechazarSolicitudAjax , name = [string] ) , url ( [string] , viewsGeneral . configuracionGeneral ) , url ( [string] , viewsGeneral . planes ) , url ( [string] , viewsGeneral . salas ) , url ( [string] , viewsGeneral . cuentas ) , url ( [string] , viewsGeneral . gestionarPlanes ) , url ( [string] , viewsGeneral . gestionarSalas ) , url ( [string] , viewsGeneral . gestionarCuentas ) , url ( [string] , viewsGeneral . estadodecuenta ) , url ( [string] , viewsGeneral . table_body_estado_cuenta , name = [string] ) , url ( [string] , viewsGeneral . activarDesactivarCuentaAjax ) , url ( [string] , viewsGeneral . table_body_planes_atleta , name = [string] ) , url ( [string] , viewsGeneral . subirAvatar ) , url ( [string] , viewsDashBoards . calendarioAtleta , name = [string] ) , url ( [string] , viewsDashBoards . calendarioAtleta , name = [string] ) , url ( [string] , viewsDashBoards . calendarioMarca , name = [string] ) , url ( [string] , viewsDashBoards . calendarioMarca , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesAtleta ) , url ( [string] , viewsGeneral . perfilActividadesAtleta , name = [string] ) , url ( [string] , viewsGeneral . carruselMisActividades , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesInstructor ) , url ( [string] , viewsGeneral . perfilActividadesInstructor , name = [string] ) , url ( [string] , viewsGeneral . instructordetail ) , url ( [string] , viewsGeneral . perfilActividadesMarca , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesMarcaPorAtleta , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesAtletaPerfil , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesAtletaPerfil , name = [string] ) , url ( [string] , viewsGeneral . perfilPlanesAtletaPerfil , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesInstructorPerfil , name = [string] ) , url ( [string] , viewsGeneral . perfilActividadesInstructorPerfil , name = [string] ) , url ( [string] , viewsGeneral . perfilRemuneracionesInstructorPerfil , name = [string] ) , url ( [string] , viewsGeneral . contactos , name = [string] ) , ]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 $typing.List[typing.Any]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
	0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Dict [EOL] import typing [EOL] import web [EOL] import datetime [EOL] from . models import * [EOL] from datetime import datetime [EOL] from . clases import * [EOL] [EOL] [EOL] def update_activities ( ) : [EOL] [comment] [EOL] revisarActividadesConflictivas ( ) [EOL] hoy = datetime . today ( ) [EOL] sietedias = hoy + timedelta ( days = [number] ) [EOL] haceUnMes = hoy - timedelta ( days = [number] ) [EOL] actividades = Actividad . objects . filter ( ac_fecha__gte = haceUnMes , ac_fecha__lte = sietedias ) [EOL] for a in actividades : [EOL] actualizar_cupos ( a ) [EOL] irreversible = hoy + timedelta ( minutes = a . ac_marca . m_est_irrev ) [EOL] reversible = hoy + timedelta ( days = a . ac_marca . m_est_rrev ) [EOL] ini = datetime . combine ( a . ac_fecha , a . ac_hora_ini ) [EOL] fin = datetime . combine ( a . ac_fecha , a . ac_hora_fin ) [EOL] [EOL] if a . ac_estado . ea_estado not in [ [string] , [string] ] : [EOL] if ini > reversible : [EOL] a . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] elif ini > irreversible and ini <= reversible : [EOL] a . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] elif ini > hoy and ini <= irreversible : [EOL] a . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] elif ini <= hoy and fin > hoy : [EOL] a . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] cobrar ( a ) [EOL] else : [EOL] a . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] cobrar ( a ) [EOL] a . save ( ) [EOL] return [EOL] [EOL] def revisarActividadesConflictivas ( ) : [EOL] from . views . viewsActividades import encuentraConflictosEnActividad [EOL] mf = ManejoFechas ( ) [EOL] mn = ManejoNotificaciones ( ) [EOL] hoy = datetime . today ( ) [EOL] actividadesConflictivas = Actividad . objects . filter ( ac_estado = [string] , ac_fecha__gte = hoy . date ( ) ) [EOL] for actividad in actividadesConflictivas : [EOL] ini = datetime . combine ( actividad . ac_fecha , actividad . ac_hora_ini ) [EOL] if ini > hoy : [EOL] conflictos = encuentraConflictosEnActividad ( actividad ) [EOL] if conflictos : [EOL] if not conflictos [ [number] ] and not conflictos [ [number] ] : [EOL] actividad . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] actividad . save ( ) [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = actividad . ac_nombre [EOL] texto [ [string] ] = mf . fechaCorta ( actividad . ac_fecha ) + [string] + mf . horaCivil ( actividad . ac_hora_ini ) [EOL] texto [ [string] ] = actividad . ac_instructor . u_user . first_name + [string] + actividad . ac_instructor . u_user . last_name [EOL] texto [ [string] ] = [string] [EOL] dueno = Dueno . objects . get ( d_marca = actividad . ac_marca ) [EOL] mn . marca_informa_marca ( dueno . d_user , actividad . ac_marca , texto , [string] ) [EOL] [EOL] return [EOL] def arregloBD ( ) : [EOL] from . views . viewsGeneral import setearPlanReferenciado [EOL] listaDuenos = Dueno . objects . filter ( ) [EOL] for dueno in listaDuenos : [EOL] marca = Marca . objects . get ( id = dueno . d_marca_id ) [EOL] if marca . m_permite_referenciados : [EOL] planReferenciado = Planes . objects . filter ( p_marca_id = marca . id , p_usuario_id = dueno . d_user . id , p_tipo = [number] ) [EOL] if planReferenciado : [EOL] pass [EOL] else : [EOL] pa = PerfilAtleta ( dueno . d_user . profile . u_alias ) [EOL] pm = PerfilMarca ( marca . m_alias ) [EOL] setearPlanReferenciado ( pa , pm ) [EOL] return [EOL] [EOL] def actualizar_cupos ( actividad ) : [EOL] participantes = Participantes . objects . filter ( pa_actividad_id = actividad . id ) . count ( ) [EOL] esperas = Espera . objects . filter ( es_actividad_id = actividad . id ) . count ( ) [EOL] if actividad . ac_cupos_reservados != participantes or actividad . ac_cupos_en_espera != esperas : [EOL] actividad . ac_cupos_reservados = participantes [EOL] actividad . ac_cupos_en_espera = esperas [EOL] actividad . save ( ) [EOL] [EOL] def actualizar_planes_tokens ( ) : [EOL] caducarplanes ( ) [EOL] borrartokens ( ) [EOL] [EOL] def cobrar ( actividad ) : [EOL] participantes = Participantes . objects . filter ( pa_actividad = actividad ) [EOL] for p in participantes : [EOL] p . pa_cobrado = True [EOL] p . save ( ) [EOL] espera = Espera . objects . filter ( es_actividad = actividad ) [EOL] for e in espera : [EOL] pa = PerfilActividad ( actividad . id ) [EOL] atletaId = e . es_usuario . id [EOL] marcaId = pa . actividadMarca . id [EOL] vicsafe = VicSafe ( atletaId , marcaId , None ) [EOL] pa = PerfilActividad ( actividad . id ) [EOL] strReturn = vicsafe . registrar_reintegro_por_no_participacion ( pa ) [EOL] [EOL] def caducarplanes ( ) : [EOL] planes = Planes . objects . filter ( p_historico = False ) [EOL] for plan in planes : [EOL] if plan . p_fecha_caducidad < datetime . today ( ) or ( plan . p_creditos_usados >= plan . p_creditos_totales and plan . p_tipo == [number] ) or ( plan . p_creditos_usados >= plan . p_creditos_totales and plan . p_tipo == [number] ) : [EOL] marcaId = plan . p_marca_id [EOL] atletaId = plan . p_usuario_id [EOL] planId = plan . id [EOL] vicsafe = VicSafe ( atletaId , marcaId , None ) [EOL] strReturn = vicsafe . registrar_desactivacion_plan ( planId ) [EOL] if strReturn == [string] : [EOL] if plan . p_fecha_caducidad < datetime . today ( ) : [EOL] [comment] [EOL] mn = ManejoNotificaciones ( ) [EOL] texto = { } [EOL] texto [ [string] ] = plan . p_nombre [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atletaId ) , plan . p_marca , texto , [string] ) [EOL] else : [EOL] [comment] [EOL] mn = ManejoNotificaciones ( ) [EOL] texto = { } [EOL] texto [ [string] ] = plan . p_nombre [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atletaId ) , plan . p_marca , texto , [string] ) [EOL] [EOL] [EOL] def borrartokens ( ) : [EOL] tokens = Token . objects . filter ( u_data = True ) [EOL] for t in tokens : [EOL] t . delete ( ) [EOL] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from django . shortcuts import render [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Dict , List [EOL] import typing [EOL] import web [EOL] import datetime [EOL] from web . crons import * [EOL] from web . clases import * [EOL] from django . contrib . auth . decorators import login_required [EOL] from django . core . mail import send_mail [EOL] from django . http import HttpResponse [EOL] from django . shortcuts import render , redirect , get_object_or_404 [EOL] import json [EOL] from accounts . views import manejarSesion [EOL] [EOL] from django . http import JsonResponse [EOL] from web . templatetags . filtrosEspeciales import * [EOL] from django . core import serializers [EOL] from web . views . viewsGeneral import actualizaBaseEnSerie [EOL] [EOL] from django . db import transaction [EOL] from django . contrib import messages [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def validate_salon ( request ) : [EOL] try : [EOL] salonIdIn = int ( request . GET . get ( [string] , None ) ) [EOL] except : [EOL] salonIdIn = None [EOL] try : [EOL] capacidad = Salon . objects . get ( id = salonIdIn ) . s_capacidad [EOL] overflow = Salon . objects . get ( id = salonIdIn ) . s_overflow [EOL] except : [EOL] capacidad = [number] [EOL] overflow = [number] [EOL] data = { [string] : capacidad , [string] : overflow , } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def obtenerActividadAjax ( request ) : [EOL] actividadIn = request . GET [ [string] ] [EOL] actividad = Actividad . objects . get ( id = int ( actividadIn ) ) [EOL] disciplina = serializers . serialize ( [string] , [ Disciplina . objects . get ( id = actividad . ac_disciplina_id ) ] ) [EOL] if actividad . ac_instructor_id == [number] or actividad . ac_instructor_id == None : [EOL] instructor = [number] [EOL] else : [EOL] instructor = serializers . serialize ( [string] , [ UserProfile . objects . get ( id = actividad . ac_instructor_id ) ] ) [EOL] if actividad . ac_salon_id == [number] or actividad . ac_salon_id == None : [EOL] salon = [number] [EOL] else : [EOL] salon = serializers . serialize ( [string] , [ Salon . objects . get ( id = actividad . ac_salon_id ) ] ) [EOL] marca = serializers . serialize ( [string] , [ Marca . objects . get ( id = actividad . ac_marca_id ) ] ) [EOL] [EOL] if ( actividad . ac_OpcionSerie == [string] ) : [EOL] ultimaActividadSerie = serializers . serialize ( [string] , [ Actividad . objects . filter ( ac_actividadBaseSerieId = actividad . ac_actividadBaseSerieId ) . order_by ( [string] ) [ : [number] ] . get ( ) ] ) [EOL] else : [EOL] ultimaActividadSerie = serializers . serialize ( [string] , [ Actividad . objects . get ( id = int ( actividadIn ) ) ] ) [EOL] [EOL] if ( actividad . ac_OpcionSerie == [string] ) : [EOL] cantidadEnSerie = Actividad . objects . filter ( ac_actividadBaseSerieId = actividad . ac_actividadBaseSerieId , id__gte = actividad . id ) . count ( ) [EOL] else : [EOL] cantidadEnSerie = [number] [EOL] [EOL] instructoresReservados = [ ] [EOL] salonesReservados = [ ] [EOL] [EOL] if Participantes . objects . filter ( pa_actividad_id = actividad . id ) : [EOL] [EOL] actividadId = actividad . id [EOL] fecha = actividad . ac_fecha [EOL] hora_iniIn = actividad . ac_hora_ini [EOL] hora_finIn = actividad . ac_hora_fin [EOL] marca_in = actividad . ac_marca [EOL] [EOL] actividadesSolapadas1 = Actividad . objects . filter ( ac_marca = marca_in , ac_fecha = fecha , ac_estado_id__in = TipoEstatus ( ) . tipoTodas , ac_hora_ini__lte = hora_iniIn , ac_hora_fin__gt = hora_iniIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesSolapadas2 = Actividad . objects . filter ( ac_marca = marca_in , ac_fecha = fecha , ac_estado_id__in = TipoEstatus ( ) . tipoTodas , ac_hora_ini__lt = hora_finIn , ac_hora_fin__gte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesSolapadas3 = Actividad . objects . filter ( ac_marca = marca_in , ac_fecha = fecha , ac_estado_id__in = TipoEstatus ( ) . tipoTodas , ac_hora_ini__gte = hora_iniIn , ac_hora_fin__lte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesSolapadas = actividadesSolapadas1 | actividadesSolapadas2 | actividadesSolapadas3 [EOL] [EOL] for actividadSolapada in actividadesSolapadas : [EOL] instructoresReservados . append ( actividadSolapada . ac_instructor . id ) [EOL] salonesReservados . append ( actividadSolapada . ac_salon_id ) [EOL] [EOL] actividad = serializers . serialize ( [string] , [ Actividad . objects . get ( id = int ( actividadIn ) ) ] ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ actividad , ultimaActividadSerie , disciplina , instructor , salon , marca , cantidadEnSerie , instructoresReservados , salonesReservados ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def obtenerActividadRecargaAjax ( request ) : [EOL] actividadId = request . GET [ [string] ] [EOL] pa = PerfilActividad ( actividadId ) [EOL] pm = PerfilMarca ( pa . actividadAliasMarca ) [EOL] productosPermitidos = [ ] [EOL] if pa . actividadProductosPermitidos : [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True , id__in = pa . actividadProductosPermitidos ) [EOL] else : [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True ) [EOL] for producto in productos : [EOL] productosPermitidos . append ( { [string] : producto . p_nombre , [string] : bolivares ( producto . p_precio ) , [string] : formatoPorcentaje ( producto . p_descuento ) , [string] : producto . p_creditos , [string] : producto . p_duracion_meses } ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ pm . marcaNombre , pm . marcaRazonSocial , pm . marcaRif , pm . marcaCuentasBancarias , productosPermitidos , pm . marcaTelefono1 , pm . marcaTelefono2 , pm . marcaCorreo ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def tabRecarga ( request ) : [EOL] actividadId = request . GET [ [string] ] [EOL] pa = PerfilActividad ( actividadId ) [EOL] pm = PerfilMarca ( pa . actividadAliasMarca ) [EOL] productosPermitidos = [ ] [EOL] if pa . actividadProductosPermitidos : [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True , id__in = pa . actividadProductosPermitidos ) . exclude ( p_tipo = [number] ) [EOL] else : [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True ) . exclude ( p_tipo = [number] ) [EOL] for producto in productos : [EOL] productosPermitidos . append ( { [string] : producto . p_nombre , [string] : bolivares ( producto . p_precio ) , [string] : formatoPorcentaje ( producto . p_descuento ) , [string] : producto . p_creditos , [string] : producto . p_duracion_meses , [string] : producto . id , } ) [EOL] return render ( request , [string] , { [string] : pm , [string] : pa , [string] : productosPermitidos , [string] : request . user . username , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def tabPlanesCentros ( request ) : [EOL] marcaId = request . GET [ [string] ] [EOL] marca = Marca . objects . get ( id = marcaId ) [EOL] pm = PerfilMarca ( marca . m_alias ) [EOL] productosPermitidos = [ ] [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True ) . exclude ( p_tipo = [number] ) [EOL] for producto in productos : [EOL] productosPermitidos . append ( { [string] : producto . p_nombre , [string] : bolivares ( producto . p_precio ) , [string] : formatoPorcentaje ( producto . p_descuento ) , [string] : producto . p_creditos , [string] : producto . p_duracion_meses , [string] : producto . id , } ) [EOL] return render ( request , [string] , { [string] : pm , [string] : productosPermitidos , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def clasedetail ( request , pk , pka ) : [EOL] actividad = Actividad . objects . get ( id = pka ) [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pa = PerfilActividad ( pka ) [EOL] ids = Relacion . objects . values_list ( [string] , flat = True ) . filter ( r_marca__m_alias = pa . actividadAliasMarca , r_entrenador = True ) [EOL] instructores = UserProfile . objects . filter ( u_user__pk__in = set ( ids ) ) [EOL] perfilMarca = PerfilMarca ( pa . actividadAliasMarca ) [EOL] [EOL] if pa . actividadEstado == [string] : [EOL] tupleConflictos = encuentraConflictosEnActividad ( actividad ) [EOL] conflictos = preparaDiccionarioDeConflictos ( actividad , tupleConflictos [ [number] ] , tupleConflictos [ [number] ] , tupleConflictos [ [number] ] , tupleConflictos [ [number] ] ) [EOL] else : [EOL] conflictos = None [EOL] [EOL] return render ( request , [string] , { [string] : pa , [string] : Disciplina . objects . all ( ) , [string] : Salon . objects . filter ( s_marca__m_alias = pa . actividadAliasMarca ) , [string] : instructores , [string] : vs , [string] : perfilMarca , [string] : conflictos , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def crearActividadAjax ( request ) : [EOL] diasTipoSMIn = [string] [EOL] fechaIn = request . GET [ [string] ] [EOL] fechaCheck = datetime . strptime ( fechaIn , [string] ) . date ( ) [EOL] [comment] [EOL] [comment] [EOL] horaCheck = datetime . strptime ( [string] , [string] ) . time ( ) [EOL] fechaHoraCheck = datetime . combine ( fechaCheck , horaCheck ) [EOL] if fechaHoraCheck < datetime . today ( ) : [EOL] mensaje = [string] [EOL] print ( mensaje ) [EOL] opcion = - [number] [EOL] return HttpResponse ( json . dumps ( [ opcion , [number] , { } ] ) , content_type = [string] ) [EOL] serieIn = request . GET [ [string] ] [EOL] actividadId = request . GET [ [string] ] [EOL] [EOL] marcaIn = request . GET [ [string] ] [EOL] pm = PerfilMarca ( Marca . objects . get ( id = marcaIn ) . m_alias ) [EOL] [EOL] actividadBaseSerieId = int ( request . GET [ [string] ] ) [EOL] productosPermitidosIn = str ( request . GET [ [string] ] ) . split ( [string] ) [EOL] productosPermitidos = [ ] [EOL] [EOL] if [string] in request . GET : [EOL] planReferenciadoIn = request . GET [ [string] ] [EOL] else : [EOL] planReferenciadoIn = None [EOL] [EOL] if planReferenciadoIn == [string] : [EOL] productosPermitidos . append ( pm . marcaProductoTipoReferenciado . id ) [EOL] [EOL] for productoPermitido in productosPermitidosIn : [EOL] if int ( productoPermitido ) > [number] : [EOL] productosPermitidos . append ( int ( productoPermitido ) ) [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if actividadBaseSerieId > [number] : [EOL] actividadVieja = Actividad . objects . get ( pk = actividadId ) [EOL] diasTipoSMIn = actividadVieja . ac_patron_repeticion_semanal [EOL] diasTipoSMIn = diasTipoSMIn . replace ( [string] , [string] ) . replace ( [string] , [string] ) . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] diasTipoSMIn = diasTipoSMIn . replace ( [string] , [string] ) . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] if ( serieIn == [string] ) : [EOL] updateActividad = True [EOL] actividadBaseSerieId = actividadVieja . id [EOL] ultimaFechaSerie = None [EOL] else : [EOL] updateActividad = False [EOL] ultimaFechaSerie = Actividad . objects . filter ( ac_actividadBaseSerieId = int ( actividadBaseSerieId ) ) . order_by ( [string] ) [ [number] ] . ac_fecha [EOL] eliminarActividades ( fechaIn , actividadBaseSerieId ) [EOL] else : [EOL] updateActividad = False [EOL] ultimaFechaSerie = None [EOL] [EOL] hora_iniIn = request . GET [ [string] ] [EOL] hora_finIn = request . GET [ [string] ] [EOL] instructorIn = request . GET [ [string] ] [EOL] marcaCorreo = Marca . objects . get ( id = int ( request . GET [ [string] ] ) ) . m_correo [EOL] if ( instructorIn == [string] or instructorIn == [string] ) : [EOL] instructorIn = [number] [EOL] else : [EOL] instructorIn = int ( request . GET [ [string] ] ) [EOL] colaborador1In = request . GET [ [string] ] [EOL] if ( colaborador1In == [string] or colaborador1In == [string] ) : [EOL] colaborador1In = [number] [EOL] else : [EOL] colaborador1In = int ( colaborador1In ) [EOL] colaborador2In = request . GET [ [string] ] [EOL] if ( colaborador2In == [string] or colaborador2In == [string] ) : [EOL] colaborador2In = [number] [EOL] else : [EOL] colaborador2In = int ( colaborador2In ) [EOL] disciplinaIn = request . GET [ [string] ] [EOL] descripcionIn = request . GET [ [string] ] [EOL] nombreIn = request . GET [ [string] ] [EOL] minIn = request . GET [ [string] ] [EOL] if minIn == [string] or minIn == [string] : [EOL] minIn = [number] [EOL] maxIn = request . GET [ [string] ] [EOL] if maxIn == [string] or maxIn == [string] : [EOL] maxIn = [number] [EOL] esperaIn = request . GET [ [string] ] [EOL] if esperaIn == [string] or esperaIn == [string] : [EOL] esperaIn = [number] [EOL] dificultadIn = request . GET [ [string] ] [EOL] instruccionesIn = request . GET [ [string] ] [EOL] salaIn = request . GET [ [string] ] [EOL] if ( salaIn == [string] or salaIn == [string] ) : [EOL] salaIn = [number] [EOL] maxIn = [number] [EOL] minIn = [number] [EOL] esperaIn = [number] [EOL] inversionIn = request . GET [ [string] ] [EOL] if inversionIn == [string] : [EOL] inversionIn = [string] [EOL] inversionIn = inversionIn . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] [EOL] costoIn = request . GET [ [string] ] [EOL] [EOL] bonificacionIn = request . GET [ [string] ] [EOL] if ( bonificacionIn == [string] ) : [EOL] bonificacionIn = [string] [EOL] bonificacionIn = bonificacionIn . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] repetirComoIn = request . GET [ [string] ] [EOL] if not diasTipoSMIn : [EOL] diasTipoSMIn = request . GET [ [string] ] [EOL] if diasTipoSMIn : [EOL] diasTipoSM = diasTipoSMIn . split ( [string] ) [EOL] diasTipoSM = [ x for x in diasTipoSM if x != [string] ] [EOL] else : [EOL] diasTipoSM = None [EOL] nuncaIn = request . GET [ [string] ] [EOL] if nuncaIn == [string] : [EOL] nuncaIn = [string] [EOL] else : [EOL] nuncaIn = [string] [EOL] doIn = request . GET [ [string] ] [EOL] if doIn == [string] : [EOL] doIn = [string] [EOL] despdIn = request . GET [ [string] ] [EOL] if despdIn == [string] : [EOL] despdIn = [string] [EOL] else : [EOL] despdIn = [string] [EOL] fdespIn = request . GET [ [string] ] [EOL] [EOL] if repetirComoIn : [EOL] if fdespIn or doIn != [string] : [EOL] pass [EOL] else : [EOL] opcion = [number] [EOL] return HttpResponse ( json . dumps ( [ opcion , [number] , { } ] ) , content_type = [string] ) [EOL] [EOL] if pm . marcaProductoTipoReferenciado : [EOL] if pm . marcaProductoTipoReferenciado . id in productosPermitidos : [EOL] actividadReferenciada = True [EOL] else : [EOL] actividadReferenciada = False [EOL] else : [EOL] actividadReferenciada = False [EOL] enfIn = request . GET [ [string] ] [EOL] if enfIn == [string] : [EOL] enfIn = [string] [EOL] else : [EOL] enfIn = [string] [EOL] if fdespIn : [EOL] enfIn = [string] [EOL] fechas = determinarFechas ( fechaIn , serieIn , nuncaIn , doIn , despdIn , fdespIn , repetirComoIn , diasTipoSM ) [EOL] conflictosSalas = [ ] [EOL] conflictosInstructores = [ ] [EOL] conflictosColaborador1 = [ ] [EOL] conflictosColaborador2 = [ ] [EOL] [EOL] padreSerie = False [EOL] padreSerieId = [number] [EOL] [EOL] hayConflictos = False [EOL] [EOL] for fecha in fechas : [EOL] [EOL] if ultimaFechaSerie : [EOL] if fecha > ultimaFechaSerie : [EOL] continue [EOL] if updateActividad : [EOL] oActividad = actividadVieja [EOL] diasTipoSMIn = [string] [EOL] repetirComoIn = [string] [EOL] oActividad . ac_patron_repeticion_semanal = diasTipoSMIn [EOL] padreSerie = True [EOL] padreSerieId = actividadBaseSerieId [EOL] else : [EOL] oActividad = Actividad ( ) [EOL] oActividad . ac_patron_repeticion_semanal = diasTipoSMIn . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] oActividad . ac_patron_repeticion_semanal = oActividad . ac_patron_repeticion_semanal . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] oActividad . ac_patron_repeticion_semanal = oActividad . ac_patron_repeticion_semanal . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] oActividad . ac_patron_repeticion_semanal = oActividad . ac_patron_repeticion_semanal . replace ( [string] , [string] ) . replace ( [string] , [string] ) [EOL] [EOL] oActividad . ac_nombre = nombreIn [EOL] oActividad . ac_productos_permitidos = productosPermitidos [EOL] oActividad . ac_fecha = fecha [EOL] oActividad . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] oActividad . ac_hora_ini = datetime . strptime ( hora_iniIn , [string] ) . time ( ) [EOL] oActividad . ac_hora_fin = datetime . strptime ( hora_finIn , [string] ) . time ( ) [EOL] if ( oActividad . ac_fecha == datetime . now ( ) . date ( ) ) : [EOL] if ( oActividad . ac_hora_ini < datetime . now ( ) . time ( ) ) : [EOL] oActividad = None [EOL] opcion = [number] [EOL] continue [EOL] oActividad . ac_descripcion = descripcionIn [EOL] oActividad . ac_cap_max = int ( maxIn ) [EOL] oActividad . ac_cap_min = int ( minIn ) [EOL] oActividad . ac_cap_max_espera = int ( esperaIn ) [EOL] oActividad . ac_precio = float ( inversionIn ) [EOL] oActividad . ac_creditos = int ( costoIn ) [EOL] oActividad . ac_disciplina_id = int ( disciplinaIn ) [EOL] oActividad . ac_actividadBaseSerieId = padreSerieId [EOL] if not updateActividad : [EOL] oActividad . ac_OpcionSerie = serieIn [EOL] oActividad . ac_nunca = nuncaIn [EOL] oActividad . ac_repetirComo = repetirComoIn [EOL] oActividad . ac_despd = despdIn [EOL] oActividad . ac_do = int ( doIn ) [EOL] oActividad . ac_enf = enfIn [EOL] if type ( fdespIn ) is unicode : [EOL] if ( fdespIn == [string] ) : [EOL] oActividad . ac_fdesp = fecha [EOL] else : [EOL] try : [EOL] fdespIn = datetime . strptime ( fdespIn , [string] ) . date ( ) [EOL] except : [EOL] fdespIn = datetime . strptime ( fdespIn , [string] ) . date ( ) [EOL] oActividad . ac_fdesp = fdespIn [EOL] else : [EOL] oActividad . ac_fdesp = fdespIn [EOL] [EOL] if updateActividad : [EOL] actualizaBaseEnSerie ( actividadVieja ) [EOL] oActividad . ac_actividadBaseSerieId = actividadBaseSerieId [EOL] oActividad . ac_OpcionSerie = [string] [EOL] oActividad . ac_repetirComo = [string] [EOL] oActividad . ac_despd = [string] [EOL] oActividad . ac_do = [number] [EOL] oActividad . ac_enf = [string] [EOL] oActividad . ac_fdesp = oActividad . ac_fecha [EOL] [EOL] oActividad . ac_instructor_id = instructorIn [EOL] oActividad . ac_colaborador1 = int ( colaborador1In ) [EOL] oActividad . ac_colaborador2 = int ( colaborador1In ) [EOL] oActividad . ac_salon_id = int ( salaIn ) [EOL] [EOL] oActividad . ac_marca_id = int ( marcaIn ) [EOL] oActividad . ac_bono = float ( bonificacionIn ) [EOL] oActividad . ac_intensidad = int ( dificultadIn ) [EOL] oActividad . ac_instrucciones = instruccionesIn [EOL] if oActividad . ac_salon_id == [number] : [EOL] oActividad . ac_salon_id = None [EOL] if oActividad . ac_instructor_id == [number] : [EOL] oActividad . ac_instructor_id = None [EOL] [EOL] oActividad . ac_referenciado = actividadReferenciada [EOL] [EOL] huboCambios = False [EOL] [EOL] if updateActividad : [EOL] fieldsNuevos = oActividad . __dict__ [EOL] fieldsViejos = Actividad . objects . get ( pk = actividadId ) . __dict__ [EOL] for field , value in fieldsViejos . items ( ) : [EOL] if [string] in field : [EOL] if fieldsNuevos [ field ] != value : [EOL] if [string] not in field : [EOL] huboCambios = True [EOL] break [EOL] [EOL] try : [EOL] [EOL] if huboCambios or not updateActividad : [EOL] oActividad . save ( ) [EOL] [EOL] if ( salaIn != [number] ) : [EOL] conflictoSala = determinarConflictosSalas ( salaIn , fecha , hora_iniIn , hora_finIn , oActividad . id ) [EOL] if conflictoSala : [EOL] conflictosSalas += conflictoSala [EOL] else : [EOL] conflictoSala = None [EOL] [EOL] if ( instructorIn != [number] ) : [EOL] conflictoInstructor = determinarConflictosInstructores ( instructorIn , fecha , hora_iniIn , hora_finIn , oActividad . id ) [EOL] if conflictoInstructor : [EOL] conflictosInstructores += conflictoInstructor [EOL] else : [EOL] conflictoInstructor = None [EOL] [EOL] if ( colaborador1In != [number] ) : [EOL] conflictoColaborador1 = determinarConflictosColaborador1 ( colaborador1In , fecha , hora_iniIn , hora_finIn , oActividad . id ) [EOL] if conflictoColaborador1 : [EOL] conflictosColaborador1 += conflictoColaborador1 [EOL] else : [EOL] conflictoColaborador1 = None [EOL] [EOL] if ( colaborador2In != [number] ) : [EOL] conflictoColaborador2 = determinarConflictosColaborador2 ( colaborador2In , fecha , hora_iniIn , hora_finIn , oActividad . id ) [EOL] if conflictoColaborador2 : [EOL] conflictosColaborador2 += conflictoColaborador2 [EOL] else : [EOL] conflictoColaborador2 = None [EOL] [EOL] [comment] [EOL] conflictoColaborador1 = None [EOL] conflictoColaborador2 = None [EOL] [EOL] if ( conflictoSala or conflictoInstructor or conflictoColaborador1 or conflictoColaborador2 ) : [EOL] oActividad . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] hayConflictos = True [EOL] [EOL] [EOL] if padreSerie == False : [EOL] padreSerieId = Actividad . objects . filter ( ) . order_by ( [string] ) [ [number] ] . id [EOL] padreSerie = True [EOL] [EOL] oActividad . ac_actividadBaseSerieId = padreSerieId [EOL] oActividad . save ( ) [EOL] [EOL] [comment] [EOL] mn = ManejoNotificaciones ( ) [EOL] mf = ManejoFechas ( ) [EOL] pa = PerfilActividad ( oActividad . id ) [EOL] for atleta in pa . actividadParticipantes ( ) : [EOL] texto = { } [EOL] texto [ [string] ] = pa . actividadNombre [EOL] texto [ [string] ] = mf . fechaCorta ( pa . actividadFecha ) + [string] + mf . horaCivil ( pa . actividadHoraInicio ) [EOL] texto [ [string] ] = pa . actividadNombreInstructor [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atleta [ [string] ] ) , pa . actividadMarca , texto , [string] ) [EOL] [EOL] else : [EOL] opcion = [number] [EOL] return HttpResponse ( json . dumps ( [ opcion , oActividad . ac_actividadBaseSerieId , [ ] ] ) , content_type = [string] ) [EOL] [EOL] except Exception as e : [EOL] mensaje = [string] + str ( e ) [EOL] print ( mensaje ) [EOL] opcion = - [number] [EOL] [EOL] if updateActividad : [EOL] if hayConflictos : [EOL] if ( actividadBaseSerieId == [number] ) : [EOL] opcion = [number] [EOL] else : [EOL] opcion = [number] [EOL] else : [EOL] if ( actividadBaseSerieId == [number] ) : [EOL] opcion = [number] [EOL] else : [EOL] opcion = [number] [EOL] else : [EOL] if hayConflictos : [EOL] if ( actividadBaseSerieId == [number] ) : [EOL] opcion = [number] [EOL] else : [EOL] opcion = [number] [EOL] else : [EOL] if ( actividadBaseSerieId == [number] ) : [EOL] opcion = [number] [EOL] else : [EOL] opcion = [number] [EOL] [EOL] update_activities ( ) [EOL] [EOL] try : [EOL] nombreSala = Salon . objects . get ( id = int ( salaIn ) ) . s_nombre [EOL] except : [EOL] nombreSala = [string] [EOL] [EOL] try : [EOL] nombreInstructor = User . objects . get ( id = UserProfile . objects . get ( id = int ( instructorIn ) ) . u_user_id ) . first_name + [string] + User . objects . get ( id = UserProfile . objects . get ( id = int ( instructorIn ) ) . u_user_id ) . last_name [EOL] except : [EOL] nombreInstructor = [string] [EOL] [EOL] try : [EOL] nombreColaborador1 = User . objects . get ( id = UserProfile . objects . get ( id = int ( colaborador1In ) ) . u_user_id ) . first_name + [string] + User . objects . get ( id = UserProfile . objects . get ( id = int ( colaborador1In ) ) . u_user_id ) . last_name [EOL] except : [EOL] nombreColaborador1 = [string] [EOL] [EOL] try : [EOL] nombreColaborador2 = User . objects . get ( id = UserProfile . objects . get ( id = int ( colaborador2In ) ) . u_user_id ) . first_name + [string] + User . objects . get ( id = UserProfile . objects . get ( id = int ( colaborador2In ) ) . u_user_id ) . last_name [EOL] except : [EOL] nombreColaborador2 = [string] [EOL] [EOL] conflictos = [ ] [EOL] if conflictosSalas : [EOL] for fecha , horas , actividad , localizador in conflictosSalas : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreSala + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosInstructores : [EOL] for fecha , horas , actividad , localizador in conflictosInstructores : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreInstructor + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosColaborador1 : [EOL] for fecha , horas , actividad , localizador in conflictosColaborador1 : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreColaborador1 + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosColaborador2 : [EOL] for fecha , horas , actividad , localizador in conflictosColaborador2 : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreColaborador2 + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] [EOL] try : [EOL] return HttpResponse ( json . dumps ( [ opcion , oActividad . ac_actividadBaseSerieId , conflictos ] ) , content_type = [string] ) [EOL] except : [EOL] return HttpResponse ( json . dumps ( [ opcion , [number] ] ) , content_type = [string] ) [EOL] except Exception as ex : [EOL] messages . error ( request , [string] ) [EOL] return HttpResponse ( json . dumps ( [ - [number] , - [number] ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def eliminarActividadAjax ( request ) : [EOL] fechaActividadIn = request . GET [ [string] ] [EOL] fecha = datetime . strptime ( fechaActividadIn , [string] ) . date ( ) [EOL] elimTipoIn = request . GET [ [string] ] [EOL] actividadId = int ( request . GET [ [string] ] ) [EOL] actividad = Actividad . objects . get ( id = actividadId ) [EOL] actividadBaseSerieId = actividad . ac_actividadBaseSerieId [EOL] [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if elimTipoIn == [string] : [EOL] Actividad . objects . filter ( ac_actividadBaseSerieId = int ( actividadBaseSerieId ) , ac_fecha__gte = fecha ) . delete ( ) [EOL] opcion = [number] [EOL] else : [EOL] Actividad . objects . filter ( id = actividadId ) . delete ( ) [EOL] opcion = [number] [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] opcion = - [number] [EOL] return HttpResponse ( json . dumps ( [ opcion ] ) , content_type = [string] ) [EOL] [EOL] @ login_required ( login_url = [string] ) def reactivarActividadAjax ( request ) : [EOL] actividadId = int ( request . GET [ [string] ] ) [EOL] actividad = Actividad . objects . get ( id = actividadId ) [EOL] actividad . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] try : [EOL] actividad . save ( ) [EOL] update_activities ( ) [EOL] opcion = [number] [EOL] except : [EOL] opcion = [number] [EOL] return HttpResponse ( json . dumps ( [ opcion ] ) , content_type = [string] ) [EOL] [EOL] @ login_required ( login_url = [string] ) def suspenderActividadAjax ( request ) : [EOL] pk = request . user . profile . u_alias [EOL] vs = manejarSesion ( request , pk , False ) [EOL] actividadId = int ( request . GET [ [string] ] ) [EOL] pa = PerfilActividad ( actividadId ) [EOL] todoOk = True [EOL] mn = ManejoNotificaciones ( ) [EOL] mf = ManejoFechas ( ) [EOL] for atleta in pa . actividadEsperas ( ) : [EOL] vicsafe = VicSafe ( atleta [ [string] ] , vs . marcaEnUsoId , vs ) [EOL] strReturn = vicsafe . registrar_reintegro_por_suspension ( pa ) [EOL] if strReturn != [string] : [EOL] todoOk = False [EOL] else : [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = pa . actividadNombre [EOL] texto [ [string] ] = mf . fechaCorta ( pa . actividadFecha ) + [string] + mf . horaCivil ( pa . actividadHoraInicio ) [EOL] texto [ [string] ] = pa . actividadNombreInstructor [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atleta [ [string] ] ) , pa . actividadMarca , texto , [string] ) [EOL] for atleta in pa . actividadParticipantes ( ) : [EOL] vicsafe = VicSafe ( atleta [ [string] ] , vs . marcaEnUsoId , vs ) [EOL] strReturn = vicsafe . registrar_reintegro_por_suspension ( pa ) [EOL] if strReturn != [string] : [EOL] todoOk = False [EOL] else : [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = pa . actividadNombre [EOL] texto [ [string] ] = mf . fechaCorta ( pa . actividadFecha ) + [string] + mf . horaCivil ( pa . actividadHoraInicio ) [EOL] texto [ [string] ] = pa . actividadNombreInstructor [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atleta [ [string] ] ) , pa . actividadMarca , texto , [string] ) [EOL] [EOL] actividad = Actividad . objects . get ( id = actividadId ) [EOL] actividad . ac_estado = EstadoActividad . objects . get ( ea_estado = [string] ) [EOL] actividad . save ( ) [EOL] pa = PerfilActividad ( actividadId ) [EOL] if pa . actividadEsSerie : [EOL] oActividad = Actividad . objects . get ( id = actividadId ) [EOL] actualizaBaseEnSerie ( oActividad ) [EOL] oActividad . ac_actividadBaseSerieId = actividadId [EOL] oActividad . ac_OpcionSerie = [string] [EOL] oActividad . ac_repetirComo = [string] [EOL] oActividad . ac_despd = [string] [EOL] oActividad . ac_do = [number] [EOL] oActividad . ac_enf = [string] [EOL] oActividad . ac_fdesp = oActividad . ac_fecha [EOL] oActividad . save ( ) [EOL] if todoOk : [EOL] opcion = [number] [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = actividad . ac_nombre [EOL] texto [ [string] ] = mf . fechaCorta ( actividad . ac_fecha ) + [string] + mf . horaCivil ( actividad . ac_hora_ini ) [EOL] texto [ [string] ] = actividad . ac_instructor . u_user . first_name + [string] + actividad . ac_instructor . u_user . last_name [EOL] texto [ [string] ] = [string] [EOL] instructor = actividad . ac_instructor . u_user [EOL] mn . marca_informa_atleta ( instructor , actividad . ac_marca , texto , [string] ) [EOL] [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = actividad . ac_nombre [EOL] texto [ [string] ] = mf . fechaCorta ( actividad . ac_fecha ) + [string] + mf . horaCivil ( actividad . ac_hora_ini ) [EOL] texto [ [string] ] = actividad . ac_instructor . u_user . first_name + [string] + actividad . ac_instructor . u_user . last_name [EOL] texto [ [string] ] = [string] [EOL] dueno = Dueno . objects . get ( d_marca = actividad . ac_marca ) [EOL] mn . marca_informa_marca ( dueno . d_user , actividad . ac_marca , texto , [string] ) [EOL] [EOL] else : [EOL] opcion = [number] [EOL] return HttpResponse ( json . dumps ( [ opcion ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def eliminarActividades ( fechaIn , actividadBaseSerieId ) : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . date ( ) [EOL] Actividad . objects . filter ( ac_actividadBaseSerieId = int ( actividadBaseSerieId ) , ac_fecha__gte = fecha ) . delete ( ) [EOL] return [EOL] [EOL] [EOL] def determinarFechas ( fechaIn , serieIn , nuncaIn , doIn , despdIn , fdespIn , repetirComoIn , diasTipoSM ) : [EOL] [comment] [EOL] LUNES = [number] [EOL] MARTES = [number] [EOL] MIERCOLES = [number] [EOL] JUEVES = [number] [EOL] VIERNES = [number] [EOL] SABADO = [number] [EOL] DOMINGO = [number] [EOL] [EOL] fechaIn = datetime . strptime ( fechaIn , [string] ) . date ( ) [EOL] [EOL] fecha = fechaIn [EOL] fechaEnd = fechaIn [EOL] if ( type ( fdespIn ) is unicode ) : [EOL] if ( fdespIn != [string] ) : [EOL] try : [EOL] fdespIn = datetime . strptime ( fdespIn , [string] ) . date ( ) [EOL] except : [EOL] fdespIn = datetime . strptime ( fdespIn , [string] ) . date ( ) [EOL] [EOL] fechas = [ ] [EOL] dias = [ ] [EOL] [EOL] if ( doIn != [string] ) : [EOL] doIn = int ( doIn ) [EOL] else : [EOL] doIn = [number] [EOL] [EOL] if ( repetirComoIn == [string] ) : [EOL] dias = [ LUNES , MARTES , MIERCOLES , JUEVES , VIERNES , SABADO , DOMINGO ] [EOL] elif ( repetirComoIn == [string] ) : [EOL] dias = [ LUNES , MIERCOLES , VIERNES ] [EOL] elif ( repetirComoIn == [string] ) : [EOL] dias = [ MARTES , JUEVES ] [EOL] elif ( repetirComoIn == [string] ) : [EOL] dias = [ LUNES , MARTES , MIERCOLES , JUEVES , VIERNES ] [EOL] elif ( repetirComoIn == [string] ) : [EOL] dias = [ ] [EOL] if [string] in diasTipoSM : [EOL] dias . append ( LUNES ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( MARTES ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( MIERCOLES ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( JUEVES ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( VIERNES ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( SABADO ) [EOL] if [string] in diasTipoSM : [EOL] dias . append ( DOMINGO ) [EOL] else : [EOL] dias . append ( fechaIn . weekday ( ) ) [EOL] [EOL] if ( serieIn == [string] ) : [EOL] fechas . append ( fechaIn ) [EOL] else : [EOL] if ( nuncaIn == [string] ) : [EOL] fechaEnd = fechaIn + timedelta ( weeks = [number] ) [EOL] elif ( doIn > [number] ) : [EOL] if ( repetirComoIn == [string] ) : [EOL] fechaEnd = fechaIn + timedelta ( months = doIn ) [EOL] else : [EOL] fechaEnd = fechaIn + timedelta ( weeks = doIn ) - timedelta ( days = [number] ) [EOL] else : [EOL] fechaEnd = fdespIn [EOL] [EOL] while fecha <= fechaEnd : [EOL] if ( fecha . weekday ( ) in dias ) : [EOL] fechas . append ( fecha ) [EOL] fecha += timedelta ( days = [number] ) [EOL] [EOL] return fechas [EOL] [EOL] def encuentraConflictosEnActividad ( actividad ) : [EOL] mf = ManejoFechas ( ) [EOL] fecha = str ( actividad . ac_fecha ) [EOL] hora_iniIn = mf . horaCivil ( actividad . ac_hora_ini ) [EOL] hora_finIn = mf . horaCivil ( actividad . ac_hora_fin ) [EOL] salaIn = actividad . ac_salon_id [EOL] instructorIn = actividad . ac_instructor_id [EOL] colaborador1In = actividad . ac_colaborador1 [EOL] colaborador2In = actividad . ac_colaborador2 [EOL] [EOL] conflictosSalas = [ ] [EOL] conflictosInstructores = [ ] [EOL] conflictosColaborador1 = [ ] [EOL] conflictosColaborador2 = [ ] [EOL] [EOL] if ( salaIn > [number] ) : [EOL] conflictoSala = determinarConflictosSalas ( salaIn , fecha , hora_iniIn , hora_finIn , actividad . id ) [EOL] if conflictoSala : [EOL] conflictosSalas += conflictoSala [EOL] else : [EOL] conflictoSala = None [EOL] [EOL] if ( instructorIn > [number] ) : [EOL] conflictoInstructor = determinarConflictosInstructores ( instructorIn , fecha , hora_iniIn , hora_finIn , actividad . id ) [EOL] if conflictoInstructor : [EOL] conflictosInstructores += conflictoInstructor [EOL] else : [EOL] conflictoInstructor = None [EOL] [EOL] if ( colaborador1In > [number] ) : [EOL] conflictoColaborador1 = determinarConflictosColaborador1 ( colaborador1In , fecha , hora_iniIn , hora_finIn , actividad . id ) [EOL] if conflictoColaborador1 : [EOL] conflictosColaborador1 += conflictoColaborador1 [EOL] else : [EOL] conflictoColaborador1 = None [EOL] [EOL] if ( colaborador2In > [number] ) : [EOL] conflictoColaborador2 = determinarConflictosColaborador2 ( colaborador2In , fecha , hora_iniIn , hora_finIn , actividad . id ) [EOL] if conflictoColaborador2 : [EOL] conflictosColaborador2 += conflictoColaborador2 [EOL] else : [EOL] conflictoColaborador2 = None [EOL] [EOL] return ( conflictoSala , conflictoInstructor , conflictoColaborador1 , conflictoColaborador2 ) [EOL] [EOL] def preparaDiccionarioDeConflictos ( actividad , conflictosSalas , conflictosInstructores , conflictosColaborador1 , conflictosColaborador2 ) : [EOL] pa = PerfilActividad ( actividad . id ) [EOL] nombreSala = pa . actividadNombre [EOL] nombreInstructor = pa . actividadNombreInstructor [EOL] nombreColaborador1 = pa . actividadNombreAyudante1 [EOL] nombreColaborador2 = pa . actividadNombreAyudante2 [EOL] conflictos = [ ] [EOL] if conflictosSalas : [EOL] for fecha , horas , actividad , localizador in conflictosSalas : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreSala + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosInstructores : [EOL] for fecha , horas , actividad , localizador in conflictosInstructores : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreInstructor + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosColaborador1 : [EOL] for fecha , horas , actividad , localizador in conflictosColaborador1 : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreColaborador1 + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] if conflictosColaborador2 : [EOL] for fecha , horas , actividad , localizador in conflictosColaborador2 : [EOL] conflicto = { } [EOL] conflicto [ [string] ] = [string] + nombreColaborador2 + [string] + actividad [EOL] conflicto [ [string] ] = [string] . format ( fecha . day , fecha . month , fecha . year ) [EOL] conflicto [ [string] ] = horas [EOL] conflicto [ [string] ] = localizador [EOL] conflictos . append ( conflicto ) [EOL] [EOL] return conflictos [EOL] [EOL] [EOL] def determinarConflictosSalas ( salaIn , fecha , hora_iniIn , hora_finIn , actividadId ) : [EOL] hora_iniIn = datetime . strptime ( hora_iniIn , [string] ) . time ( ) [EOL] hora_finIn = datetime . strptime ( hora_finIn , [string] ) . time ( ) [EOL] fechaEnConflicto = None [EOL] actividadEnConflicto = None [EOL] horaEnConflicto = None [EOL] localizadorEnConflicto = None [EOL] [EOL] actividadesConflictivas1 = Actividad . objects . filter ( ac_fecha = fecha , ac_salon_id = int ( salaIn ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lte = hora_iniIn , ac_hora_fin__gt = hora_iniIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas2 = Actividad . objects . filter ( ac_fecha = fecha , ac_salon_id = int ( salaIn ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lt = hora_finIn , ac_hora_fin__gte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas3 = Actividad . objects . filter ( ac_fecha = fecha , ac_salon_id = int ( salaIn ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__gte = hora_iniIn , ac_hora_fin__lte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas = actividadesConflictivas1 | actividadesConflictivas2 | actividadesConflictivas3 [EOL] [EOL] conflictos = [ ] [EOL] [EOL] if actividadesConflictivas : [EOL] for actividad in actividadesConflictivas : [EOL] fechaEnConflicto = actividad . ac_fecha [EOL] actividadEnConflicto = actividad . ac_nombre [EOL] horaEnConflicto = [string] . format ( horaCivil ( hora_iniIn ) , horaCivil ( hora_finIn ) ) [EOL] perfilActividad = PerfilActividad ( actividad . id ) [EOL] localizadorEnConflicto = perfilActividad . actividadLocalizador [EOL] conflictos . append ( ( fechaEnConflicto , horaEnConflicto , actividadEnConflicto , localizadorEnConflicto ) ) [EOL] [EOL] return conflictos [EOL] [EOL] [EOL] def determinarConflictosInstructores ( instructor , fecha , hora_iniIn , hora_finIn , actividadId ) : [EOL] hora_iniIn = datetime . strptime ( hora_iniIn , [string] ) . time ( ) [EOL] hora_finIn = datetime . strptime ( hora_finIn , [string] ) . time ( ) [EOL] fechaEnConflicto = None [EOL] actividadEnConflicto = None [EOL] horaEnConflicto = None [EOL] localizadorEnConflicto = None [EOL] [EOL] actividadesConflictivas1 = Actividad . objects . filter ( ac_fecha = fecha , ac_instructor_id = int ( instructor ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lte = hora_iniIn , ac_hora_fin__gt = hora_iniIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas2 = Actividad . objects . filter ( ac_fecha = fecha , ac_instructor_id = int ( instructor ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lt = hora_finIn , ac_hora_fin__gte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas3 = Actividad . objects . filter ( ac_fecha = fecha , ac_instructor_id = int ( instructor ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__gte = hora_iniIn , ac_hora_fin__lte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas = actividadesConflictivas1 | actividadesConflictivas2 | actividadesConflictivas3 [EOL] [EOL] conflictos = [ ] [EOL] [EOL] if actividadesConflictivas : [EOL] for actividad in actividadesConflictivas : [EOL] fechaEnConflicto = actividad . ac_fecha [EOL] actividadEnConflicto = actividad . ac_nombre [EOL] horaEnConflicto = [string] . format ( horaCivil ( hora_iniIn ) , horaCivil ( hora_finIn ) ) [EOL] perfilActividad = PerfilActividad ( actividad . id ) [EOL] localizadorEnConflicto = perfilActividad . actividadLocalizador [EOL] conflictos . append ( ( fechaEnConflicto , horaEnConflicto , actividadEnConflicto , localizadorEnConflicto ) ) [EOL] [EOL] return conflictos [EOL] [EOL] [EOL] def determinarConflictosColaborador1 ( colaborador1 , fecha , hora_iniIn , hora_finIn , actividadId ) : [EOL] hora_iniIn = datetime . strptime ( hora_iniIn , [string] ) . time ( ) [EOL] hora_finIn = datetime . strptime ( hora_finIn , [string] ) . time ( ) [EOL] fechaEnConflicto = None [EOL] actividadEnConflicto = None [EOL] horaEnConflicto = None [EOL] localizadorEnConflicto = None [EOL] [EOL] actividadesConflictivas1 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador1_id = int ( colaborador1 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lte = hora_iniIn , ac_hora_fin__gt = hora_iniIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas2 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador1_id = int ( colaborador1 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lt = hora_finIn , ac_hora_fin__gte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas3 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador1_id = int ( colaborador1 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__gte = hora_iniIn , ac_hora_fin__lte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas = actividadesConflictivas1 | actividadesConflictivas2 | actividadesConflictivas3 [EOL] [EOL] conflictos = [ ] [EOL] [EOL] if actividadesConflictivas : [EOL] for actividad in actividadesConflictivas : [EOL] fechaEnConflicto = actividad . ac_fecha [EOL] actividadEnConflicto = actividad . ac_nombre [EOL] horaEnConflicto = [string] . format ( horaCivil ( hora_iniIn ) , horaCivil ( hora_finIn ) ) [EOL] perfilActividad = PerfilActividad ( actividad . id ) [EOL] localizadorEnConflicto = perfilActividad . actividadLocalizador [EOL] conflictos . append ( ( fechaEnConflicto , horaEnConflicto , actividadEnConflicto , localizadorEnConflicto ) ) [EOL] [EOL] return conflictos [EOL] [EOL] [EOL] def determinarConflictosColaborador2 ( colaborador2 , fecha , hora_iniIn , hora_finIn , actividadId ) : [EOL] hora_iniIn = datetime . strptime ( hora_iniIn , [string] ) . time ( ) [EOL] hora_finIn = datetime . strptime ( hora_finIn , [string] ) . time ( ) [EOL] fechaEnConflicto = None [EOL] actividadEnConflicto = None [EOL] horaEnConflicto = None [EOL] localizadorEnConflicto = None [EOL] [EOL] actividadesConflictivas1 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador2_id = int ( colaborador2 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lte = hora_iniIn , ac_hora_fin__gt = hora_iniIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas2 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador2_id = int ( colaborador2 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__lt = hora_finIn , ac_hora_fin__gte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas3 = Actividad . objects . filter ( ac_fecha = fecha , ac_colaborador2_id = int ( colaborador2 ) , ac_estado_id__in = TipoEstatus ( ) . tipoTodasMasCulminada , ac_hora_ini__gte = hora_iniIn , ac_hora_fin__lte = hora_finIn ) . exclude ( id = actividadId ) [EOL] [EOL] actividadesConflictivas = actividadesConflictivas1 | actividadesConflictivas2 | actividadesConflictivas3 [EOL] [EOL] conflictos = [ ] [EOL] [EOL] if actividadesConflictivas : [EOL] for actividad in actividadesConflictivas : [EOL] fechaEnConflicto = actividad . ac_fecha [EOL] actividadEnConflicto = actividad . ac_nombre [EOL] horaEnConflicto = [string] . format ( horaCivil ( hora_iniIn ) , horaCivil ( hora_finIn ) ) [EOL] perfilActividad = PerfilActividad ( actividad . id ) [EOL] localizadorEnConflicto = perfilActividad . actividadLocalizador [EOL] conflictos . append ( ( fechaEnConflicto , horaEnConflicto , actividadEnConflicto , localizadorEnConflicto ) ) [EOL] [EOL] return conflictos [EOL] [EOL] def enviarCorreoConflictosActividades ( marcaCorreo , conflictosSalas , conflictosInstructores , conflictosColaborador1 , conflictosColaborador2 ) : [EOL] mailto = marcaCorreo [EOL] cuerpoCorreo = [string] [EOL] if (conflictosSalas) : [EOL] cuerpoCorreo += [string] [EOL] for fecha in conflictosSalas : [EOL] cuerpoCorreo += [string] [EOL] cuerpoCorreo += str ( fecha ) [EOL] cuerpoCorreo += [string] [EOL] if (conflictosInstructores) : [EOL] cuerpoCorreo += [string] [EOL] for fecha in conflictosInstructores : [EOL] cuerpoCorreo += [string] [EOL] cuerpoCorreo += str ( fecha ) [EOL] cuerpoCorreo += [string] [EOL] if (conflictosColaborador1) : [EOL] cuerpoCorreo += [string] [EOL] for fecha in conflictosColaborador1 : [EOL] cuerpoCorreo += [string] [EOL] cuerpoCorreo += str ( fecha ) [EOL] cuerpoCorreo += [string] [EOL] if (conflictosColaborador2) : [EOL] cuerpoCorreo += [string] [EOL] for fecha in conflictosColaborador2 : [EOL] cuerpoCorreo += [string] [EOL] cuerpoCorreo += str ( fecha ) [EOL] cuerpoCorreo += [string] [EOL] send_mail ( [string] , cuerpoCorreo , [string] , [ mailto ] , fail_silently = False , ) [EOL] return [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Dict , List [EOL] import typing [EOL] import web [EOL] import datetime [EOL] from web . crons import * [EOL] from web . templatetags . filtrosEspeciales import * [EOL] from django . http import HttpResponse [EOL] from django . shortcuts import render , redirect , get_object_or_404 [EOL] from accounts . views import manejarSesion [EOL] import json [EOL] from django . core . paginator import Paginator , EmptyPage , PageNotAnInteger [EOL] from random import randint [EOL] [EOL] [EOL] def armarTablaDeActividadesMarca ( listaDeActividades , tags = None , tabs = None , multiAccion = False ) : [EOL] hashAcum = [number] [EOL] lineas = [ [string] . format ( [string] ) , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , ] [EOL] [EOL] for actividad in listaDeActividades : [EOL] pa = PerfilActividad ( actividad . actividadId ) [EOL] hashAcum += hash ( pa ) [EOL] ma = None [EOL] ma = multiaccion_marca ( pa ) [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] lineas . append ( formatTableDetail ( fechaCortaPlus ( actividad . actividadFecha ) + [string] + horaCivil ( actividad . actividadHoraInicio ) , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( [string] . format ( actividad . actividadDisciplinaImagenNegra , actividad . actividadDisciplinaNombre , actividad . actividadId ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( actividad . actividadId , actividad . actividadNombre ) + [string] + actividad . actividadNombreInstructor + [string] + [string] + actividad . actividadInstructorAlias , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( formatTableDetail ( actividad . actividadInicialesMarca + [string] + actividad . actividadSalonNombre , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( actividad . actividadReservados , actividad . actividadCapacidadMaxima ) , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( ma ) , tabs = tabs ) ) [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] lineas . append ( [string] ) [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] return ( lineas , hashAcum ) [EOL] [EOL] [EOL] def armarTablaDeActividadesAtleta ( listaDeActividades , tags = None , tabs = None , multiAccion = False , vs = None ) : [EOL] hashAcum = [number] [EOL] lineas = [ [string] . format ( [string] ) , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , ] [EOL] [EOL] for actividad in listaDeActividades : [EOL] pa = PerfilActividad ( actividad . actividadId ) [EOL] userId = vs . userId [EOL] hashAcum += hash ( pa ) [EOL] ma = None [EOL] ma = multiaccion_atleta ( pa , userId ) [EOL] estaReservado = pa . atletaReservado ( vs . userId ) [EOL] estaEnListaDeEspera = pa . atletaEnListaEspera ( vs . userId ) [EOL] asistio = pa . atletaAsistio ( vs . userId ) [EOL] estaLleno = pa . actividadCapacidadLlena [EOL] claseEstatus = None [EOL] if asistio : [EOL] colEstatus = [string] [EOL] colPuesto = pa . atletaPuestoEnListaEspera ( vs . userId ) [EOL] claseEstatus = [string] [EOL] elif estaEnListaDeEspera : [EOL] colEstatus = [string] [EOL] colPuesto = pa . atletaPuestoEnListaEspera ( vs . userId ) [EOL] elif estaReservado : [EOL] colEstatus = [string] [EOL] colPuesto = pa . atletaPuestoReserva ( vs . userId ) [EOL] claseEstatus = [string] [EOL] elif estaLleno : [EOL] colEstatus = [string] [EOL] claseEstatus = [string] [EOL] colPuesto = [string] [EOL] else : [EOL] colEstatus = [string] [EOL] colPuesto = [string] [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] lineas . append ( formatTableDetail ( fechaCortaPlus ( actividad . actividadFecha ) + [string] + horaCivil ( actividad . actividadHoraInicio ) , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( [string] . format ( actividad . actividadDisciplinaImagenNegra , actividad . actividadDisciplinaNombre , actividad . actividadId ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( actividad . actividadId , actividad . actividadNombre ) + [string] + actividad . actividadNombreInstructor + [string] + [string] + actividad . actividadInstructorAlias , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( formatTableDetail ( actividad . actividadInicialesMarca + [string] + actividad . actividadSalonNombre , tabs = tabs , tags = tags ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( actividad . actividadReservados , actividad . actividadCapacidadMaxima ) , tabs = tabs , tags = tags ) ) [EOL] if colPuesto : [EOL] lineas . append ( formatTableDetail ( [string] . format ( colPuesto ) , tabs = tabs , tags = [ [string] ] , claseTags = [string] ) ) [EOL] else : [EOL] lineas . append ( formatTableDetail ( [string] . format ( colPuesto ) , tabs = tabs ) ) [EOL] [EOL] lineas . append ( formatTableDetail ( [string] . format ( colEstatus ) , tabs = tabs , tags = [ [string] ] , claseTags = claseEstatus ) ) [EOL] lineas . append ( formatTableDetail ( [string] . format ( ma ) , tabs = tabs ) ) [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] lineas . append ( [string] ) [EOL] lineas . append ( [string] . format ( [string] ) ) [EOL] return ( lineas , hashAcum ) [EOL] [EOL] [EOL] def valueHashList ( lineas ) : [EOL] n = [number] [EOL] for linea in lineas : [EOL] for i in range ( [number] , len ( linea ) , [number] ) : [EOL] n += ord ( linea [ i : i + [number] ] ) [EOL] return n [EOL] [EOL] [EOL] def formatTableDetail ( data , tags = None , tabs = None , claseTD = None , claseTags = None , aRefRuta = None , aRefTexto = None ) : [EOL] if [string] in data : [EOL] pass [EOL] if tabs == None : [EOL] strTabs = [string] [EOL] else : [EOL] strTabs = [string] * tabs [EOL] tagsApertura = [string] [EOL] tagsCierre = [string] [EOL] if claseTags : [EOL] claseTags = [string] . format ( claseTags ) [EOL] else : [EOL] claseTags = [string] [EOL] if tags : [EOL] for tag in tags : [EOL] tagsApertura += [string] . format ( tag , claseTags ) [EOL] tagsCierre += [string] . format ( tag ) [EOL] [EOL] if claseTD : [EOL] claseTD = [string] . format ( claseTD ) [EOL] else : [EOL] claseTD = [string] [EOL] if aRefRuta : [EOL] aref = [string] . format ( aRefRuta , aRefTexto ) [EOL] else : [EOL] aref = [string] [EOL] if [string] in data : [EOL] td = strTabs + [string] [EOL] td += tagsApertura + data [ [number] : data . index ( [string] ) ] + tagsCierre + data [ data . index ( [string] ) : ] [EOL] else : [EOL] td = strTabs + [string] + tagsApertura + [string] + tagsCierre + [string] [EOL] td = td . format ( data , claseTD ) [EOL] return td [EOL] [EOL] [EOL] def dashtableVigentes ( request , pk ) : [EOL] return HttpResponse ( json . dumps ( request . session [ [string] ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def dashtableRecientes ( request , pk ) : [EOL] return HttpResponse ( json . dumps ( request . session [ [string] ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def multiaccion_marca ( pa ) : [EOL] ma = [string] [EOL] if pa . actividadAbiertaParaEditar or pa . actividadAbiertaParaGestionar or pa . actividadAbiertaParaEliminar or pa . actividadAbiertaParaCancelar : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] if pa . actividadAbiertaParaGestionar : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] + str ( pa . actividadId ) + [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] if pa . actividadAbiertaParaEditar : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] + str ( pa . actividadId ) + [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] if pa . actividadAbiertaParaEliminar : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] + str ( pa . actividadId ) + [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] if pa . actividadAbiertaParaCancelar : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] + str ( pa . actividadId ) + [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] return ma [EOL] [EOL] [EOL] def multiaccion_atleta ( pa , userId ) : [EOL] ma = [string] [EOL] [EOL] if pa . atletaReservado ( userId ) : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] . format ( userId , pa . actividadId , [number] ) [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] else : [EOL] if pa . actividadAbiertaParaReservar and not pa . actividadCapacidadLlena : [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] . format ( userId , pa . actividadId , [number] ) [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] ma += [string] [EOL] [EOL] return ma [EOL] [EOL] [EOL] def pruebaLoad ( request ) : [EOL] return render ( request , [string] ) [EOL] [EOL] [EOL] def ultimaFechaActividadesVigentes ( pa = None , pm = None , vs = None ) : [EOL] tipoVigente = TipoEstatus ( ) . tipoVigente [EOL] tipoNoVigente = TipoEstatus ( ) . tipoNoVigente [EOL] if pm : [EOL] actividadesVigentes = Actividad . objects . filter ( ac_estado_id__in = tipoVigente , ac_marca_id = pm . marcaId ) . values ( [string] ) . order_by ( [string] , [string] ) [EOL] else : [EOL] if pa : [EOL] actividadesVigentes = Actividad . objects . filter ( ac_estado_id__in = tipoVigente , ac_marca__in = pa . atletaMarcas ( ) ) . values ( [string] ) . order_by ( [string] , [string] ) [EOL] if actividadesVigentes : [EOL] fecha = actividadesVigentes [ [number] ] [ [string] ] [EOL] return fecha [EOL] else : [EOL] return None [EOL] [EOL] [EOL] def ultimaFechaActividadesNoVigentes ( pa = None , pm = None , n = [number] , vs = None ) : [EOL] tipoNoVigente = TipoEstatus ( ) . tipoNoVigente [EOL] if pm : [EOL] actividadesNoVigentes = Actividad . objects . filter ( ac_estado_id__in = tipoNoVigente , ac_marca_id = pm . marcaId ) . values ( [string] ) . order_by ( [string] , [string] ) [EOL] else : [EOL] if pa : [EOL] actividadesNoVigentes = Actividad . objects . filter ( ac_estado_id__in = tipoNoVigente , ac_marca__in = pa . atletaMarcas ( ) ) . values ( [string] ) . order_by ( [string] , [string] ) [EOL] if actividadesNoVigentes : [EOL] if len ( actividadesNoVigentes ) >= n : [EOL] fecha = actividadesNoVigentes [ n - [number] ] [ [string] ] [EOL] else : [EOL] fecha = actividadesNoVigentes [ [number] ] [ [string] ] [EOL] return fecha [EOL] else : [EOL] return datetime . today ( ) [EOL] [EOL] [EOL] def calculaFechas ( fechaInicio = None , fechaFinalizacion = None , vs = None ) : [EOL] if vs . tipoSesion == vs . MARCA : [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] if fechaFinalizacion == None : [EOL] fechaFinalizacion = ultimaFechaActividadesVigentes ( pm = pm , vs = vs ) [EOL] if fechaInicio == None : [EOL] fechaInicio = ultimaFechaActividadesNoVigentes ( pm = pm , n = [number] ) [EOL] else : [EOL] pa = PerfilAtleta ( vs . userAlias ) [EOL] if fechaFinalizacion == None : [EOL] fechaFinalizacion = ultimaFechaActividadesVigentes ( pa = pa , vs = vs ) [EOL] if fechaInicio == None : [EOL] fechaInicio = ultimaFechaActividadesNoVigentes ( pa = pa , n = [number] , vs = vs ) [EOL] [EOL] if fechaInicio == None or fechaFinalizacion == None : [EOL] fechaInicio = datetime . today ( ) - timedelta ( days = datetime . today ( ) . weekday ( ) ) [EOL] fechaFinalizacion = fechaInicio + timedelta ( days = [number] ) [EOL] [EOL] fechaRetornoInicio = [string] . format ( fechaInicio . day , fechaInicio . month , fechaInicio . year ) [EOL] if fechaFinalizacion : [EOL] fechaRetornoFinalizacion = [string] . format ( fechaFinalizacion . day , fechaFinalizacion . month , fechaFinalizacion . year ) [EOL] else : [EOL] dt = datetime . today ( ) [EOL] fechaFinalizacion = ( dt - timedelta ( days = dt . weekday ( ) ) ) + timedelta ( days = [number] ) [EOL] fechaRetornoFinalizacion = [string] . format ( fechaFinalizacion . day , fechaFinalizacion . month , fechaFinalizacion . year ) [EOL] fechaInicio = str ( fechaInicio ) [ [number] : [number] ] [EOL] fechaFinalizacion = str ( fechaFinalizacion ) [ [number] : [number] ] [EOL] [EOL] fechasJson = { [string] : fechaInicio , [string] : fechaFinalizacion , [string] : fechaRetornoInicio , [string] : fechaRetornoFinalizacion , } [EOL] [EOL] return fechasJson [EOL] [EOL] [EOL] def dashboard ( request , pk = None ) : [EOL] if [string] in request . GET and [string] in request . GET : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] else : [EOL] cambiarTipoSesion = True [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] if [string] in request . session : [EOL] vs = VicSession ( request . user . username ) [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] try : [EOL] if PerfilMarca ( pk ) . marcaDuenoAlias == vs . userAlias : [EOL] cambiarTipoSesion = False [EOL] except : [EOL] cambiarTipoSesion = False [EOL] vs = manejarSesion ( request , pk , cambiarTipoSesion ) [EOL] update_activities ( ) [EOL] actualizar_planes_tokens ( ) [EOL] if vs . tipoSesion == vs . MARCA : [EOL] return redirect ( [string] + vs . marcaEnUsoAlias + [string] ) [EOL] else : [EOL] return redirect ( [string] + vs . userAlias + [string] ) [EOL] [EOL] [EOL] def calendarioAtleta ( request , pk = None ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] manejoFechas = ManejoFechas ( ) [EOL] if vs == None : [EOL] return redirect ( [string] ) [EOL] pa = PerfilAtleta ( vs . userAlias , vs ) [EOL] [EOL] if vs . cantidadMarcas == [number] : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , } ) [EOL] [EOL] actividadesPorPagina = [number] [EOL] [EOL] try : [EOL] fechaInicio = manejoFechas . dateStr2DateTime ( request . GET [ [string] ] ) [EOL] except : [EOL] fechaInicio = datetime . today ( ) [EOL] try : [EOL] fechaFinalizacion = manejoFechas . dateStr2DateTime ( request . GET [ [string] ] ) [EOL] except : [EOL] fechaFinalizacion = datetime . today ( ) + timedelta ( days = [number] ) [EOL] [EOL] if fechaInicio . date ( ) < datetime . today ( ) . date ( ) : [EOL] soloFuturas = False [EOL] else : [EOL] soloFuturas = True [EOL] actividades = pa . actividadesTodasEntreFechas ( request , soloFuturas ) [EOL] [EOL] [comment] [EOL] paginaIZQ = int ( request . GET . get ( [string] , [number] ) ) [EOL] paginatorIZQ = Paginator ( actividades [ [number] ] , actividadesPorPagina ) [EOL] try : [EOL] actividadesIZQ = paginatorIZQ . page ( paginaIZQ ) [EOL] except PageNotAnInteger : [EOL] actividadesIZQ = paginatorIZQ . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesIZQ = paginatorIZQ . page ( paginatorIZQ . num_pages ) [EOL] [EOL] [comment] [EOL] paginaDER = int ( request . GET . get ( [string] , [number] ) ) [EOL] paginatorDER = Paginator ( actividades [ [number] ] , actividadesPorPagina ) [EOL] try : [EOL] actividadesDER = paginatorDER . page ( paginaDER ) [EOL] except PageNotAnInteger : [EOL] actividadesDER = paginatorDER . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesDER = paginatorDER . page ( paginatorDER . num_pages ) [EOL] [EOL] numPagesIZQ = actividadesIZQ . paginator . num_pages [EOL] numPagesDER = actividadesDER . paginator . num_pages [EOL] [EOL] if actividadesIZQ . paginator . count == [number] : [EOL] numPagesIZQ = [number] [EOL] [EOL] if actividadesDER . paginator . count == [number] : [EOL] numPagesDER = [number] [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] marcaAlias = request . GET . get ( [string] , [string] ) [EOL] if marcaAlias not in [ [string] , [string] ] : [EOL] marcaNombre = Marca . objects . get ( m_alias = request . GET [ [string] ] ) . m_nombre [EOL] else : [EOL] marcaNombre = marcaAlias [EOL] [EOL] if paginaIZQ > [number] or paginaDER > [number] or reset : [EOL] return render ( request , [string] , { [string] : marcaNombre , [string] : marcaAlias , [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : actividades [ [number] ] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : actividades [ [number] ] , } ) [EOL] [EOL] [EOL] def calendarioMarca ( request , pk = None ) : [EOL] actividadesPorPagina = [number] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs == None : [EOL] return redirect ( [string] ) [EOL] numPages = [number] [EOL] try : [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] except : [EOL] return redirect ( [string] ) [EOL] actividades = pm . actividadesTodasEntreFechas ( request ) [EOL] [EOL] [comment] [EOL] pagina = request . GET . get ( [string] , [number] ) [EOL] paginator = Paginator ( actividades , actividadesPorPagina ) [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] try : [EOL] actividadesTodas = paginator . page ( pagina ) [EOL] except PageNotAnInteger : [EOL] actividadesTodas = paginator . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesTodas = paginator . page ( paginator . num_pages ) [EOL] numPages = actividadesTodas . paginator . num_pages [EOL] if actividadesTodas . paginator . count == [number] : [EOL] numPages = [number] [EOL] [EOL] if pagina > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Tuple , Union , Literal , Dict , List [EOL] import typing_extensions [EOL] import logging [EOL] import typing [EOL] import web [EOL] import datetime [EOL] from web . crons import * [EOL] from web . templatetags . filtrosEspeciales import * [EOL] from calendar import monthrange [EOL] from datetime import datetime [EOL] from django . contrib import auth [EOL] from django . contrib . auth . decorators import login_required [EOL] from django . core import serializers [EOL] from django . core . mail import send_mail [EOL] from django . db . models import Sum [EOL] from django . db . models . functions import Coalesce [EOL] from django . http import HttpResponse [EOL] from django . shortcuts import render , redirect [EOL] from django . contrib import messages [EOL] import random [EOL] import string [EOL] import json [EOL] from random import randint [EOL] from django . http import JsonResponse [EOL] import numpy as np [EOL] from web . decorators import user_is_legal [EOL] from django . conf import settings [EOL] from django . core . files . storage import FileSystemStorage [EOL] from PIL import Image [EOL] from django . core . paginator import Paginator , EmptyPage , PageNotAnInteger [EOL] [EOL] from django . db import transaction [EOL] from accounts . views import manejarSesion [EOL] [EOL] tipo = [number] [EOL] [EOL] import logging [EOL] log = logging . getLogger ( [string] ) [EOL] [EOL] def validate_refpago ( request ) : [EOL] tipoIn = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] . index ( request . GET . get ( [string] ) ) [EOL] refpago = request . GET . get ( [string] , None ) [EOL] marcaId = request . GET . get ( [string] , None ) [EOL] existeEnCualquierMedio = Pago . objects . filter ( p_marca_id = marcaId , p_referencia__iexact = refpago ) . exists ( ) [EOL] existeEnEsteMedio = False [EOL] diferencia = [number] [EOL] if Pago . objects . filter ( p_marca_id = marcaId , p_referencia__iexact = refpago , p_medio = tipoIn ) . exists ( ) : [EOL] existeEnEsteMedio = True [EOL] pagos = Pago . objects . filter ( p_marca_id = marcaId , p_referencia__iexact = refpago , p_medio = tipo ) . order_by ( [string] ) [EOL] pago = pagos [ [number] ] [EOL] diferencia = pago . p_diferencia [EOL] data = { [string] : existeEnEsteMedio , [string] : existeEnCualquierMedio , [string] : diferencia } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def cambiarmarca ( request , pk ) : [EOL] request . session [ [string] ] = pk [EOL] manejarSesion ( request , pk , True ) [EOL] [EOL] return redirect ( [string] + request . session [ [string] ] + [string] ) [EOL] [EOL] [EOL] def getmes ( i ) : [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] return meses [ i ] [EOL] [EOL] def contactos ( request ) : [EOL] return render ( request , [string] ) [EOL] [EOL] def updateajax ( request ) : [EOL] user = User . objects . get ( username = ( request . POST [ [string] ] ) ) [EOL] user . first_name = ( request . POST [ [string] ] ) [EOL] user . last_name = ( request . POST [ [string] ] ) [EOL] user . set_password ( request . POST [ [string] ] ) [EOL] user . is_active = True [EOL] user . save ( ) [EOL] profile = UserProfile . objects . get ( u_user = user ) [EOL] profile . u_secondname = ( request . POST [ [string] ] ) [EOL] profile . u_secondlastname = ( request . POST [ [string] ] ) [EOL] profile . u_telefono = request . POST [ [string] ] [EOL] profile . u_calle = request . POST [ [string] ] [EOL] profile . u_urbanizacion = request . POST [ [string] ] [EOL] profile . u_ciudad = Ciudad . objects . get ( c_nombre = request . POST [ [string] ] ) [EOL] profile . u_municipio = Zona . objects . get ( z_municipio = request . POST [ [string] ] ) [EOL] profile . u_pais = Pais . objects . get ( p_nombre = request . POST [ [string] ] ) [EOL] profile . u_edificioCasa = request . POST [ [string] ] [EOL] profile . u_direccion = [string] + request . POST [ [string] ] + [string] + request . POST [ [string] ] + [string] + request . POST [ [string] ] [EOL] profile . u_alias = ( request . POST [ [string] ] ) [EOL] profile . u_fecha_nac = ( request . POST [ [string] ] ) [EOL] profile . u_displinafav1 = Disciplina . objects . get ( d_nombre = ( request . POST [ [string] ] ) ) [EOL] profile . u_displinafav2 = Disciplina . objects . get ( d_nombre = ( request . POST [ [string] ] ) ) [EOL] profile . save ( ) [EOL] token = Token . objects . get ( u_user = user ) [EOL] token . u_data = True [EOL] token . save ( ) [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [EOL] messages . success ( request , [string] ) [EOL] log . info ( [string] + request . user . username ) [EOL] return redirect ( [string] ) [EOL] [EOL] [EOL] def crearactualizarcuentaajax ( request , pka ) : [EOL] id = ( request . POST [ [string] ] ) [EOL] cno = ( request . POST [ [string] ] ) [EOL] cnu = ( request . POST [ [string] ] ) [EOL] if ( id == [string] ) : [EOL] ce = ( request . POST [ [string] ] ) == [string] [EOL] try : [EOL] Cuenta . objects . create ( c_marca = Marca . objects . get ( m_alias = pka ) , c_status = ce , c_banco = cno , c_numero_cuenta = cnu ) [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] else : [EOL] ce = ( request . POST [ [string] ] ) [EOL] try : [EOL] Cuenta . objects . filter ( id = str ( id ) ) . update ( c_status = ce , c_banco = cno , c_numero_cuenta = cnu ) [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] data = [string] [EOL] return redirect ( request . META [ [string] ] ) [EOL] [EOL] [EOL] def crearactualizarsalaajax ( request , pka ) : [EOL] id = ( request . POST [ [string] ] ) [EOL] n = ( request . POST [ [string] ] ) [EOL] c = ( request . POST [ [string] ] ) [EOL] d = ( request . POST [ [string] ] ) [EOL] esReferenciado = False [EOL] if [string] in request . POST : [EOL] if request . POST [ [string] ] == [string] : [EOL] esReferenciado = True [EOL] if ( id == [string] ) : [EOL] try : [EOL] Salon . objects . create ( s_marca = Marca . objects . get ( m_alias = pka ) , s_nombre = n , s_capacidad = c , s_referenciado = esReferenciado , s_disciplina = Disciplina . objects . get ( d_nombre = d ) ) [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] else : [EOL] try : [EOL] Salon . objects . filter ( id = str ( id ) ) . update ( s_nombre = n , s_capacidad = c , s_referenciado = esReferenciado , s_disciplina = Disciplina . objects . get ( d_nombre = d ) ) [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] data = [string] [EOL] return redirect ( request . META [ [string] ] ) [EOL] [EOL] [EOL] def forgotajax ( request ) : [EOL] print ( [string] ) [EOL] c = ( request . GET [ [string] ] ) [EOL] raw_password = User . objects . make_random_password ( [number] , [string] ) [EOL] user = User . objects . get ( username = c ) [EOL] user . set_password ( raw_password ) [EOL] try : [EOL] user . save ( ) [EOL] send_mail ( [string] , [string] + c + [string] + raw_password + [string] , [string] , [ c ] , fail_silently = False , ) [EOL] notificacion = [string] [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] notificacion = [string] [EOL] messages . error ( request , [string] ) [EOL] return HttpResponse ( json . dumps ( notificacion ) , content_type = [string] ) [EOL] [EOL] [EOL] [EOL] [EOL] [EOL] def centros ( request ) : [EOL] pk = request . user . profile . u_alias [EOL] vs = manejarSesion ( request , pk , False ) [EOL] marcasPublicas = Marca . objects . filter ( ) . values ( [string] ) . order_by ( [string] ) [EOL] aPM = [ ] [EOL] i = - [number] [EOL] idx = - [number] [EOL] for marcaPublica in marcasPublicas : [EOL] pm = PerfilMarca ( marcaPublica [ [string] ] ) [EOL] i += [number] [EOL] if pm . marcaDuenoAlias == pk : [EOL] aPM . append ( pm ) [EOL] idx = i [EOL] break [EOL] [comment] [EOL] i = - [number] [EOL] for marcaPublica in marcasPublicas : [EOL] i += [number] [EOL] if i != idx : [EOL] pm = PerfilMarca ( marcaPublica [ [string] ] ) [EOL] aPM . append ( pm ) [EOL] perfilAtleta = PerfilAtleta ( pk ) [EOL] return render ( request , [string] , { [string] : vs , [string] : aPM , [string] : randint ( [number] , [number] ) , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : perfilAtleta , } ) [EOL] [EOL] [EOL] def instructores ( request ) : [EOL] return render ( request , [string] , { } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def acerca_de ( request ) : [EOL] return render ( request , [string] , { } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def calendarioajax ( request , pk ) : [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] avance = int ( request . GET [ [string] ] ) [EOL] ano = int ( request . GET [ [string] ] ) [EOL] mes = int ( request . GET [ [string] ] ) [EOL] dia = int ( request . GET [ [string] ] ) [EOL] ini_sem_ant = datetime ( year = ano , month = mes , day = dia ) [EOL] ini_sem_ant = ini_sem_ant . replace ( hour = [number] , minute = [number] , second = [number] ) [EOL] if ( avance == [number] ) : [EOL] ini_sem = ini_sem_ant + timedelta ( days = [number] ) [EOL] elif ( avance == - [number] ) : [EOL] ini_sem = ini_sem_ant - timedelta ( days = [number] ) [EOL] elif ( avance == [number] ) : [EOL] hoy = datetime . today ( ) [EOL] ini_sem = hoy - timedelta ( days = hoy . weekday ( ) ) [EOL] ini_sem = ini_sem . replace ( hour = [number] , minute = [number] , second = [number] ) [EOL] elif ( avance == [number] ) : [EOL] ini_sem = ini_sem_ant [EOL] fin_sem = ini_sem + timedelta ( days = [number] ) [EOL] sem = [ ] [EOL] if perfil . u_marca : [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] actual = Marca . objects . get ( m_alias = pk ) [EOL] actividades_semana = [ ] [EOL] confirmados_semana = [ ] [EOL] reservas_semana = [ ] [EOL] enespera_semana = [ ] [EOL] cuposenespera_semana = [ ] [EOL] entrenadores = [ ] [EOL] for i in range ( [number] , [number] ) : [EOL] sem . append ( ( ini_sem + timedelta ( days = i ) ) . day ) [EOL] act = Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . order_by ( [string] ) [EOL] e = [ ] [EOL] acuser = [ ] [EOL] for a in act : [EOL] acuser = a . ac_instructor [EOL] e . append ( [ a . ac_instructor . u_alias , a . ac_instructor . u_user . pk ] ) [EOL] entrenadores . append ( e ) [EOL] actividades_semana . append ( serializers . serialize ( [string] , act ) ) [EOL] confirmados_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] reservas_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] enespera_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] cuposenespera_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] data1 = [ ini_sem . day , ini_sem . month , ini_sem . year ] [EOL] data2 = [ fin_sem . day , fin_sem . month , fin_sem . year ] [EOL] data3 = sem [EOL] data4 = ( json . dumps ( { [string] : actividades_semana } ) ) [EOL] data5 = ( json . dumps ( { [string] : confirmados_semana } ) ) [EOL] data6 = ( json . dumps ( { [string] : reservas_semana } ) ) [EOL] data7 = ( json . dumps ( { [string] : enespera_semana } ) ) [EOL] data8 = ( json . dumps ( { [string] : cuposenespera_semana } ) ) [EOL] return HttpResponse ( json . dumps ( [ data1 , data2 , data3 , data4 , data5 , data6 , data7 , data8 , entrenadores ] ) , content_type = [string] ) [EOL] else : [EOL] actividades_semana = [ ] [EOL] confirmados_semana = [ ] [EOL] reservas_semana = [ ] [EOL] enespera_semana = [ ] [EOL] entrenadores = [ ] [EOL] cuposenespera_semana = [ ] [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] for i in range ( [number] , [number] ) : [EOL] sem . append ( ( ini_sem + timedelta ( days = i ) ) . day ) [EOL] p = Participantes . objects . values_list ( [string] , flat = True ) . filter ( pa_usuario = request . user , pa_actividad__ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) , ) [EOL] e = Espera . objects . values_list ( [string] , flat = True ) . filter ( es_usuario = request . user , es_actividad__ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) , ) [EOL] pq = Actividad . objects . filter ( pk__in = p ) [EOL] eq = Actividad . objects . filter ( pk__in = e ) [EOL] if perfil . u_entrenador : [EOL] q = Actividad . objects . filter ( ac_instructor = perfil , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) [EOL] acthoy = ( q | pq | eq ) . order_by ( [string] ) [EOL] else : [EOL] acthoy = ( pq | eq ) . order_by ( [string] ) [EOL] e = [ ] [EOL] acuser = [ ] [EOL] for a in acthoy : [EOL] acuser = a . ac_instructor [EOL] e . append ( [ a . ac_instructor . u_alias , a . ac_instructor . u_user . pk , a . ac_marca . m_nombre ] ) [EOL] entrenadores . append ( e ) [EOL] est = [ ] [EOL] for x in acthoy : [EOL] if x in pq : [EOL] est . append ( [ [number] , Participantes . objects . get ( pa_actividad = x , pa_usuario = request . user ) . pa_num_cupo ] ) [EOL] elif x in eq : [EOL] est . append ( [ [number] , Espera . objects . get ( es_actividad = x , es_usuario = request . user ) . es_num_cupo ] ) [EOL] else : [EOL] est . append ( [ [number] ] ) [EOL] actividades_semana . append ( [ serializers . serialize ( [string] , acthoy ) , est ] ) [EOL] confirmados_semana . append ( Actividad . objects . filter ( ac_instructor = perfil , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] reservas_semana . append ( Actividad . objects . filter ( ac_instructor = perfil , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] enespera_semana . append ( Actividad . objects . filter ( ac_instructor = perfil , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] cuposenespera_semana . append ( Actividad . objects . filter ( ac_instructor = perfil , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] data1 = [ ini_sem . day , ini_sem . month , ini_sem . year ] [EOL] data2 = [ fin_sem . day , fin_sem . month , fin_sem . year ] [EOL] data3 = sem [EOL] data4 = ( json . dumps ( { [string] : actividades_semana } ) ) [EOL] data5 = ( json . dumps ( { [string] : confirmados_semana } ) ) [EOL] data6 = ( json . dumps ( { [string] : reservas_semana } ) ) [EOL] data7 = ( json . dumps ( { [string] : enespera_semana } ) ) [EOL] data8 = ( json . dumps ( { [string] : cuposenespera_semana } ) ) [EOL] return HttpResponse ( json . dumps ( [ data1 , data2 , data3 , data4 , data5 , data6 , data7 , data8 , entrenadores ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def reservarajax ( request , pk ) : [EOL] vs = manejarSesion ( request , request . user . profile . u_alias , False ) [EOL] p = int ( request . GET [ [string] ] ) [EOL] actividad = Actividad . objects . get ( id = p ) [EOL] ids = Relacion . objects . values_list ( [string] , flat = True ) . filter ( r_marca = actividad . ac_marca , r_estado = [string] ) [EOL] if actividad . ac_instructor : [EOL] perfiles = UserProfile . objects . filter ( u_user__pk__in = set ( ids ) ) . exclude ( pk = actividad . ac_instructor . pk ) . order_by ( [string] , [string] , [string] ) [EOL] else : [EOL] perfiles = UserProfile . objects . filter ( u_user__pk__in = set ( ids ) ) . order_by ( [string] , [string] , [string] ) [EOL] aPa = [ ] [EOL] try : [EOL] for perfil in perfiles : [EOL] pa = PerfilAtleta ( perfil . u_alias ) [EOL] try : [EOL] vicsafe = VicSafe ( pa . atletaId , vs . marcaEnUsoId , vs ) [EOL] planIdParaReservar = vicsafe . puedeReservarActividad ( actividad . id , vs ) [EOL] except Exception as ex : [EOL] continue [EOL] aPa . append ( pa . armarJsonAtletaFast ( actividad . ac_marca . m_alias , actividad . id , planIdParaReservar ) ) [EOL] except Exception as ex : [EOL] pass [EOL] [EOL] ra = PerfilActividad ( actividad . id ) . resumenActividadJson ( ) [EOL] [EOL] ra [ [string] ] = fechaCortaPlus ( ra [ [string] ] ) [EOL] ra [ [string] ] = ra [ [string] ] . strftime ( [string] ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ aPa , ra ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def cancelarajax ( request , pk ) : [EOL] user = request . user [EOL] [EOL] [comment] [EOL] atletaId = int ( request . GET [ [string] ] ) [EOL] actividadId = int ( request . GET [ [string] ] ) [EOL] [EOL] vs = manejarSesion ( request , user . profile . u_alias , False ) [EOL] marcaId = Actividad . objects . get ( id = actividadId ) . ac_marca . id [EOL] [EOL] [comment] [EOL] vicsafe = VicSafe ( atletaId , marcaId , vs ) [EOL] [EOL] pa = PerfilActividad ( actividadId ) [EOL] [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if pa . atletaReservado ( atletaId ) : [EOL] strReturn = vicsafe . registrar_cancelar_reserva ( actividadId ) [EOL] if strReturn == [string] : [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] log . info ( [string] + str ( actividadId ) + [string] + request . user . username ) [EOL] else : [EOL] log . info ( [string] + str ( actividadId ) + [string] + str ( vicsafe . atletaId ) + [string] + request . user . username ) [EOL] mensaje = [string] [EOL] if pa . actividadEspera > [number] : [EOL] esperas = pa . actividadEsperas ( ) [EOL] for atletaElegido in esperas : [EOL] if atletaElegido [ [string] ] == [number] : [EOL] atletaElegidoId = atletaElegido [ [string] ] [EOL] vicsafeAtletaElegido = VicSafe ( atletaElegidoId , marcaId , vs ) [EOL] vicsafeAtletaElegido . promover_desde_lista_espera ( actividadId ) [EOL] if strReturn == [string] : [EOL] mensaje = mensaje [comment] [EOL] mn = ManejoNotificaciones ( ) [EOL] mf = ManejoFechas ( ) [EOL] [EOL] [comment] [EOL] texto = { } [EOL] texto [ [string] ] = pa . actividadNombre [EOL] texto [ [string] ] = mf . fechaCorta ( pa . actividadFecha ) + [string] + mf . horaCivil ( pa . actividadHoraInicio ) [EOL] texto [ [string] ] = pa . actividadNombreInstructor [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atletaElegidoId ) , pa . actividadMarca , texto , [string] ) [EOL] [EOL] else : [EOL] mensaje = strReturn [EOL] else : [EOL] mensaje = strReturn [EOL] elif pa . atletaEnListaEspera ( atletaId ) : [EOL] strReturn = vicsafe . registrar_cancelar_lista_espera ( actividadId ) [EOL] if strReturn == [string] : [EOL] mensaje = [string] [EOL] else : [EOL] mensaje = strReturn [EOL] else : [EOL] mensaje = [string] [EOL] except : [EOL] mensaje = [string] [EOL] messages . error ( request , mensaje ) [EOL] return HttpResponse ( json . dumps ( [ vicsafe . userAlias , mensaje , - [number] ] ) , content_type = [string] ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ vicsafe . userAlias , mensaje ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def reservandoajax ( request , pk ) : [EOL] user = request . user [EOL] [EOL] [comment] [EOL] atletaId = int ( request . GET [ [string] ] ) [EOL] actividadId = int ( request . GET [ [string] ] ) [EOL] if [string] in request . GET : [EOL] cupo = int ( request . GET [ [string] ] ) [EOL] else : [EOL] cupo = [number] [EOL] [EOL] vs = manejarSesion ( request , user . profile . u_alias , False ) [EOL] marcaId = Actividad . objects . get ( id = actividadId ) . ac_marca . id [EOL] [EOL] [comment] [EOL] vicsafe = VicSafe ( atletaId , marcaId , vs ) [EOL] [EOL] pa = PerfilActividad ( actividadId ) [EOL] [EOL] mensaje = [string] [EOL] strRetorno = [string] [EOL] [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if pa . actividadReservados == pa . actividadCapacidadMaxima : [EOL] if pa . actividadCapacidadEspera > [number] : [EOL] strRetorno = vicsafe . registrar_lista_espera ( actividadId ) [EOL] if strRetorno == [string] : [EOL] mensaje = [string] [EOL] else : [EOL] mensaje = strRetorno [EOL] else : [EOL] mensaje = [string] [EOL] else : [EOL] strRetorno = vicsafe . registrar_reserva ( actividadId , cupo ) [EOL] if strRetorno == [string] : [EOL] if pa . actividadEsSerie : [EOL] oActividad = Actividad . objects . get ( id = actividadId ) [EOL] actualizaBaseEnSerie ( oActividad ) [EOL] oActividad . ac_serieId_originaria = oActividad . ac_actividadBaseSerieId [EOL] oActividad . ac_actividadBaseSerieId = actividadId [EOL] oActividad . ac_OpcionSerie = [string] [EOL] oActividad . ac_repetirComo = [string] [EOL] oActividad . ac_despd = [string] [EOL] oActividad . ac_do = [number] [EOL] oActividad . ac_enf = [string] [EOL] oActividad . ac_fdesp = oActividad . ac_fecha [EOL] oActividad . save ( ) [EOL] [EOL] mensaje = [string] [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] log . info ( [string] + str ( actividadId ) + [string] + request . user . username ) [EOL] else : [EOL] log . info ( [string] + str ( actividadId ) + [string] + str ( vicsafe . atletaId ) + [string] + request . user . username ) [EOL] [EOL] else : [EOL] mensaje = strRetorno [EOL] [EOL] if strRetorno == [string] and vs . tipoSesion == vs . MARCA : [EOL] mn = ManejoNotificaciones ( ) [EOL] mf = ManejoFechas ( ) [EOL] texto = { } [EOL] texto [ [string] ] = pa . actividadNombre [EOL] texto [ [string] ] = mf . fechaCorta ( pa . actividadFecha ) + [string] + mf . horaCivil ( pa . actividadHoraInicio ) [EOL] texto [ [string] ] = pa . actividadNombreInstructor [EOL] texto [ [string] ] = mensaje [EOL] mn . marca_informa_atleta ( user , vs . marcaEnUso , texto , [string] ) [EOL] except : [EOL] mensaje = [string] [EOL] messages . error ( request , mensaje ) [EOL] return HttpResponse ( json . dumps ( [ vicsafe . userAlias , mensaje , - [number] ] ) , content_type = [string] ) [EOL] return HttpResponse ( json . dumps ( [ vicsafe . userAlias , mensaje + [string] , [number] ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def cuporeservandoajax ( request , pk ) : [EOL] u = int ( request . GET [ [string] ] ) [EOL] a = int ( request . GET [ [string] ] ) [EOL] c = int ( request . GET [ [string] ] ) [EOL] usuario = User . objects . get ( pk = u ) [EOL] actividad = Actividad . objects . get ( pk = a ) [EOL] saldo = Saldo . objects . get ( s_user = usuario , s_marca = actividad . ac_marca ) [EOL] usuarioperfil = UserProfile . objects . get ( u_user = usuario ) [EOL] ocupados = list ( Participantes . objects . values_list ( [string] , flat = True ) . filter ( pa_actividad = actividad ) ) [EOL] cupo = actividad . ac_cap_max [EOL] return HttpResponse ( json . dumps ( [ usuarioperfil . u_user . first_name + [string] + usuarioperfil . u_user . last_name , usuarioperfil . u_alias , ocupados , cupo ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def comprarajax ( request , pk ) : [EOL] marca = Marca . objects . get ( m_alias = pk ) [EOL] actividadId = request . GET [ [string] ] [EOL] if actividadId != [string] : [EOL] pa = PerfilActividad ( actividadId ) [EOL] else : [EOL] pa = None [EOL] perfil = UserProfile . objects . get ( u_user = int ( request . GET [ [string] ] ) ) [EOL] usuario = perfil . u_alias [EOL] if pa : [EOL] if pa . actividadProductosPermitidos : [EOL] productos = Producto . objects . filter ( id__in = ( pa . actividadProductosPermitidos ) , p_marca = marca , p_activo = True ) . exclude ( p_tipo = [number] ) [EOL] else : [EOL] productos = Producto . objects . filter ( p_marca = marca , p_activo = True ) . exclude ( p_tipo = [number] ) [EOL] else : [EOL] productos = Producto . objects . filter ( p_marca = marca , p_activo = True ) . exclude ( p_nombre = [string] ) [EOL] planes = serializers . serialize ( [string] , productos ) [EOL] dueno = Dueno . objects . filter ( d_user = request . user , d_marca = marca ) . exists ( ) [EOL] nombre = perfil . u_user . first_name + [string] + perfil . u_user . last_name [EOL] correo = perfil . u_user . email [EOL] return HttpResponse ( json . dumps ( [ planes , usuario , dueno , nombre , correo ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def comprar2ajax ( request , pk ) : [EOL] marca = Marca . objects . get ( m_alias = pk ) [EOL] usuario = User . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] usuario = User . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] planes = serializers . serialize ( [string] , Producto . objects . filter ( p_marca = marca ) . exclude ( p_tipo = [number] ) ) [EOL] return HttpResponse ( json . dumps ( [ planes ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def cuentasajax ( request , pk ) : [EOL] marca = Marca . objects . get ( pk = pk ) [EOL] cuentas = serializers . serialize ( [string] , Cuenta . objects . filter ( c_marca = marca , c_status = [number] ) ) [EOL] return HttpResponse ( json . dumps ( [ cuentas ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def pagoajax ( request ) : [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] user = User . objects . get ( username = request . user ) [EOL] vs = manejarSesion ( request , user . profile . u_alias , False ) [EOL] marcaId = Marca . objects . get ( pk = int ( request . GET [ [string] ] ) ) . id [EOL] atletaId = User . objects . get ( pk = int ( request . GET [ [string] ] ) ) . id [EOL] [EOL] [comment] [EOL] vicsafe = VicSafe ( atletaId , marcaId , vs ) [EOL] [EOL] [comment] [EOL] planParametrosJson = { } [EOL] planParametrosJson [ [string] ] = int ( request . GET [ [string] ] ) [EOL] planParametrosJson [ [string] ] = User . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] planParametrosJson [ [string] ] = Producto . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] planParametrosJson [ [string] ] = float ( request . GET [ [string] ] ) / [number] [EOL] planParametrosJson [ [string] ] = float ( request . GET [ [string] ] ) [EOL] planParametrosJson [ [string] ] = float ( request . GET [ [string] ] ) [EOL] planParametrosJson [ [string] ] = float ( request . GET [ [string] ] ) [EOL] fechaIn = request . GET [ [string] ] [EOL] planParametrosJson [ [string] ] = fechaIn [ - [number] : ] + [string] + fechaIn [ [number] : - [number] ] + [string] + fechaIn [ : [number] ] [EOL] planParametrosJson [ [string] ] = request . GET [ [string] ] [EOL] if planParametrosJson [ [string] ] == [string] : [EOL] planParametrosJson [ [string] ] = [string] [EOL] planParametrosJson [ [string] ] = request . GET [ [string] ] [EOL] [EOL] if planParametrosJson [ [string] ] == [string] and int ( planParametrosJson [ [string] ] ) < [number] : [EOL] mensaje = [string] [EOL] planOutId = [number] [EOL] data = { [string] : mensaje , [string] : planOutId , } [EOL] [EOL] return JsonResponse ( data ) [EOL] [EOL] [comment] [EOL] strRetorno = vicsafe . registrar_compra_plan ( planParametrosJson ) [EOL] if strRetorno [ [string] ] == [string] : [EOL] mensaje = [string] [EOL] planOutId = strRetorno [ [string] ] [EOL] plan = Planes . objects . get ( id = planOutId ) [EOL] [EOL] [comment] [EOL] mn = ManejoNotificaciones ( ) [EOL] texto = { } [EOL] texto [ [string] ] = plan . p_nombre [EOL] texto [ [string] ] = [string] [EOL] mn . marca_informa_atleta ( User . objects . get ( id = atletaId ) , plan . p_marca , texto , [string] ) [EOL] [EOL] [comment] [EOL] else : [EOL] mensaje = [string] + strRetorno [ [string] ] [EOL] planOutId = [number] [EOL] [EOL] data = { [string] : mensaje , [string] : planOutId , } [EOL] [EOL] return JsonResponse ( data ) [EOL] except : [EOL] mensaje = [string] [EOL] planOutId = [number] [EOL] data = { [string] : mensaje , [string] : planOutId , } [EOL] messages . error ( request , mensaje ) [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def pagoPorCobrarAjax ( request ) : [EOL] TRANSFERENCIA = [number] [EOL] DEPOSITO = [number] [EOL] POS = [number] [EOL] VPOS = [number] [EOL] CHEQUE = [number] [EOL] EFECTIVO = [number] [EOL] POR_COBRAR = [number] [EOL] BECA = [number] [EOL] [EOL] hoy = datetime . today ( ) [EOL] [EOL] planIn = request . GET [ [string] ] [EOL] tipoIn = int ( request . GET [ [string] ] ) [EOL] referenciaIn = request . GET [ [string] ] [EOL] fechaIn = request . GET [ [string] ] [EOL] fechaIn = fechaIn [ - [number] : ] + [string] + fechaIn [ [number] : - [number] ] + [string] + fechaIn [ : [number] ] [EOL] [EOL] if tipoIn in [ TRANSFERENCIA , DEPOSITO , POS ] : [EOL] cuentaIn = Cuenta . objects . get ( c_numero_cuenta = request . GET [ [string] ] ) [EOL] else : [EOL] referenciaIn = None [EOL] cuentaIn = None [EOL] statusIn = tipoIn in [ VPOS , CHEQUE , POR_COBRAR ] [EOL] [EOL] pagoOut = Pago . objects . get ( p_plan_id = planIn ) [EOL] pagoOut . p_fecha_registro = hoy [EOL] pagoOut . p_fecha_transaccion = fechaIn [EOL] pagoOut . p_medio = tipoIn [EOL] pagoOut . p_referencia = referenciaIn [EOL] pagoOut . p_status = statusIn [EOL] pagoOut . p_porcobrar = False [EOL] if ( cuentaIn is not None ) : [EOL] pagoOut . p_cuenta_id = cuentaIn . pk [EOL] else : [EOL] pagoOut . p_cuenta_id = cuentaIn [EOL] pass [EOL] try : [EOL] pagoOut . save ( ) [EOL] mensaje = [string] [EOL] except Exception as e : [EOL] mensaje = [string] + str ( e ) [EOL] print ( mensaje ) [EOL] [EOL] data = { [string] : mensaje , [string] : planIn , } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def getplanajax ( request ) : [EOL] plan = Producto . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] today = datetime . today ( ) [EOL] if plan . p_tipo == [number] : [EOL] vence = datetime ( [number] , today . month , today . day ) . strftime ( [string] ) [EOL] else : [EOL] vence = ( datetime . today ( ) + timedelta ( days = plan . p_duracion_meses * [number] ) ) . strftime ( [string] ) [EOL] d0 = today [EOL] d1 = datetime . strptime ( vence , [string] ) [EOL] delta = d1 - d0 [EOL] descuentoIn = float ( request . GET [ [string] ] ) [EOL] precioPlan = float ( plan . p_precio ) [EOL] precioConDescuento = [number] [EOL] descuentoGeneral = [number] [EOL] descuentoParticular = [number] [EOL] if plan . p_descuento > [number] : [EOL] descuentoGeneral = float ( plan . p_descuento ) / [number] * precioPlan [EOL] precioConDescuento = precioPlan - descuentoGeneral [EOL] else : [EOL] precioConDescuento = precioPlan [EOL] if descuentoIn > [number] : [EOL] descuentoParticular = descuentoIn / [number] * precioConDescuento [EOL] precioConDescuento -= descuentoParticular [EOL] precioCredito = [number] [EOL] if plan . p_creditos > [number] : [EOL] precioCredito = plan . p_precio / plan . p_creditos [EOL] else : [EOL] precioCredito = [number] [EOL] return HttpResponse ( json . dumps ( [ plan . p_nombre , plan . p_creditos , plan . p_precio , plan . p_moneda , precioCredito , vence , descuentoGeneral , descuentoParticular , precioConDescuento , plan . p_tipo ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def getPlanPendientePorCobrarAjax ( request ) : [EOL] plan = Planes . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] pago = Pago . objects . get ( p_plan = plan ) [EOL] producto = Producto . objects . filter ( p_nombre = plan . p_nombre ) [ [number] ] [EOL] vence = plan . p_fecha_caducidad . strftime ( [string] ) [EOL] precioproducto = float ( producto . p_precio ) [EOL] precioConDescuento = pago . p_monto [EOL] descuentoGeneral = pago . p_dtoGeneral [EOL] descuentoParticular = pago . p_dtoParticular [EOL] try : [EOL] return HttpResponse ( json . dumps ( [ producto . p_nombre , producto . p_creditos , producto . p_precio , producto . p_moneda , producto . p_precio / producto . p_creditos , vence , descuentoGeneral , descuentoParticular , precioConDescuento ] ) , content_type = [string] ) [EOL] except Exception as e : [EOL] pass [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def clasecancelarajax ( request , pk ) : [EOL] u = int ( request . GET [ [string] ] ) [EOL] a = int ( request . GET [ [string] ] ) [EOL] c = int ( request . GET [ [string] ] ) [EOL] usuario = User . objects . get ( pk = u ) [EOL] actividad = Actividad . objects . get ( pk = a ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] try : [EOL] r = Participantes . objects . get ( pa_usuario = usuario , pa_actividad = actividad ) [EOL] if ( actividad . ac_cupos_en_espera > [number] ) : [EOL] primero = Espera . objects . filter ( es_actividad = actividad ) [ [number] ] [EOL] new = Participantes . objects . create ( pa_usuario = primero . es_usuario , pa_actividad = actividad , pa_num_cupo = r . pa_num_cupo ) [EOL] primero . delete ( ) [EOL] actividad . ac_cupos_en_espera += - [number] [EOL] else : [EOL] actividad . ac_cupos_reservados += - [number] [EOL] mensaje = [string] [EOL] except : [EOL] r = Espera . objects . get ( es_usuario = usuario , es_actividad = actividad ) [EOL] actividad . ac_cupos_en_espera += - [number] [EOL] mensaje = [string] [EOL] [EOL] r . delete ( ) [EOL] saldo = Saldo . objects . get ( s_user = usuario , s_marca = actividad . ac_marca ) [EOL] usuarioperfil = UserProfile . objects . get ( u_user = usuario ) [EOL] saldo . s_saldo += c [EOL] saldo . s_bloqueado += - c [EOL] saldo . save ( ) [EOL] actividad . save ( ) [EOL] plan = Planes . objects . filter ( p_usuario = u , p_marca = actividad . ac_marca , p_fecha_caducidad__gte = datetime . today ( ) ) [ [number] ] [EOL] plan . p_creditos_usados += - [number] [EOL] plan . p_historico = False [EOL] plan . save ( ) [EOL] return HttpResponse ( json . dumps ( [ usuarioperfil . u_alias , mensaje ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def validarsalonajax ( request ) : [EOL] marca = Marca . objects . get ( pk = request . GET [ [string] ] ) [EOL] [EOL] salones = Salon . objects . filter ( s_marca = marca ) [EOL] [EOL] entrenadores = UserProfile . objects . filter ( ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ serializers . serialize ( [string] , salones ) , serializers . serialize ( [string] , entrenadores ) ] ) , content_type = [string] ) [EOL] [EOL] [EOL] def daterange ( start_date , end_date ) : [EOL] for n in range ( int ( ( end_date - start_date ) . days ) + [number] ) : [EOL] yield start_date + timedelta ( n ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def obtenerclaseajax ( request ) : [EOL] ac = Actividad . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] marca = ac . ac_marca [EOL] actividad = serializers . serialize ( [string] , [ ac ] ) [EOL] entre = Relacion . objects . filter ( r_marca = marca , r_estado = [string] , r_entrenador = True ) . values_list ( [string] , flat = True ) [EOL] entrenadores = UserProfile . objects . filter ( u_user__pk__in = entre ) [EOL] nombres = [ ] [EOL] for e in entrenadores : [EOL] nombres . append ( e . u_user . get_full_name ( ) ) [EOL] return HttpResponse ( json . dumps ( [ actividad , serializers . serialize ( [string] , entrenadores ) , nombres ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def obtenerserieajax ( request ) : [EOL] se = Serie . objects . filter ( s_num_ser = int ( request . GET [ [string] ] ) ) [ [number] ] [EOL] ac = Actividad . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] actividad = serializers . serialize ( [string] , [ ac ] ) [EOL] serie = serializers . serialize ( [string] , [ se ] ) [EOL] return HttpResponse ( json . dumps ( [ actividad , serie ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def marcarasistenciaajax ( request ) : [EOL] try : [EOL] participante = Participantes . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] participante . pa_asistencia = not participante . pa_asistencia [EOL] participante . save ( ) [EOL] if ( participante . pa_asistencia ) : [EOL] r = [number] [EOL] else : [EOL] r = [number] [EOL] except : [EOL] r = - [number] [EOL] [comment] [EOL] return HttpResponse ( json . dumps ( [ r , participante . pa_actividad . pk ] ) , content_type = [string] ) [EOL] [EOL] [EOL] [comment] [EOL] @ login_required ( login_url = [string] ) def registrarusuarioajax ( request ) : [EOL] nombre = ( request . GET [ [string] ] ) [EOL] apellido = ( request . GET [ [string] ] ) [EOL] correo = ( request . GET [ [string] ] ) [EOL] alias = ( request . GET [ [string] ] ) [EOL] if [string] in request . GET : [EOL] comoInstructor = request . GET [ [string] ] [EOL] if comoInstructor == [string] : [EOL] comoInstructor = False [EOL] if comoInstructor == [string] : [EOL] comoInstructor = True [EOL] else : [EOL] comoInstructor = False [EOL] vs = manejarSesion ( request , request . user . profile . u_alias , False ) [EOL] marca = vs . marcaEnUso [EOL] codigoRetorno = [string] [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if User . objects . filter ( username__iexact = correo ) . exists ( ) : [EOL] usuario = User . objects . filter ( username__iexact = correo ) [EOL] if Relacion . objects . filter ( r_user = usuario , r_marca = marca , r_estado = [string] ) . exists ( ) == False : [EOL] codigoRetorno = [string] [EOL] Relacion . objects . create ( r_user = usuario . get ( ) , r_marca = marca , r_estado = [string] , r_entrenador = comoInstructor ) [EOL] messages . success ( request , [string] ) [EOL] pm = PerfilMarca ( marca . m_alias ) [EOL] pa = PerfilAtleta ( usuario . get ( ) . profile . u_alias ) [EOL] if pm . marcaPermiteReferenciados : [EOL] setearPlanReferenciado ( pa , pm ) [EOL] else : [EOL] contra = User . objects . make_random_password ( ) [EOL] usuario = User . objects . create ( username = correo , password = contra , first_name = nombre , last_name = apellido , email = correo , is_active = True ) [EOL] t = [string] . join ( random . choice ( string . ascii_uppercase + string . digits ) for _ in range ( [number] ) ) [EOL] token = Token . objects . create ( u_user = usuario , u_token = t ) [EOL] tel = request . GET [ [string] ] [EOL] perfil = UserProfile . objects . create ( u_user = usuario , u_alias = alias , u_secondname = [string] , u_secondlastname = [string] , u_telefono = tel , u_direccion = [string] , u_displinafav1 = None , u_displinafav2_id = None , u_displinafav3_id = None , u_registrado = False ) [EOL] Relacion . objects . create ( r_user = usuario , r_marca = marca , r_estado = [string] , r_entrenador = comoInstructor ) [EOL] if not Saldo . objects . filter ( s_user = usuario , s_marca = marca ) : [EOL] Saldo . objects . create ( s_user = usuario , s_marca = marca ) [EOL] pm = PerfilMarca ( marca . m_alias ) [EOL] pa = PerfilAtleta ( usuario . profile . u_alias ) [EOL] if pm . marcaPermiteReferenciados : [EOL] setearPlanReferenciado ( pa , pm ) [EOL] codigoRetorno = [string] [EOL] [EOL] from django . template import loader [EOL] message = [string] [EOL] data = { [string] : token , [string] : [string] + request . META [ [string] ] + [string] + token . u_token , [string] : nombre + [string] + apellido , [string] : alias , [string] : marca . m_nombre , [string] : marca . m_descripcion , [string] : False , } [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] send_mail ( [string] + marca . m_nombre + [string] , message , [string] , [ correo ] , fail_silently = True , html_message = html_message ) [EOL] messages . success ( request , [string] ) [EOL] except Exception as ex : [EOL] messages . error ( request , [string] ) [EOL] [EOL] return HttpResponse ( json . dumps ( [ codigoRetorno ] ) , content_type = [string] ) [EOL] [EOL] @ transaction . atomic def agregarUsuarioExistenteAjax ( request ) : [EOL] marcaAlias = request . session [ [string] ] [EOL] userAlias = request . GET [ [string] ] [EOL] if request . GET [ [string] ] == [string] : [EOL] comoInstructor = True [EOL] else : [EOL] comoInstructor = False [EOL] marca = Marca . objects . get ( m_alias = marcaAlias ) [EOL] profile = UserProfile . objects . get ( u_alias = userAlias ) [EOL] usuario = profile . u_user [EOL] [EOL] mensaje = [string] [EOL] mn = ManejoNotificaciones ( ) [EOL] try : [EOL] if Relacion . objects . filter ( r_user = usuario , r_marca = marca , r_estado = [string] ) : [EOL] mensaje = [string] [EOL] else : [EOL] Relacion . objects . create ( r_user = usuario , r_marca = marca , r_estado = [string] , r_entrenador = comoInstructor ) [EOL] if not Saldo . objects . filter ( s_user = usuario , s_marca = marca ) : [EOL] Saldo . objects . create ( s_user = usuario , s_marca = marca ) [EOL] mensaje = [string] [EOL] mn . marca_invita_atleta_afiliacion ( usuario , marca ) [EOL] messages . success ( request , mensaje ) [EOL] except : [EOL] mensaje = [string] [EOL] messages . error ( request , mensaje ) [EOL] [EOL] data = { [string] : mensaje } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def planes ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . MARCA : [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] else : [EOL] pm = PerfilMarca ( pk ) [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [EOL] try : [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] except : [EOL] marcas = [number] [EOL] actual = Marca . objects . get ( m_alias = pk ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] referenciado = Producto . objects . filter ( p_marca = actual , p_tipo = [number] ) [EOL] productos = Producto . objects . filter ( p_marca = actual ) . order_by ( [string] , [string] , [string] ) . exclude ( p_tipo = [number] ) [EOL] productosTodos = list ( productos ) + list ( referenciado ) [EOL] if PerfilMarca ( pk ) . marcaEsPublica or siguiendo_esta_marca ( pm . marcaId , vs . userId ) : [EOL] return render ( request , [string] , { [string] : perfil , [string] : True , [string] : marcas_publicas , [string] : marcas , [string] : actual , [string] : vs , [string] : pm , [string] : pk , [string] : productosTodos , } ) [EOL] else : [EOL] return redirect ( request . META [ [string] ] . replace ( [string] , [string] ) ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def salas ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pm = PerfilMarca ( pk ) [EOL] [EOL] return render ( request , [string] , { [string] : pm , [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def cuentas ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pm = PerfilMarca ( pk ) [EOL] [EOL] return render ( request , [string] , { [string] : pm , [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def habilitarplanajax ( request ) : [EOL] pk = request . GET [ [string] ] [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] valor = int ( request . GET [ [string] ] ) [EOL] try : [EOL] plan = Producto . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] if plan . p_tipo == [number] : [EOL] pm = PerfilMarca ( plan . p_marca . m_alias ) [EOL] if valor == [number] : [EOL] quiereTipoReferenciado = False [EOL] if valor == [number] : [EOL] quiereTipoReferenciado = True [EOL] revisarSeteoTipoReferenciado ( pm , quiereTipoReferenciado ) [EOL] if valor == [number] : [EOL] plan . p_activo = False [EOL] plan . save ( ) [EOL] resultado = [number] [EOL] messages . success ( request , [string] ) [EOL] if valor == [number] : [EOL] plan . p_activo = True [EOL] plan . save ( ) [EOL] resultado = [number] [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] resultado = - [number] [EOL] messages . error ( request , [string] ) [EOL] actual = Marca . objects . get ( m_alias = pk ) [EOL] productos = Producto . objects . filter ( p_marca = actual , p_activo = True ) [EOL] inactivos = Producto . objects . filter ( p_marca = actual , p_activo = False ) [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def editarplanajax ( request ) : [EOL] pk = ( request . GET [ [string] ] ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] creditos = [number] [EOL] creditos_mensual = [number] [EOL] if request . GET [ [string] ] == [string] : [EOL] tipoPlan = [number] [EOL] creditos = int ( request . GET [ [string] ] ) [EOL] elif request . GET [ [string] ] == [string] : [EOL] tipoPlan = [number] [EOL] elif request . GET [ [string] ] == [string] : [EOL] tipoPlan = [number] [EOL] creditos_mensual = int ( request . GET [ [string] ] ) [EOL] actual = Marca . objects . get ( m_alias = pk ) [EOL] if int ( request . GET [ [string] ] ) == - [number] : [EOL] try : [EOL] plan = Producto . objects . create ( p_nombre = request . GET [ [string] ] , p_precio = int ( request . GET [ [string] ] ) , p_precio2 = int ( request . GET [ [string] ] ) , p_precio3 = int ( request . GET [ [string] ] ) , p_creditos = creditos , p_creditos_mensual = creditos_mensual , p_duracion_meses = int ( request . GET [ [string] ] ) , p_creacion = datetime . today ( ) , p_descuento = int ( request . GET [ [string] ] ) , p_tipo = tipoPlan , p_disciplinas = [ ] , p_marca = actual ) [EOL] plan . save ( ) [EOL] resultado = [number] [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] else : [EOL] if ( int ( request . GET [ [string] ] ) <= [number] ) : [EOL] try : [EOL] plan = Producto . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] plan . p_nombre = request . GET [ [string] ] [EOL] plan . p_creditos = int ( request . GET [ [string] ] ) [EOL] plan . p_precio = int ( request . GET [ [string] ] ) [EOL] plan . p_precio2 = int ( request . GET [ [string] ] ) [EOL] plan . p_precio3 = int ( request . GET [ [string] ] ) [EOL] plan . p_descuento = int ( request . GET [ [string] ] ) [EOL] plan . p_duracion_meses = int ( request . GET [ [string] ] ) [EOL] plan . p_tipo = tipoPlan [EOL] plan . save ( ) [EOL] resultado = [number] [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] resultado = - [number] [EOL] messages . error ( request , [string] ) [EOL] else : [EOL] resultado = - [number] [EOL] productos = Producto . objects . filter ( p_marca = actual , p_activo = True ) [EOL] inactivos = Producto . objects . filter ( p_marca = actual , p_activo = False ) [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilatleta ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] if not modoInstructor : [EOL] try : [EOL] modoInstructor = [string] in request . path [EOL] except : [EOL] modoInstructor = False [EOL] except : [EOL] try : [EOL] modoInstructor = [string] in request . path [EOL] except : [EOL] modoInstructor = False [EOL] [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] [EOL] estaEnMarcaActual = False [EOL] for marca in perfil . atletaMarcas ( ) : [EOL] if marca == marca_actual : [EOL] estaEnMarcaActual = True [EOL] break [EOL] esInstructorEnMarcaActual = perfil . esInstructorEnMarca ( ) [EOL] [EOL] puedeVer = { } [EOL] [EOL] puedeVerActividadesAtleta = False [EOL] puedeVerPlanesAtleta = False [EOL] puedeVerActividadesInstructor = False [EOL] puedeVerRemuneracionesInstructor = False [EOL] puedeVerPerfilInstructor = False [EOL] puedeVerPerfilAtleta = False [EOL] [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] if perfil . atletaAlias == vs . userAlias : [EOL] puedeVerPerfilInstructor = True [EOL] puedeVerActividadesInstructor = True [EOL] puedeVerRemuneracionesInstructor = True [EOL] puedeVerPerfilAtleta = True [EOL] puedeVerActividadesAtleta = True [EOL] puedeVerPlanesAtleta = True [EOL] else : [EOL] puedeVerPerfilInstructor = True [EOL] puedeVerActividadesInstructor = True [EOL] puedeVerRemuneracionesInstructor = False [EOL] else : [EOL] if estaEnMarcaActual : [EOL] puedeVerPerfilAtleta = True [EOL] puedeVerPlanesAtleta = True [EOL] puedeVerActividadesAtleta = True [EOL] if perfil . atletaEsInstructor and esInstructorEnMarcaActual : [EOL] puedeVerPerfilInstructor = True [EOL] puedeVerActividadesInstructor = True [EOL] puedeVerRemuneracionesInstructor = True [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] puedeVer [ [string] ] = puedeVerActividadesAtleta [EOL] puedeVer [ [string] ] = puedeVerPlanesAtleta [EOL] puedeVer [ [string] ] = puedeVerActividadesInstructor [EOL] puedeVer [ [string] ] = puedeVerRemuneracionesInstructor [EOL] puedeVer [ [string] ] = puedeVerPerfilAtleta [EOL] puedeVer [ [string] ] = puedeVerPerfilInstructor [EOL] [EOL] if request . method == [string] and request . FILES [ [string] ] : [EOL] [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] [EOL] [EOL] myAvatar = request . FILES [ [string] ] [EOL] im = Image . open ( myAvatar ) [EOL] [EOL] y = [number] [EOL] x = [number] [EOL] [EOL] while True : [EOL] size = ( x , y ) [EOL] im . thumbnail ( size ) [EOL] if im . height <= [number] or im . width <= [number] : [EOL] break [EOL] y -= [number] [EOL] x -= [number] [EOL] from django . conf import settings [EOL] mediaDir = settings . MEDIA_ROOT [EOL] if settings . AMBIENTE == [string] : [EOL] imBase = Image . open ( mediaDir + [string] ) [EOL] outputFile = mediaDir + [string] + vs . userAlias + [string] [EOL] else : [EOL] imBase = Image . open ( mediaDir + [string] ) [EOL] outputFile = mediaDir + [string] + vs . userAlias + [string] [EOL] [EOL] image_copy = imBase . copy ( ) [EOL] [EOL] y = ( imBase . height - im . height ) / [number] [EOL] x = ( imBase . width - im . width ) / [number] [EOL] [EOL] position = ( [number] , [number] ) [EOL] [EOL] image_copy . paste ( im , position ) [EOL] [EOL] image_copy . save ( outputFile ) [EOL] uploaded_file_url = outputFile [EOL] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : puedeVer , [string] : uploaded_file_url } ) [EOL] [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : puedeVer , } ) [EOL] [EOL] def perfilActividadesAtleta ( request , pk = None , pka = None ) : [EOL] actividadesPorPagina = [number] [EOL] [EOL] marcaAlias = request . GET . get ( [string] , [string] ) [EOL] [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] [EOL] pa = PerfilAtleta ( pka , vs ) [EOL] [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marcaAlias = vs . marcaEnUsoAlias [EOL] [EOL] actividadesVigentes = pa . actividadesVigentesEntreFechas ( marcaAlias = marcaAlias , fitroEnSoloLasMias = True ) [EOL] actividadesNoVigentes = pa . actividadesNoVigentesEntreFechas ( marcaAlias = marcaAlias , fitroEnSoloLasMias = True ) [EOL] [EOL] [comment] [EOL] paginaIZQ = request . GET . get ( [string] , [number] ) [EOL] paginatorIZQ = Paginator ( actividadesVigentes , actividadesPorPagina ) [EOL] try : [EOL] actividadesIZQ = paginatorIZQ . page ( paginaIZQ ) [EOL] except PageNotAnInteger : [EOL] actividadesIZQ = paginatorIZQ . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesIZQ = paginatorIZQ . page ( paginatorIZQ . num_pages ) [EOL] [EOL] [comment] [EOL] paginaDER = request . GET . get ( [string] , [number] ) [EOL] paginatorDER = Paginator ( actividadesNoVigentes , actividadesPorPagina ) [EOL] try : [EOL] actividadesDER = paginatorDER . page ( paginaDER ) [EOL] except PageNotAnInteger : [EOL] actividadesDER = paginatorDER . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesDER = paginatorDER . page ( paginatorDER . num_pages ) [EOL] [EOL] numPagesIZQ = actividadesIZQ . paginator . num_pages [EOL] numPagesDER = actividadesDER . paginator . num_pages [EOL] [EOL] if actividadesIZQ . paginator . count == [number] : [EOL] numPagesIZQ = [number] [EOL] [EOL] if actividadesDER . paginator . count == [number] : [EOL] numPagesDER = [number] [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] if paginaIZQ > [number] or paginaDER > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , } ) [EOL] [EOL] def carruselMisActividades ( request , pk = None ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs == None : [EOL] return redirect ( [string] ) [EOL] pa = PerfilAtleta ( vs . userAlias , vs ) [EOL] [EOL] actividades = pa . actividadesTodasEntreFechas ( request ) [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividades [ [number] ] , } ) [EOL] [EOL] def perfilActividadesAtletaPerfil ( request , pk = None , pka = None ) : [EOL] import operator [EOL] actividadesPorPagina = [number] [EOL] [EOL] marcaAlias = request . GET . get ( [string] , [string] ) [EOL] if marcaAlias == [string] : [EOL] marcaAlias = None [EOL] if not pka : [EOL] pka = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] [EOL] [comment] [EOL] [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] actividadesPorImpartir = perfil . actividadesPorImpartir ( marcaAlias ) [EOL] actividadesYaImpartidas = perfil . actividadesYaImpartidas ( marcaAlias ) [EOL] diasUltimaImpartida = perfil . diasUltimaImpartida ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] actividadesPorImpartir = [ ] [EOL] actividadesYaImpartidas = [ ] [EOL] diasUltimaImpartida = - [number] [EOL] [EOL] [comment] [EOL] [EOL] pa = PerfilAtleta ( pka , vs ) [EOL] [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marcaAlias = vs . marcaEnUsoAlias [EOL] [EOL] actividadesVigentes = pa . actividadesVigentesEntreFechas ( marcaAlias = marcaAlias , fitroEnSoloLasMias = True ) [EOL] actividadesPorImpartir_ = [ ] [EOL] for actividad in actividadesPorImpartir : [EOL] actividadesPorImpartir_ . append ( PerfilActividad ( actividad [ [string] ] ) ) [EOL] actividadesVigentes . extend ( actividadesPorImpartir_ ) [EOL] actividadesVigentes = sorted ( actividadesVigentes , key = lambda k : k . actividadHoraInicio ) [EOL] actividadesVigentes = sorted ( actividadesVigentes , key = lambda k : k . actividadFecha ) [EOL] [EOL] actividadesNoVigentes = pa . actividadesNoVigentesEntreFechas ( marcaAlias = marcaAlias , fitroEnSoloLasMias = True ) [EOL] actividadesYaImpartidas_ = [ ] [EOL] for actividad in actividadesYaImpartidas : [EOL] actividadesYaImpartidas_ . append ( PerfilActividad ( actividad [ [string] ] ) ) [EOL] actividadesNoVigentes . extend ( actividadesYaImpartidas_ ) [EOL] actividadesNoVigentes = sorted ( actividadesNoVigentes , key = lambda k : k . actividadHoraInicio ) [EOL] actividadesNoVigentes = sorted ( actividadesNoVigentes , key = lambda k : k . actividadFecha ) [EOL] [EOL] [comment] [EOL] paginaIZQ = request . GET . get ( [string] , [number] ) [EOL] paginatorIZQ = Paginator ( actividadesVigentes , actividadesPorPagina ) [EOL] try : [EOL] actividadesIZQ = paginatorIZQ . page ( paginaIZQ ) [EOL] except PageNotAnInteger : [EOL] actividadesIZQ = paginatorIZQ . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesIZQ = paginatorIZQ . page ( paginatorIZQ . num_pages ) [EOL] [EOL] [comment] [EOL] paginaDER = request . GET . get ( [string] , [number] ) [EOL] paginatorDER = Paginator ( actividadesNoVigentes , actividadesPorPagina ) [EOL] try : [EOL] actividadesDER = paginatorDER . page ( paginaDER ) [EOL] except PageNotAnInteger : [EOL] actividadesDER = paginatorDER . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesDER = paginatorDER . page ( paginatorDER . num_pages ) [EOL] [EOL] numPagesIZQ = actividadesIZQ . paginator . num_pages [EOL] numPagesDER = actividadesDER . paginator . num_pages [EOL] [EOL] if actividadesIZQ . paginator . count == [number] : [EOL] numPagesIZQ = [number] [EOL] [EOL] if actividadesDER . paginator . count == [number] : [EOL] numPagesDER = [number] [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] if paginaIZQ > [number] or paginaDER > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : pa , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , } ) [EOL] [EOL] def perfilActividadesMarca ( request , pk = None ) : [EOL] actividadesPorPagina = [number] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] numPages = [number] [EOL] try : [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] except : [EOL] try : [EOL] pm = PerfilMarca ( request . GET [ [string] ] ) [EOL] except : [EOL] return redirect ( [string] ) [EOL] actividades = pm . actividadesTodasEntreFechas ( request ) [EOL] [EOL] [comment] [EOL] pagina = request . GET . get ( [string] , [number] ) [EOL] paginator = Paginator ( actividades , actividadesPorPagina ) [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] try : [EOL] actividadesTodas = paginator . page ( pagina ) [EOL] except PageNotAnInteger : [EOL] actividadesTodas = paginator . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesTodas = paginator . page ( paginator . num_pages ) [EOL] numPages = actividadesTodas . paginator . num_pages [EOL] if actividadesTodas . paginator . count == [number] : [EOL] numPages = [number] [EOL] [EOL] if pagina > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] [EOL] def perfilActividadesMarcaPorAtleta ( request , pk = None ) : [EOL] actividadesPorPagina = [number] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] [EOL] pka = vs . userAlias [EOL] pa = PerfilAtleta ( pka , vs ) [EOL] [EOL] numPages = [number] [EOL] [EOL] marcaAlias = request . GET [ [string] ] [EOL] [EOL] try : [EOL] pm = PerfilMarca ( marcaAlias ) [EOL] except : [EOL] return redirect ( [string] ) [EOL] [EOL] actividades = pm . actividadesTodasEntreFechas ( request ) [EOL] [EOL] [comment] [EOL] pagina = request . GET . get ( [string] , [number] ) [EOL] paginator = Paginator ( actividades , actividadesPorPagina ) [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] try : [EOL] actividadesTodas = paginator . page ( pagina ) [EOL] except PageNotAnInteger : [EOL] actividadesTodas = paginator . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesTodas = paginator . page ( paginator . num_pages ) [EOL] numPages = actividadesTodas . paginator . num_pages [EOL] if actividadesTodas . paginator . count == [number] : [EOL] numPages = [number] [EOL] [EOL] if pagina > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pa , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : numPages , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pa , [string] : pm . marcaIniciales , [string] : TipoEstatus ( ) . tipoTodasPlus , [string] : Disciplina . objects . filter ( ) , [string] : numPages , [string] : numPages , [string] : numPages , [string] : actividadesTodas , [string] : [string] , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilPlanesAtleta ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] try : [EOL] marcaAlias = request . GET [ [string] ] [EOL] except : [EOL] marcaAlias = None [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] planesActivosPagos = perfil . planesActivosPagos ( marcaAlias ) [EOL] planesHistoricos = perfil . planesHistoricos ( marcaAlias ) [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : planesActivosPagos , [string] : planesHistoricos , } ) [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilPlanesAtletaPerfil ( request , pk = None , pka = None ) : [EOL] [EOL] if not pka : [EOL] pka = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] try : [EOL] marcaAlias = request . GET [ [string] ] [EOL] except : [EOL] marcaAlias = None [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] planesActivosPagos = perfil . planesActivosPagos ( marcaAlias ) [EOL] planesHistoricos = perfil . planesHistoricos ( marcaAlias ) [EOL] [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : planesActivosPagos , [string] : planesHistoricos , } ) [EOL] [EOL] def table_body_planes_atleta ( request ) : [EOL] pk = request . GET [ [string] ] [EOL] pka = pk [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] try : [EOL] marcaAlias = request . GET [ [string] ] [EOL] except : [EOL] marcaAlias = None [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] planesActivosPagos = perfil . planesActivosPagos ( marcaAlias ) [EOL] planesHistoricos = perfil . planesHistoricos ( marcaAlias ) [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : planesActivosPagos , [string] : planesHistoricos , } ) [EOL] [EOL] [EOL] def perfilAtletaMarca ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilAfiliacionesAtleta ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] [EOL] marcasPublicas = Marca . objects . filter ( ) . values ( [string] ) . order_by ( [string] ) [EOL] aPM = [ ] [EOL] i = - [number] [EOL] idx = - [number] [EOL] for marcaPublica in marcasPublicas : [EOL] pm = PerfilMarca ( marcaPublica [ [string] ] ) [EOL] i += [number] [EOL] if pm . marcaDuenoAlias == pk : [EOL] aPM . append ( pm ) [EOL] idx = i [EOL] break [EOL] [comment] [EOL] i = - [number] [EOL] for marcaPublica in marcasPublicas : [EOL] i += [number] [EOL] if i != idx : [EOL] pm = PerfilMarca ( marcaPublica [ [string] ] ) [EOL] aPM . append ( pm ) [EOL] [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : descripcionInstructor , [string] : aPM , } ) [EOL] [EOL] [EOL] def perfilActividadesInstructor ( request , pk = None , pka = None ) : [EOL] actividadesPorPagina = [number] [EOL] esElMismo = False [EOL] marcaAlias = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , False ) [EOL] [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marcaAlias = vs . marcaEnUsoAlias [EOL] [EOL] [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] [EOL] esElMismo = perfil . atletaAlias == vs . userAlias [EOL] [EOL] actividadesPorImpartir = perfil . actividadesPorImpartir ( marcaAlias ) [EOL] actividadesYaImpartidas = perfil . actividadesYaImpartidas ( marcaAlias ) [EOL] [EOL] [comment] [EOL] paginaIZQ = request . GET . get ( [string] , [number] ) [EOL] paginatorIZQ = Paginator ( actividadesPorImpartir , actividadesPorPagina ) [EOL] try : [EOL] actividadesIZQ = paginatorIZQ . page ( paginaIZQ ) [EOL] except PageNotAnInteger : [EOL] actividadesIZQ = paginatorIZQ . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesIZQ = paginatorIZQ . page ( paginatorIZQ . num_pages ) [EOL] [EOL] [comment] [EOL] paginaDER = request . GET . get ( [string] , [number] ) [EOL] paginatorDER = Paginator ( actividadesYaImpartidas , actividadesPorPagina ) [EOL] try : [EOL] actividadesDER = paginatorDER . page ( paginaDER ) [EOL] except PageNotAnInteger : [EOL] actividadesDER = paginatorDER . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesDER = paginatorDER . page ( paginatorDER . num_pages ) [EOL] [EOL] numPagesIZQ = actividadesIZQ . paginator . num_pages [EOL] numPagesDER = actividadesDER . paginator . num_pages [EOL] [EOL] if actividadesIZQ . paginator . count == [number] : [EOL] numPagesIZQ = [number] [EOL] [EOL] if actividadesDER . paginator . count == [number] : [EOL] numPagesDER = [number] [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] diasUltimaImpartida = perfil . diasUltimaImpartida ( ) [EOL] [EOL] if paginaIZQ > [number] or paginaDER > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : perfil , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : diasUltimaImpartida , [string] : esElMismo , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : perfil , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : diasUltimaImpartida , [string] : esElMismo , } ) [EOL] [EOL] def perfilActividadesInstructorPerfil ( request , pk = None , pka = None ) : [EOL] [EOL] if not pka : [EOL] pka = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] [EOL] [EOL] actividadesPorPagina = [number] [EOL] esElMismo = False [EOL] marcaAlias = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , False ) [EOL] [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marcaAlias = vs . marcaEnUsoAlias [EOL] [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] actividadesPorImpartir = perfil . actividadesPorImpartir ( marcaAlias ) [EOL] actividadesYaImpartidas = perfil . actividadesYaImpartidas ( marcaAlias ) [EOL] diasUltimaImpartida = perfil . diasUltimaImpartida ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] actividadesPorImpartir = [ ] [EOL] actividadesYaImpartidas = [ ] [EOL] diasUltimaImpartida = - [number] [EOL] [EOL] esElMismo = perfil . atletaAlias == vs . userAlias [EOL] [EOL] [comment] [EOL] paginaIZQ = request . GET . get ( [string] , [number] ) [EOL] paginatorIZQ = Paginator ( actividadesPorImpartir , actividadesPorPagina ) [EOL] try : [EOL] actividadesIZQ = paginatorIZQ . page ( paginaIZQ ) [EOL] except PageNotAnInteger : [EOL] actividadesIZQ = paginatorIZQ . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesIZQ = paginatorIZQ . page ( paginatorIZQ . num_pages ) [EOL] [EOL] [comment] [EOL] paginaDER = request . GET . get ( [string] , [number] ) [EOL] paginatorDER = Paginator ( actividadesYaImpartidas , actividadesPorPagina ) [EOL] try : [EOL] actividadesDER = paginatorDER . page ( paginaDER ) [EOL] except PageNotAnInteger : [EOL] actividadesDER = paginatorDER . page ( [number] ) [EOL] except EmptyPage : [EOL] actividadesDER = paginatorDER . page ( paginatorDER . num_pages ) [EOL] [EOL] numPagesIZQ = actividadesIZQ . paginator . num_pages [EOL] numPagesDER = actividadesDER . paginator . num_pages [EOL] [EOL] if actividadesIZQ . paginator . count == [number] : [EOL] numPagesIZQ = [number] [EOL] [EOL] if actividadesDER . paginator . count == [number] : [EOL] numPagesDER = [number] [EOL] [EOL] if [string] in request . GET : [EOL] reset = request . GET [ [string] ] [EOL] else : [EOL] reset = False [EOL] [EOL] if paginaIZQ > [number] or paginaDER > [number] or reset : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : perfil , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : diasUltimaImpartida , [string] : esElMismo , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : vs , [string] : randint ( [number] , [number] ) , [string] : perfil , [string] : actividadesIZQ , [string] : actividadesDER , [string] : numPagesIZQ , [string] : numPagesDER , [string] : [string] , [string] : diasUltimaImpartida , [string] : esElMismo , } ) [EOL] [EOL] def table_body_perfil_instructor ( request ) : [EOL] marcaAlias = request . GET [ [string] ] [EOL] [EOL] if [string] in request . GET : [EOL] pk = request . GET [ [string] ] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] patl = PerfilAtleta ( pk , vs ) [EOL] else : [EOL] vs = manejarSesion ( request , request . user . profile . u_alias , False ) [EOL] pk = request . session [ [string] ] [ [string] ] [EOL] patl = PerfilAtleta ( pk , vs ) [EOL] [EOL] if marcaAlias : [EOL] actividades = Actividad . objects . filter ( ac_marca__m_alias = marcaAlias , ac_instructor__u_alias = pk , ac_fecha__lte = datetime . today ( ) , ac_fecha__gte = datetime . today ( ) - timedelta ( days = [number] ) ) . order_by ( [string] ) . values ( [string] ) [EOL] else : [EOL] actividades = Actividad . objects . filter ( ac_instructor__u_alias = pk , ac_fecha__lte = datetime . today ( ) , ac_fecha__gte = datetime . today ( ) - timedelta ( days = [number] ) ) . order_by ( [string] ) . values ( [string] ) [EOL] aAct = [ ] [EOL] for actividad in actividades : [EOL] actJson = PerfilActividad ( actividad [ [string] ] ) . resumenActividadJson ( ) [EOL] aAct . append ( actJson ) [EOL] actividadesYaImpartidas = aAct [EOL] [EOL] if marcaAlias : [EOL] actividades = Actividad . objects . filter ( ac_marca__m_alias = marcaAlias , ac_instructor__u_alias = pk , ac_fecha__gt = datetime . today ( ) ) . order_by ( [string] ) [ [number] : [number] ] . values ( [string] ) [EOL] else : [EOL] actividades = Actividad . objects . filter ( ac_instructor__u_alias = pk , ac_fecha__gt = datetime . today ( ) ) . order_by ( [string] ) [ [number] : [number] ] . values ( [string] ) [EOL] aAct = [ ] [EOL] for actividad in actividades : [EOL] actJson = PerfilActividad ( actividad [ [string] ] ) . resumenActividadJson ( ) [EOL] aAct . append ( actJson ) [EOL] actividadesPorImpartir = aAct [EOL] [EOL] return render ( request , [string] , { [string] : actividadesYaImpartidas , [string] : actividadesPorImpartir , [string] : patl , [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilRemuneracionesInstructorPerfil ( request , pk = None , pka = None ) : [EOL] if not pka : [EOL] pka = request . GET . get ( [string] , None ) [EOL] if pka == None and pk is not None : [EOL] pka = pk [EOL] [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : perfil . ingresosPorPercibir ( ) , [string] : perfil . ingresosYaPercibidos ( ) , [string] : descripcionInstructor , } ) [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilRemuneracionesInstructor ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pka , pk == pka ) [EOL] try : [EOL] modoInstructor = [string] in request . META [ [string] ] [EOL] except : [EOL] modoInstructor = False [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] marca_actual = None [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marca_actual = vs . marcaEnUso [EOL] log . info ( [string] ) [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : marca_actual , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : modoInstructor , [string] : perfil . ingresosPorPercibir ( ) , [string] : perfil . ingresosYaPercibidos ( ) , [string] : descripcionInstructor , } ) [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def table_body_remuneraciones_instructor ( request ) : [EOL] pka = request . GET [ [string] ] [EOL] marcaAlias = None [EOL] if [string] in request . GET : [EOL] marcaAlias = request . GET [ [string] ] [EOL] vs = manejarSesion ( request , pka , False ) [EOL] perfilBasico = PerfilBasicoAtleta ( pka , vs ) [EOL] if perfilBasico . atletaEsInstructor : [EOL] perfil = PerfilInstructor ( pka , vs ) [EOL] descripcionInstructor = perfil . profifeInstructor ( ) [EOL] else : [EOL] perfil = PerfilAtleta ( pka , vs ) [EOL] descripcionInstructor = [string] [EOL] return render ( request , [string] , { [string] : perfil , [string] : vs , [string] : datetime . now ( ) , [string] : randint ( [number] , [number] ) , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : True , [string] : perfil . ingresosPorPercibir ( marcaAlias ) , [string] : perfil . ingresosYaPercibidos ( marcaAlias ) , [string] : descripcionInstructor , } ) [EOL] [EOL] def centeredCrop ( img , new_height , new_width ) : [EOL] width = np . size ( img , [number] ) [EOL] height = np . size ( img , [number] ) [EOL] [EOL] left = np . ceil ( ( width - new_width ) / [number] ) [EOL] top = np . ceil ( ( height - new_height ) / [number] ) [EOL] right = np . floor ( ( width + new_width ) / [number] ) [EOL] bottom = np . floor ( ( height + new_height ) / [number] ) [EOL] [comment] [EOL] cImg = img . crop ( ( left , top , right , bottom ) ) [EOL] return cImg [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def planesatleta ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] usuario_a_consultar = UserProfile . objects . get ( u_alias = pka ) [EOL] esmarca = usuario_a_consultar . u_marca [EOL] try : [EOL] marca_actual = Marca . objects . get ( m_alias = pk ) [EOL] except : [EOL] marca_actual = None [EOL] usuario_a_consultar = UserProfile . objects . get ( u_user = request . user ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] planes = Planes . objects . filter ( p_usuario = usuario_a_consultar . u_user ) [EOL] pagos = [ ] [EOL] estados = [ ] [EOL] for p in planes : [EOL] pag = Pago . objects . get ( p_plan = p ) [EOL] pagos . append ( pag ) [EOL] if pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] elif pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] elif pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] elif pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] elif pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] elif pag . p_medio == [number] : [EOL] estados . append ( [string] ) [EOL] else : [EOL] estados . append ( [string] ) [EOL] [EOL] return render ( request , [string] , { [string] : UserProfile . objects . get ( u_user = request . user ) , [string] : usuario_a_consultar , [string] : marca_actual , [string] : vs , [string] : usuario_a_consultar . u_user , [string] : Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) , [string] : marcas , [string] : esmarca , [string] : zip ( planes , pagos , estados ) , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def historial ( request , pk , id , pkb ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] ide = int ( id ) [EOL] marca_actual = Marca . objects . get ( m_alias = pkb ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] marcasids = marcas . values_list ( [string] , flat = True ) [EOL] actividades = Actividad . objects . filter ( ac_marca__in = marcasids ) [EOL] user = User . objects . get ( pk = pk ) [EOL] perfil = UserProfile . objects . get ( u_user = pk ) [EOL] marca = Marca . objects . get ( m_alias = pkb ) [EOL] if int ( id ) == [number] : [EOL] mostrar = Participantes . objects . filter ( pa_usuario = user , pa_actividad__in = actividades , pa_actividad__ac_fecha__lte = datetime . today ( ) ) . order_by ( [string] ) [EOL] if int ( id ) == [number] : [EOL] mostrar = Espera . objects . filter ( es_usuario = user , es_actividad__in = actividades ) [EOL] if int ( id ) == [number] : [EOL] mostrar = Actividad . objects . filter ( ac_instructor = perfil , ac_marca__in = marcasids , ac_fecha__gt = datetime . today ( ) ) . exclude ( ac_estado__ea_estado__in = [ [string] , [string] ] ) . order_by ( [string] ) [EOL] if int ( id ) == [number] : [EOL] mostrar = Actividad . objects . filter ( ac_instructor = perfil , ac_marca__in = marcasids , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__lte = datetime . today ( ) ) . order_by ( [string] ) [EOL] if int ( id ) > [number] : [EOL] mostrar = Participantes . objects . filter ( pa_usuario = user , pa_actividad__ac_marca = marcas [ int ( id ) - [number] ] . d_marca , pa_actividad__ac_fecha__gt = datetime . today ( ) ) . order_by ( [string] ) [EOL] marca = marcas [ int ( id ) - [number] ] [EOL] pk = marca . id [EOL] if int ( id ) in [ [number] , [number] , [number] ] : [EOL] return render ( request , [string] , { [string] : UserProfile . objects . get ( u_user = request . user ) , [string] : perfil , [string] : marca_actual , [string] : vs , [string] : user , [string] : mostrar , [string] : marca , [string] : ide , [string] : True , [string] : marcas , } ) [EOL] else : [EOL] return render ( request , [string] , { [string] : UserProfile . objects . get ( u_user = request . user ) , [string] : perfil , [string] : marca_actual , [string] : vs , [string] : user , [string] : mostrar , [string] : marca , [string] : ide , [string] : True , [string] : marcas , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def consumoplan ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] id = pka [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] marcasids = marcas . values_list ( [string] , flat = True ) [EOL] actividades = Actividad . objects . filter ( ac_marca__in = marcasids ) [EOL] marca = Marca . objects . get ( m_alias = pk ) [EOL] plan = Planes . objects . get ( pk = id ) [EOL] consumos = Participantes . objects . filter ( pa_plan = plan ) [EOL] return render ( request , [string] , { [string] : plan . p_usuario , [string] : UserProfile . objects . get ( u_user = plan . p_usuario ) , [string] : plan , [string] : marca , [string] : vs , [string] : consumos , [string] : marcas , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def atletascentro ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] try : [EOL] entrenadores = request . GET [ [string] ] [EOL] except : [EOL] entrenadores = [string] [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] marcasids = marcas . values_list ( [string] , flat = True ) [EOL] try : [EOL] marca_actual = Marca . objects . get ( m_alias = pk ) [EOL] except : [EOL] marca_actual = Marca . objects . get ( m_alias = vs . marcaEnUsoAlias ) [EOL] fecha = datetime . today ( ) [EOL] if fecha . day >= [number] and fecha . day <= [number] : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = [number] ) [EOL] else : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = monthrange ( fecha . year , fecha . month ) [ [number] ] ) [EOL] if entrenadores == [string] : [EOL] relacionconmarca = Relacion . objects . filter ( r_marca = marca_actual , r_estado = [string] , r_entrenador = True ) [EOL] else : [EOL] relacionconmarca = Relacion . objects . filter ( r_marca = marca_actual , r_estado = [string] ) [EOL] relacion = relacionconmarca . values_list ( [string] , flat = True ) [EOL] users = UserProfile . objects . filter ( u_user__pk__in = relacion ) . order_by ( [string] , [string] ) [EOL] urelacion = [ ] [EOL] for u in users : [EOL] try : [EOL] saldo = Saldo . objects . filter ( s_user__pk = u . u_user_id , s_marca = marca_actual ) [ [number] ] [EOL] [EOL] planes = Planes . objects . filter ( p_usuario = u . u_user , p_historico = False , p_marca__m_alias = marca_actual . m_alias ) [EOL] plan = planes [ [number] ] [EOL] [EOL] varios = planes . count ( ) > [number] [EOL] except : [EOL] plan = [number] [EOL] varios = False [EOL] saldo = None [EOL] [EOL] if entrenadores == [string] : [EOL] pagos = Actividad . objects . filter ( ac_instructor = u , ac_estado__ea_estado = [string] , ac_fecha__lte = ultimo , ac_fecha__gte = primero ) [EOL] total_hoy = pagos . aggregate ( Sum ( [string] ) ) [EOL] [EOL] clasesimpartidas = Actividad . objects . filter ( ac_instructor = u , ac_marca__in = marcasids , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__lte = datetime . today ( ) ) . count ( ) [EOL] clasesporimpartir = Actividad . objects . filter ( ac_instructor = u , ac_marca__in = marcasids , ac_fecha__gt = datetime . today ( ) ) . exclude ( ac_estado__ea_estado__in = [ [string] , [string] , [string] ] ) . count ( ) [EOL] [EOL] urelacion . append ( [ u , Relacion . objects . get ( r_marca = marca_actual , r_user = u . u_user ) . r_entrenador , plan , total_hoy , clasesimpartidas , clasesporimpartir , saldo ] ) [EOL] else : [EOL] urelacion . append ( [ u , Relacion . objects . get ( r_marca = marca_actual , r_user = u . u_user ) . r_entrenador , plan , varios , saldo ] ) [EOL] return render ( request , [string] , { [string] : marcas , [string] : pk , [string] : marca_actual , [string] : vs , [string] : perfil , [string] : True , [string] : urelacion , [string] : relacionconmarca , [string] : pk , [string] : entrenadores , [string] : randint ( [number] , [number] ) , } ) [EOL] [EOL] [EOL] def atletasentrenadores ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] marca_actual = Marca . objects . get ( m_alias = pk ) [EOL] relacionconmarca = Relacion . objects . filter ( r_marca = marca_actual , r_estado = [string] , r_entrenador = True ) [EOL] relacion = relacionconmarca . values_list ( [string] , flat = True ) [EOL] users = UserProfile . objects . filter ( u_user__pk__in = relacion ) [EOL] urelacion = [ ] [EOL] fecha = datetime . today ( ) [EOL] if fecha . day >= [number] and fecha . day <= [number] : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = [number] ) [EOL] else : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = monthrange ( fecha . year , fecha . month ) [ [number] ] ) [EOL] for u in users : [EOL] pagos = Actividad . objects . filter ( ac_instructor = u , ac_estado = [string] , ac_fecha__lte = ultimo , ac_fecha__gte = primero ) [EOL] total_hoy = pagos . aggregate ( Sum ( [string] ) ) [EOL] urelacion . append ( [ u , Relacion . objects . get ( r_marca = marca_actual , r_user = u . u_user ) . r_entrenador , total_hoy ] ) [EOL] [EOL] return render ( request , [string] , { [string] : marca_actual , [string] : vs , [string] : urelacion , [string] : True , [string] : relacionconmarca , [string] : pk , [string] : [string] , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def estadoentrenadorajax ( request , pk ) : [EOL] estado = int ( request . GET [ [string] ] ) [EOL] marca_actual = Marca . objects . get ( m_alias = pk ) [EOL] relacion = Relacion . objects . get ( r_user = int ( request . GET [ [string] ] ) , r_marca = marca_actual ) [EOL] perfil = UserProfile . objects . get ( u_user = int ( request . GET [ [string] ] ) ) [EOL] perfil . u_entrenador = True [EOL] try : [EOL] perfil . save ( ) [EOL] relacion . r_entrenador = estado == [number] [EOL] relacion . save ( ) [EOL] resultado = estado [EOL] if estado == [number] : [EOL] messages . success ( request , [string] + perfil . u_alias + [string] ) [EOL] else : [EOL] messages . success ( request , [string] + perfil . u_alias + [string] ) [EOL] except : [EOL] resultado = - [number] [EOL] messages . error ( request , [string] ) [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def estadodecuenta ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pm = PerfilMarca ( pk ) [EOL] hoy = datetime . now ( ) [EOL] mes = hoy . month [EOL] anno = hoy . year [EOL] return render ( request , [string] , { [string] : pm , [string] : vs , [string] : mes , [string] : anno , [string] : Pago . STATUS_CHOICES , [string] : Pago . MEDIO_CHOICES , [string] : True , } ) [EOL] [EOL] [EOL] def activarDesactivarCuentaAjax ( request ) : [EOL] cuentaId = request . GET [ [string] ] [EOL] opcion = request . GET [ [string] ] [EOL] cuenta = Cuenta . objects . get ( id = cuentaId ) [EOL] if opcion == [string] : [EOL] cuenta . c_status = False [EOL] else : [EOL] cuenta . c_status = True [EOL] try : [EOL] cuenta . save ( ) [EOL] resultado = [number] [EOL] except : [EOL] resultado = - [number] [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] def table_body_estado_cuenta ( request ) : [EOL] mes = int ( request . GET [ [string] ] ) [EOL] anno = int ( request . GET [ [string] ] ) [EOL] searchString = request . GET [ [string] ] [EOL] idStatus = request . GET [ [string] ] [EOL] idMedio = request . GET [ [string] ] [EOL] idPlan = request . GET [ [string] ] [EOL] pk = request . GET [ [string] ] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] [EOL] criteria = { } [EOL] criteria [ [string] ] = searchString [EOL] criteria [ [string] ] = idStatus [EOL] criteria [ [string] ] = idMedio [EOL] criteria [ [string] ] = idPlan [EOL] [EOL] pm = PerfilMarca ( pk ) [EOL] resultado = pm . marcaPagosMensuales ( mes , anno , criteria ) [EOL] pagos = resultado [ [number] ] [EOL] totales = resultado [ [number] ] [EOL] [EOL] mf = ManejoFechas ( ) [EOL] fechaLiteral = mf . mesLiteral ( mes ) + [string] + str ( anno ) [EOL] [EOL] return render ( request , [string] , { [string] : None , [string] : None , [string] : pagos , [string] : totales , [string] : fechaLiteral , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def cambiarStatusPago ( request ) : [EOL] pagoId = int ( request . GET [ [string] ] ) [EOL] opcion = int ( request . GET [ [string] ] ) [EOL] try : [EOL] pago = Pago . objects . get ( id = pagoId ) [EOL] pago . p_status = opcion [EOL] if pago . p_status == [number] : [EOL] pago . p_fecha_Conciliacion = datetime . now ( ) [EOL] pago . save ( ) [EOL] resultado = [string] [EOL] except : [EOL] resultado = [string] [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def mostrarpagoajax ( request ) : [EOL] pk = int ( request . GET [ [string] ] ) [EOL] pago = Pago . objects . get ( pk = pk ) [EOL] return HttpResponse ( json . dumps ( [ pago . p_pagador . pk , pago . p_producto . pk ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def mostrarPagoPendientePorCobrarAjax ( request ) : [EOL] pk = int ( request . GET [ [string] ] ) [EOL] pago = Pago . objects . get ( pk = pk ) [EOL] return HttpResponse ( json . dumps ( [ pago . p_pagador . pk , pago . p_plan . pk ] ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def registromarca ( request , pka = None , method = [string] ) : [EOL] pk = request . user . profile . u_alias [EOL] vs = manejarSesion ( request , pk , False ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] pa = PerfilAtleta ( pk ) [EOL] if request . method == [string] : [EOL] post = request . POST [EOL] if post . get ( [string] ) == [string] : [EOL] editando = True [EOL] else : [EOL] editando = False [EOL] try : [EOL] if editando : [EOL] marca = Marca . objects . get ( id = vs . marcaEnUsoId ) [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] else : [EOL] marca = Marca ( ) [EOL] esReferenciado = False [EOL] if [string] in request . POST : [EOL] if request . POST [ [string] ] == [string] : [EOL] esReferenciado = True [EOL] tipoDeCuenta = [string] [EOL] if [string] in request . POST : [EOL] if request . POST [ [string] ] == [string] : [EOL] tipoDeCuenta = [string] [EOL] else : [EOL] tipoDeCuenta = [string] [EOL] marca . m_displinafav1 = Disciplina . objects . get ( id = post . get ( [string] ) ) [EOL] marca . m_displinafav2 = Disciplina . objects . get ( id = post . get ( [string] ) ) [EOL] marca . m_displinafav3 = Disciplina . objects . get ( id = post . get ( [string] ) ) [EOL] marca . m_tipoCuenta = tipoDeCuenta [EOL] marca . m_permite_referenciados = esReferenciado [EOL] marca . m_correo = post . get ( [string] ) [EOL] marca . m_nombre = post . get ( [string] ) [EOL] marca . m_razon_social = post . get ( [string] ) [EOL] marca . m_alias = post . get ( [string] ) [EOL] marca . m_iniciales = post . get ( [string] ) [EOL] marca . m_iniciales = marca . m_iniciales . upper ( ) [EOL] if tipoDeCuenta == [string] : [EOL] marca . m_doc_ident = post . get ( [string] ) [EOL] else : [EOL] marca . m_doc_ident = post . get ( [string] ) [EOL] marca . m_razon_social = post . get ( [string] ) [EOL] marca . m_telefono1 = post . get ( [string] ) [EOL] marca . m_telefono2 = post . get ( [string] ) [EOL] marca . m_calle = post . get ( [string] ) [EOL] marca . m_urbanizacion = post . get ( [string] ) [EOL] marca . m_edificioCasa = post . get ( [string] ) [EOL] if post . get ( [string] ) == [string] : [EOL] marca . m_ciudad_id = None [EOL] marca . m_municipio_id = None [EOL] marca . m_pais_id = None [EOL] else : [EOL] marca . m_ciudad_id = post . get ( [string] ) [EOL] marca . m_municipio_id = post . get ( [string] ) [EOL] marca . m_pais_id = post . get ( [string] ) [EOL] [EOL] if post . get ( [string] ) == [string] : [EOL] marca . m_public = True [EOL] else : [EOL] marca . m_public = False [EOL] [EOL] marca . m_est_rrev = post . get ( [string] ) [EOL] marca . m_est_irrev = post . get ( [string] ) [EOL] [EOL] marca . m_redSocial_Facebook = post . get ( [string] ) [EOL] marca . m_redSocial_Instagram = post . get ( [string] ) [EOL] marca . m_redSocial_Twitter = post . get ( [string] ) [EOL] [EOL] marca . m_descripcion = post . get ( [string] ) [EOL] marca . m_planVictorius_id = [string] [EOL] marca . m_boletin = True [EOL] [EOL] marca . save ( ) [EOL] [EOL] marcaCreada = Marca . objects . get ( m_alias = post . get ( [string] ) ) [EOL] [EOL] if not editando : [EOL] [EOL] dueno = Dueno ( ) [EOL] dueno . d_marca = marcaCreada [EOL] dueno . d_user = request . user [EOL] dueno . save ( ) [EOL] [EOL] relacion = Relacion ( ) [EOL] relacion . r_user = request . user [EOL] relacion . r_marca = marcaCreada [EOL] relacion . r_estado = [string] [EOL] relacion . save ( ) [EOL] [EOL] saldo = Saldo ( ) [EOL] saldo . s_user = request . user [EOL] saldo . s_marca = marcaCreada [EOL] saldo . s_bloqueado = [number] [EOL] saldo . s_saldo = [number] [EOL] saldo . save ( ) [EOL] [EOL] perfil . u_marca = True [EOL] perfil . save ( ) [EOL] [EOL] if esReferenciado : [EOL] Producto . objects . create ( p_nombre = [string] , p_marca_id = marcaCreada . id , p_duracion_meses = [number] , p_precio = [number] , p_descuento = [number] , p_creditos = [number] , p_tipo = [number] , p_disciplinas = [ ] ) [EOL] pm = PerfilMarca ( marcaCreada . m_alias ) [EOL] setearPlanReferenciado ( pa , pm ) [EOL] messages . success ( request , [string] + marcaCreada . m_alias + [string] ) [EOL] [EOL] else : [EOL] [EOL] revisarSeteoTipoReferenciado ( pm , esReferenciado ) [EOL] messages . success ( request , [string] + marcaCreada . m_alias + [string] ) [EOL] [EOL] [EOL] except Exception as e : [EOL] messages . error ( request , [string] + e . message ) [EOL] else : [EOL] return render ( request , [string] , { [string] : Ciudad . objects . all ( ) , [string] : Zona . objects . all ( ) , [string] : request . user , [string] : Pais . objects . all , [string] : Disciplina . objects . all ( ) , [string] : PlanVictorius . objects . all , [string] : vs , [string] : pa , } ) [EOL] [EOL] vs = manejarSesion ( request , marca . m_alias , True ) [EOL] request . session [ [string] ] = marca . m_alias [EOL] return redirect ( [string] + marca . m_alias + [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def confmarca ( request , pka ) : [EOL] pk = request . user . profile . u_alias [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pm = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] pais = Pais . objects . all ( ) [EOL] ciudad = Ciudad . objects . all ( ) [EOL] municipio = Zona . objects . all ( ) [EOL] return render ( request , [string] , { [string] : pais , [string] : ciudad , [string] : municipio , [string] : vs , [string] : pm , [string] : Disciplina . objects . all ( ) , [string] : True , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def actualizarConfigMarca ( request , pka ) : [EOL] nombre = request . POST [ [string] ] [EOL] razonSocial = request . POST [ [string] ] [EOL] rif = request . POST [ [string] ] [EOL] descripcion = request . POST [ [string] ] [EOL] calle = request . POST [ [string] ] [EOL] urbanizacion = request . POST [ [string] ] [EOL] ciudad = request . POST [ [string] ] [EOL] municipio = request . POST [ [string] ] [EOL] pais = request . POST [ [string] ] [EOL] edificioCasa = request . POST [ [string] ] [EOL] tiempoReversible = request . POST [ [string] ] [EOL] tiempoIrreversible = request . POST [ [string] ] [EOL] planContratado = request . POST [ [string] ] [EOL] instructoresContratados = request . POST [ [string] ] [EOL] pm = PerfilMarca ( pka ) [EOL] quiereTipoReferenciado = False [EOL] if [string] in request . POST : [EOL] if request . POST [ [string] ] == [string] : [EOL] quiereTipoReferenciado = True [EOL] publica = request . POST . get ( [string] , False ) [EOL] if publica == [string] : [EOL] publica = True [EOL] try : [EOL] revisarSeteoTipoReferenciado ( pm , quiereTipoReferenciado ) [EOL] Marca . objects . filter ( m_alias = pka ) . update ( m_nombre = nombre , m_razon_social = razonSocial , m_doc_ident = rif , m_descripcion = descripcion , m_calle = calle , m_urbanizacion = urbanizacion , m_edificioCasa = edificioCasa , m_ciudad = ciudad , m_municipio = municipio , m_pais = pais , m_est_rrev = tiempoReversible , m_est_irrev = tiempoIrreversible , m_planVictorius = planContratado , m_instructoresContratados = instructoresContratados , m_public = publica , m_permite_referenciados = quiereTipoReferenciado , ) [EOL] messages . success ( request , [string] ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] [EOL] return redirect ( request . META [ [string] ] ) [EOL] [EOL] [EOL] def revisarSeteoTipoReferenciado ( pm , quiereTipoReferenciado ) : [EOL] if quiereTipoReferenciado and pm . marcaProductoTipoReferenciado : [EOL] [comment] [EOL] pass [EOL] elif quiereTipoReferenciado and not pm . marcaProductoTipoReferenciado : [EOL] [comment] [EOL] Marca . objects . filter ( m_alias = pm . marcaAlias ) . update ( m_permite_referenciados = True ) [EOL] [comment] [EOL] [comment] [EOL] pm = PerfilMarca ( pm . marcaAlias ) [EOL] if not Producto . objects . filter ( p_nombre = [string] , p_marca_id = pm . marcaId ) : [EOL] Producto . objects . create ( p_nombre = [string] , p_marca_id = pm . marcaId , p_duracion_meses = [number] , p_precio = [number] , p_descuento = [number] , p_creditos = [number] , p_tipo = [number] , p_disciplinas = [ ] ) [EOL] else : [EOL] [comment] [EOL] pm . marcaProductoTipoReferenciado . p_activo = True [EOL] pm . marcaProductoTipoReferenciado . save ( ) [EOL] [EOL] [comment] [EOL] for atleta in pm . marcaAtletas ( ) : [EOL] pa = PerfilAtleta ( atleta [ [string] ] ) [EOL] setearPlanReferenciado ( pa , pm ) [EOL] elif not quiereTipoReferenciado and pm . marcaProductoTipoReferenciado : [EOL] [comment] [EOL] productoReferenciado = pm . marcaProductoTipoReferenciado [EOL] productoReferenciado . p_activo = False [EOL] productoReferenciado . save ( ) [EOL] Marca . objects . filter ( m_alias = pm . marcaAlias ) . update ( m_permite_referenciados = False ) [EOL] return [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def confatleta ( request , pka ) : [EOL] pk = request . user . profile . u_alias [EOL] vs = manejarSesion ( request , pk , False ) [EOL] usuario = vs . user [EOL] perfil = UserProfile . objects . get ( u_alias = vs . userAlias ) [EOL] try : [EOL] telefono = perfil . u_telefono [EOL] except : [EOL] telefono = None [EOL] paises = Pais . objects . all ( ) [EOL] ciudades = Ciudad . objects . all ( ) [EOL] municipios = Zona . objects . all ( ) [EOL] marcasPublicas = Marca . objects . filter ( m_public = True ) [EOL] marcasSeguidas = Relacion . objects . filter ( r_user_id = usuario . id ) . values_list ( [string] , flat = True ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] try : [EOL] dic1 = Disciplina . objects . get ( pk = perfil . u_displinafav1_id ) . d_nombre [EOL] except : [EOL] dic1 = [string] [EOL] try : [EOL] dic2 = Disciplina . objects . get ( pk = perfil . u_displinafav2_id ) . d_nombre [EOL] except : [EOL] dic2 = [string] [EOL] try : [EOL] dic3 = Disciplina . objects . get ( pk = perfil . u_displinafav3_id ) . d_nombre [EOL] except : [EOL] dic3 = [string] [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] return render ( request , [string] , { [string] : usuario , [string] : perfil , [string] : telefono , [string] : str ( perfil . u_fecha_nac ) , [string] : str ( perfil . u_fecha_nac . year ) + [string] + [string] % ( perfil . u_fecha_nac . month , ) + [string] + [string] % ( perfil . u_fecha_nac . day , ) , [string] : str ( dic1 ) , [string] : dic2 , [string] : dic3 , [string] : marcasPublicas , [string] : marcasSeguidas , [string] : False , [string] : paises , [string] : ciudades , [string] : disciplinas , [string] : municipios , [string] : marcas , [string] : vs , [string] : False , } ) [EOL] [EOL] [EOL] def actualizarConfigAtleta ( request , pka ) : [EOL] conToken = False [EOL] cambioEnUser = False [EOL] if [string] in request . META [ [string] ] : [EOL] k = request . META [ [string] ] . rfind ( [string] ) [EOL] token = Token . objects . get ( u_token = request . META [ [string] ] [ k + [number] : ] ) [EOL] user = token . u_user [EOL] token . delete ( ) [EOL] user . is_active = True [EOL] conToken = True [EOL] else : [EOL] user = request . user [EOL] if user . username != request . POST [ [string] ] : [EOL] user . username = request . POST [ [string] ] [EOL] cambioEnUser = True [EOL] if user . first_name != request . POST [ [string] ] : [EOL] user . first_name = request . POST [ [string] ] [EOL] cambioEnUser = True [EOL] if user . last_name != request . POST [ [string] ] : [EOL] user . last_name = request . POST [ [string] ] [EOL] cambioEnUser = True [EOL] [EOL] try : [EOL] if request . POST [ [string] ] != [string] : [EOL] user . set_password ( request . POST [ [string] ] ) [EOL] user . is_active = True [EOL] cambioEnUser = True [EOL] except : [EOL] pass [EOL] [EOL] perfil = UserProfile . objects . get ( u_user = user ) [EOL] perfil . u_alias = request . POST [ [string] ] [EOL] perfil . u_secondname = ( request . POST [ [string] ] ) [EOL] perfil . u_secondlastname = ( request . POST [ [string] ] ) [EOL] perfil . u_telefono = request . POST [ [string] ] [EOL] perfil . u_calle = request . POST [ [string] ] [EOL] perfil . u_urbanizacion = request . POST [ [string] ] [EOL] [EOL] try : [EOL] perfil . u_ciudad = Ciudad . objects . get ( request . POST [ [string] ] ) [EOL] perfil . u_municipio = Zona . objects . get ( request . POST [ [string] ] ) [EOL] perfil . u_pais = Pais . objects . get ( request . POST [ [string] ] ) [EOL] except : [EOL] perfil . u_ciudad = None [EOL] perfil . u_municipio = None [EOL] perfil . u_pais = None [EOL] [EOL] perfil . u_edificioCasa = request . POST [ [string] ] [EOL] perfil . u_direccion = [string] + request . POST [ [string] ] + [string] + request . POST [ [string] ] + [string] + request . POST [ [string] ] [EOL] [EOL] try : [EOL] perfil . u_fecha_nac = datetime . strptime ( request . POST [ [string] ] , [string] ) [EOL] except : [EOL] pass [EOL] [EOL] perfil . u_genero = request . POST [ [string] ] [EOL] try : [EOL] perfil . u_displinafav1 = Disciplina . objects . get ( id = ( request . POST [ [string] ] ) ) [EOL] perfil . u_displinafav2 = Disciplina . objects . get ( id = ( request . POST [ [string] ] ) ) [EOL] perfil . u_displinafav3 = Disciplina . objects . get ( id = ( request . POST [ [string] ] ) ) [EOL] except : [EOL] pass [EOL] perfil . u_objetivos = ( request . POST [ [string] ] ) [EOL] try : [EOL] if request . POST [ [string] ] == [string] : [EOL] perfil . u_public = True [EOL] except : [EOL] perfil . u_public = False [EOL] [EOL] try : [EOL] if cambioEnUser : [EOL] user . save ( ) [EOL] perfil . u_registrado = True [EOL] perfil . save ( ) [EOL] messages . success ( request , [string] ) [EOL] except Exception as e : [EOL] messages . error ( request , [string] ) [EOL] [EOL] if conToken : [EOL] return redirect ( [string] ) [EOL] else : [EOL] return redirect ( request . META [ [string] ] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def perfilmarca ( request , pk ) : [EOL] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] pm = PerfilMarca ( pk ) [EOL] [EOL] productosActivos = [ ] [EOL] productos = Producto . objects . filter ( p_marca_id = pm . marcaId , p_activo = True ) . exclude ( p_tipo = [number] ) [EOL] for producto in productos : [EOL] log . info ( [string] + producto . p_nombre ) [EOL] productosActivos . append ( { [string] : producto . id , [string] : producto . p_nombre , [string] : bolivares ( producto . p_precio ) , [string] : formatoPorcentaje ( producto . p_descuento ) , [string] : producto . p_creditos , [string] : producto . p_duracion_meses , } ) [EOL] log . info ( [string] ) [EOL] return render ( request , [string] , { [string] : vs , [string] : pm , [string] : pm , [string] : Relacion . objects . filter ( r_user = vs . userId , r_estado = [string] ) , [string] : Disciplina . objects . filter ( ) , [string] : productosActivos , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def solicitudusuarioajax ( request ) : [EOL] opcion = int ( request . GET [ [string] ] ) [EOL] usuario = User . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] marca = Marca . objects . get ( pk = int ( request . GET [ [string] ] ) ) [EOL] mensaje = [string] [EOL] mn = ManejoNotificaciones ( ) [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] if opcion == [number] : [EOL] if Relacion . objects . filter ( r_user = usuario , r_marca = marca , r_estado = [string] ) : [EOL] mensaje = [string] [EOL] else : [EOL] Relacion . objects . create ( r_user = usuario , r_marca = marca , r_estado = [string] ) [EOL] mensaje = [string] [EOL] mn . atleta_solicita_afiliacion ( usuario , marca ) [EOL] elif opcion == [number] : [EOL] r = Relacion . objects . get ( r_user = usuario , r_marca = marca ) [EOL] if r . r_estado == [string] : [EOL] mn . eliminarNotificacionAtletaMarca ( marca . id , usuario . id , [string] ) [EOL] mn . eliminarNotificacionMarcaAtleta ( marca . id , usuario . id , [string] ) [EOL] r . delete ( ) [EOL] mensaje = [string] [EOL] else : [EOL] r . delete ( ) [EOL] mensaje = [string] [EOL] messages . success ( request , mensaje ) [EOL] except : [EOL] mensaje = [string] [EOL] messages . error ( request , [string] ) [EOL] [EOL] return HttpResponse ( json . dumps ( mensaje ) , content_type = [string] ) [EOL] [EOL] [EOL] def setearPlanReferenciado ( pa , pm ) : [EOL] if Planes . objects . filter ( p_marca_id = pm . marcaId , p_usuario_id = pa . atletaId , p_producto_id = pm . marcaProductoTipoReferenciado . id ) : [EOL] return [EOL] hoy = datetime . today ( ) [EOL] [comment] [EOL] planOut = Planes ( ) [EOL] planOut . p_nombre = [string] [EOL] planOut . p_creditos_totales = [number] [EOL] planOut . p_fecha_obtencion = hoy [EOL] planOut . p_fecha_caducidad = datetime ( [number] , hoy . month , hoy . day ) . strftime ( [string] ) [EOL] planOut . p_tipo = [number] [EOL] planOut . p_marca_id = pm . marcaId [EOL] planOut . p_usuario_id = pa . atletaId [EOL] planOut . p_producto_id = pm . marcaProductoTipoReferenciado . id [EOL] planOut . save ( ) [EOL] [EOL] [comment] [EOL] nro = Pago . objects . filter ( p_marca = pm . marcaId ) . count ( ) + [number] [EOL] fechaIn = hoy . strftime ( [string] ) [EOL] codigoInterno = str ( pm . marcaId ) + [string] + fechaIn + [string] + str ( nro ) [EOL] [EOL] [comment] [EOL] pagoOut = Pago ( ) [EOL] pagoOut . p_medio = [number] [EOL] pagoOut . p_pagador_id = pa . atletaId [EOL] pagoOut . p_marca_id = pm . marcaId [EOL] pagoOut . p_plan = planOut [EOL] pagoOut . p_producto_id = planOut . p_producto_id [EOL] pagoOut . p_fecha_registro = hoy [EOL] pagoOut . p_fecha_transaccion = fechaIn [EOL] pagoOut . p_medio = [number] [EOL] pagoOut . p_monto = [number] [EOL] pagoOut . p_precio = [number] [EOL] pagoOut . p_dtoGeneral = [number] [EOL] pagoOut . p_dtoParticular = [number] [EOL] pagoOut . p_diferencia = [number] [EOL] pagoOut . p_status = False [EOL] pagoOut . p_porcobrar = False [EOL] pagoOut . p_codigoInterno = codigoInterno [EOL] pagoOut . save ( ) [EOL] [EOL] return [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def pagospendientes ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] aperfil = UserProfile . objects . get ( u_alias = pka ) [EOL] user = aperfil . u_user [EOL] [EOL] try : [EOL] fecha = datetime . strptime ( request . GET [ [string] ] , [string] ) [EOL] esultimo = False [EOL] if fecha . day >= [number] and fecha . day <= [number] : [EOL] fecha = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = [number] ) [EOL] primero = fecha . replace ( day = [number] ) [EOL] else : [EOL] fecha = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = monthrange ( fecha . year , fecha . month ) [ [number] ] ) [EOL] primero = fecha . replace ( day = [number] ) [EOL] except : [EOL] fecha = datetime . today ( ) [EOL] esultimo = True [EOL] if fecha . day >= [number] and fecha . day <= [number] : [EOL] ultimo = fecha [EOL] primero = fecha . replace ( day = [number] ) [EOL] if not fecha . day == datetime . today ( ) . day : [EOL] ultimo = fecha . replace ( day = [number] ) [EOL] else : [EOL] ultimo = fecha [EOL] primero = fecha . replace ( day = [number] ) [EOL] if not fecha . day == datetime . today ( ) . day : [EOL] ultimo = fecha . replace ( day = monthrange ( fecha . year , fecha . month ) [ [number] ] ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] marcasids = marcas . values_list ( [string] , flat = True ) [EOL] marca_actual = Marca . objects . get ( m_alias = pk ) [EOL] mesesprevios = [ ] [EOL] totalesprevios = [ ] [EOL] pagos = Actividad . objects . filter ( ac_instructor = aperfil , ac_estado = [string] , ac_fecha__lte = ultimo , ac_fecha__gte = primero ) [EOL] total_hoy = pagos . aggregate ( Sum ( [string] ) ) [EOL] hoy = primero [EOL] creditos = ( Actividad . objects . filter ( ac_instructor = aperfil , ac_fecha__lte = ultimo , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__gte = primero ) . aggregate ( Sum ( [string] ) ) ) [ [string] ] [EOL] bonos = ( Actividad . objects . filter ( ac_instructor = aperfil , ac_fecha__lte = ultimo , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__gte = primero ) . aggregate ( Sum ( [string] ) ) ) [ [string] ] [EOL] if creditos == None : [EOL] creditos = [number] [EOL] if bonos == None : [EOL] bonos = [number] [EOL] mostrar = [ ] [EOL] for x in range ( [number] , [number] ) : [EOL] creditos = ( Actividad . objects . filter ( ac_instructor = aperfil , ac_fecha__lte = ultimo , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__gte = primero ) . aggregate ( Sum ( [string] ) ) ) [ [string] ] [EOL] bonos = ( Actividad . objects . filter ( ac_instructor = aperfil , ac_fecha__lte = ultimo , ac_estado__ea_estado__in = [ [string] , [string] ] , ac_fecha__gte = primero ) . aggregate ( Sum ( [string] ) ) ) [ [string] ] [EOL] if creditos == None : [EOL] creditos = [number] [EOL] if bonos == None : [EOL] bonos = [number] [EOL] mesesprevios . append ( [ primero , ultimo , creditos + bonos ] ) [EOL] totalesprevios . append ( [ creditos , bonos , creditos + bonos ] ) [EOL] hoy = primero [EOL] mostrar . append ( Actividad . objects . filter ( ac_instructor = aperfil , ac_fecha__gte = primero , ac_fecha__lte = ultimo , ac_estado = [string] ) ) [EOL] hoy = hoy - timedelta ( days = [number] ) [EOL] if hoy . day >= [number] and hoy . day <= [number] : [EOL] primero = hoy . replace ( day = [number] ) [EOL] ultimo = hoy . replace ( day = [number] ) [EOL] else : [EOL] primero = hoy . replace ( day = [number] ) [EOL] ultimo = hoy . replace ( day = monthrange ( hoy . year , hoy . month ) [ [number] ] ) [EOL] if fecha . day >= [number] and fecha . day <= [number] : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = [number] ) [EOL] else : [EOL] primero = fecha . replace ( day = [number] ) [EOL] ultimo = fecha . replace ( day = monthrange ( fecha . year , fecha . month ) [ [number] ] ) [EOL] marcasids = marcas . values_list ( [string] , flat = True ) [EOL] actividades = Actividad . objects . filter ( ac_marca__in = marcasids ) [EOL] return render ( request , [string] , { [string] : aperfil , [string] : perfil . u_marca , [string] : perfil , [string] : user , [string] : mostrar , [string] : marca_actual , [string] : vs , [string] : esultimo , [string] : marcas , [string] : fecha , [string] : mesesprevios , [string] : totalesprevios , [string] : total_hoy , [string] : pagos , [string] : pk , [string] : pka , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def consumos ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] try : [EOL] hoy = datetime . strptime ( request . GET [ [string] ] , [string] ) [EOL] except : [EOL] hoy = datetime . today ( ) [EOL] try : [EOL] actual = Marca . objects . get ( m_alias = pk ) [EOL] m = True [EOL] except : [EOL] m = False [EOL] fechaActual = datetime . today ( ) [EOL] fechaActual = fechaActual . replace ( hour = [number] , minute = [number] , second = [number] , microsecond = [number] ) [EOL] hoy = hoy . replace ( hour = [number] , minute = [number] , second = [number] , microsecond = [number] ) [EOL] dia_hoy = hoy . day [EOL] dia_sem = hoy . weekday ( ) [EOL] if fechaActual == hoy : [EOL] ini_sem = ( hoy - timedelta ( days = [number] ) ) [EOL] sem_pas = ini_sem [EOL] fin_sem = ini_sem + timedelta ( days = [number] ) [EOL] else : [EOL] ini_sem = ( hoy - timedelta ( days = [number] ) ) [EOL] sem_pas = ini_sem [EOL] fin_sem = ini_sem + timedelta ( days = [number] ) [EOL] [EOL] sem = [ ] [EOL] sem_date = [ ] [EOL] participantes = [ ] [EOL] tespera = [number] [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] [EOL] participo = [ ] [EOL] perfiles = [ ] [EOL] tcreditos = [ ] [EOL] indice = [number] [EOL] for x in range ( [number] , [number] ) : [EOL] fecha = ( ini_sem + timedelta ( days = x ) ) [EOL] fecha = fecha . replace ( hour = [number] , minute = [number] , second = [number] , microsecond = [number] ) [EOL] if fecha == fechaActual : [EOL] indice = x [EOL] sem . append ( fecha . day ) [EOL] sem_date . append ( fecha ) [EOL] participantes . append ( Participantes . objects . filter ( pa_actividad__ac_marca = actual , pa_actividad__ac_fecha = fecha ) . count ( ) ) [EOL] parti = Participantes . objects . filter ( pa_actividad__ac_marca = actual , pa_actividad__ac_fecha = fecha ) [EOL] per = [ ] [EOL] creditos = [number] [EOL] for p in parti : [EOL] per . append ( UserProfile . objects . get ( u_user = p . pa_usuario ) ) [EOL] creditos += p . pa_actividad . ac_creditos [EOL] participo . append ( zip ( parti , per ) ) [EOL] perfiles . append ( per ) [EOL] tcreditos . append ( creditos ) [EOL] esta = ini_sem < datetime . today ( ) and fin_sem > datetime . today ( ) [EOL] [EOL] return render ( request , [string] , { [string] : marcas , [string] : zip ( participantes , sem_date , participo , perfiles , tcreditos ) , [string] : actual , [string] : vs , [string] : perfil , [string] : pk , [string] : esta , [string] : hoy , [string] : sem_pas , [string] : fin_sem , [string] : creditos , [string] : True , [string] : [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [ hoy . weekday ( ) ] , [string] : indice , [string] : participantes , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def cambiarcontraajax ( request ) : [EOL] u = int ( request . GET [ [string] ] ) [EOL] try : [EOL] if ( request . user . pk == u ) : [EOL] user = User . objects . get ( pk = u ) [EOL] user . set_password ( request . GET [ [string] ] ) [EOL] user . save ( ) [EOL] resultado = [number] [EOL] else : [EOL] resultado = [number] [EOL] except : [EOL] resultado = [number] [EOL] return HttpResponse ( json . dumps ( resultado ) , content_type = [string] ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def calendario ( request , pk , pka ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] update_activities ( ) [EOL] ahora = datetime . now ( ) [EOL] relaciones = Relacion . objects . filter ( r_user = request . user , r_estado = [string] ) [EOL] try : [EOL] hoy = datetime . strptime ( request . GET [ [string] ] , [string] ) [EOL] except : [EOL] hoy = datetime . today ( ) [EOL] relacion = Relacion . objects . values_list ( [string] , flat = True ) . filter ( r_estado = [string] , r_user = request . user ) [EOL] mare = Marca . objects . filter ( pk__in = relacion ) [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) | mare [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] hoy = hoy . replace ( hour = [number] , minute = [number] , second = [number] ) [EOL] dia_hoy = hoy . day [EOL] dia_sem = hoy . weekday ( ) [EOL] ini_sem = ( hoy - timedelta ( days = hoy . weekday ( ) ) ) [EOL] pasada = ini_sem - timedelta ( days = [number] ) [EOL] fin_sem = ini_sem + timedelta ( days = [number] ) [EOL] sem = [ ] [EOL] sem_date = [ ] [EOL] for x in range ( [number] , [number] ) : [EOL] sem . append ( ( ini_sem + timedelta ( days = x ) ) . day ) [EOL] sem_date . append ( ini_sem + timedelta ( days = x ) ) [EOL] marcas = Dueno . objects . filter ( d_user = request . user ) [EOL] actual = Marca . objects . get ( m_alias = pka ) [EOL] nombre = actual . m_nombre [EOL] actividades_semana = [ ] [EOL] confirmados_semana = [ ] [EOL] reservas_semana = [ ] [EOL] enespera_semana = [ ] [EOL] cuposenespera_semana = [ ] [EOL] cuentas = [ ] [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] ids = Relacion . objects . values_list ( [string] , flat = True ) . filter ( r_marca = actual , r_entrenador = True ) [EOL] instructores = User . objects . filter ( pk__in = set ( ids ) ) [EOL] salones = Salon . objects . filter ( s_marca = actual ) [EOL] try : [EOL] saldo = Saldo . objects . get ( s_marca = actual , s_user = request . user ) . s_saldo [EOL] except : [EOL] saldo = None [EOL] for i in range ( [number] , [number] ) : [EOL] p = Participantes . objects . values_list ( [string] , flat = True ) . filter ( pa_usuario = request . user , pa_actividad__ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) , ) [EOL] e = Espera . objects . values_list ( [string] , flat = True ) . filter ( es_usuario = request . user , es_actividad__ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) , ) [EOL] pq = Actividad . objects . filter ( pk__in = p ) [EOL] eq = Actividad . objects . filter ( pk__in = e ) [EOL] cuentas . append ( pq . count ( ) + eq . count ( ) ) [EOL] acthoy = Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . order_by ( [string] ) [EOL] est = [ ] [EOL] for x in acthoy : [EOL] if x . ac_fecha >= datetime . now ( ) . date ( ) : [EOL] if x in pq : [EOL] est . append ( [ [number] , Participantes . objects . get ( pa_actividad = x , pa_usuario = request . user ) . pa_num_cupo ] ) [EOL] elif x in eq : [EOL] est . append ( [ [number] , Espera . objects . get ( es_actividad = x , es_usuario = request . user ) . es_num_cupo ] ) [EOL] else : [EOL] est . append ( [ [number] , [number] ] ) [EOL] else : [EOL] if x in pq : [EOL] est . append ( [ [number] , Participantes . objects . get ( pa_actividad = x , pa_usuario = request . user ) . pa_num_cupo ] ) [EOL] elif x in eq : [EOL] est . append ( [ [number] , Espera . objects . get ( es_actividad = x , es_usuario = request . user ) . es_num_cupo ] ) [EOL] else : [EOL] est . append ( [ [number] , [number] ] ) [EOL] actividades_semana . append ( zip ( acthoy , est ) ) [EOL] cuentas . append ( acthoy . count ( ) ) [EOL] confirmados_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] reservas_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] enespera_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] cuposenespera_semana . append ( Actividad . objects . filter ( ac_marca = actual , ac_fecha__range = ( ini_sem + timedelta ( days = i ) , ini_sem + timedelta ( days = i , hours = [number] ) ) ) . aggregate ( sum_cupos = Coalesce ( Sum ( [string] ) , [number] ) ) ) [EOL] maximo = max ( cuentas ) [EOL] nombressem = [ ] [EOL] nom = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] for i in range ( [number] , [number] ) : [EOL] nombressem . append ( nom [ i ] + [string] + str ( sem [ i ] ) ) [EOL] minimo = list ( map ( ( lambda x : range ( maximo - x ) ) , cuentas ) ) [EOL] [EOL] return render ( request , [string] , { [string] : str ( dia_hoy ) , [string] : str ( ini_sem . day ) , [string] : ini_sem , [string] : getmes ( ini_sem . month - [number] ) , [string] : fin_sem , [string] : str ( fin_sem . day ) , [string] : dia_sem , [string] : ahora , [string] : zip ( sem , sem_date ) , [string] : pasada , [string] : pk , [string] : nombre , [string] : relaciones , [string] : saldo , [string] : perfil , [string] : marcas_publicas , [string] : sem_date , [string] : datetime . today ( ) , [string] : maximo , [string] : marcas , [string] : salones , [string] : actual , [string] : vs , [string] : zip ( actividades_semana , minimo , sem_date ) , [string] : confirmados_semana , [string] : reservas_semana , [string] : enespera_semana , [string] : cuposenespera_semana , [string] : disciplinas , [string] : instructores , } ) [EOL] [EOL] [EOL] def instructordetail ( request , pk , pka , pkb ) : [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] entrenador = UserProfile . objects . get ( u_alias = pka ) [EOL] marca = Marca . objects . get ( m_alias = pkb ) [EOL] relaciones = Relacion . objects . filter ( r_user = entrenador . u_user , r_entrenador = True ) [EOL] clasesimpartidas = Actividad . objects . filter ( ac_instructor = entrenador , ac_marca = marca , ac_fecha__lte = datetime . today ( ) ) [ [number] : [number] ] [EOL] clasesporimpartir = Actividad . objects . filter ( ac_instructor = entrenador , ac_marca = marca , ac_fecha__gt = datetime . today ( ) ) [ [number] : [number] ] [EOL] return render ( request , [string] , { [string] : perfil , [string] : entrenador , [string] : relaciones , [string] : marca , [string] : clasesimpartidas , [string] : clasesporimpartir , } ) [EOL] [EOL] [EOL] def activacionporcorreo ( request , pk ) : [EOL] t = Token . objects . get ( u_token = [string] + pk ) [EOL] usuario = t . u_user [EOL] usuario . is_active = True [EOL] usuario . save ( ) [EOL] t . delete ( ) [EOL] [comment] [EOL] usuario = t . u_user [EOL] auth . login ( request , usuario ) [EOL] perfil = UserProfile . objects . get ( u_user = usuario ) [EOL] if perfil . u_marca : [EOL] actual = Dueno . objects . filter ( d_user__username = usuario . username ) [ [number] ] [EOL] request . session [ [string] ] = actual . d_marca . m_alias [EOL] return redirect ( [string] + actual . d_marca . m_alias + [string] ) [EOL] else : [EOL] return redirect ( [string] + perfil . u_alias + [string] ) [EOL] return redirect ( [string] ) [EOL] [EOL] [EOL] def reenviarcorreo ( request ) : [EOL] user = User . objects . get ( username = request . GET [ [string] ] ) [EOL] try : [EOL] token = Token . objects . get ( u_user = user ) [EOL] except : [EOL] t = [string] . join ( random . choice ( string . ascii_uppercase + string . digits ) for _ in range ( [number] ) ) [EOL] token = Token . objects . create ( u_user = user , u_token = t ) [EOL] enlace = [string] + request . META [ [string] ] + [string] + token . u_token [EOL] send_mail ( [string] , user . first_name + [string] + user . last_name + [string] + user . username + [string] + enlace + [string] , [string] , [ user . username ] , fail_silently = False , ) [EOL] [EOL] return HttpResponse ( json . dumps ( [string] ) , content_type = [string] ) [EOL] [EOL] [EOL] def requerirLogon ( request ) : [EOL] return render ( request , [string] ) [EOL] [EOL] [EOL] def getReciboPagoInfo ( request ) : [EOL] planIdIn = request . GET [ [string] ] [EOL] plan = Planes . objects . get ( id = planIdIn ) [EOL] pago = Pago . objects . get ( p_plan_id = planIdIn ) [EOL] centro = pago . p_marca . m_nombre [EOL] perfilPagador = UserProfile . objects . get ( u_user_id = pago . p_pagador_id ) [EOL] nombre = pago . p_pagador . first_name + [string] + pago . p_pagador . last_name [EOL] alias = perfilPagador . u_alias [EOL] envioCorreo = False [EOL] tiempoEmitido = datetime . now ( ) - pago . p_fecha_registro [EOL] if tiempoEmitido . total_seconds ( ) < [number] : [EOL] envioCorreo = True [EOL] fecha = fechaCorta ( pago . p_fecha_registro ) [EOL] total = bolivares ( pago . p_monto - pago . p_diferencia ) [EOL] numeroRecibo = pago . p_codigoInterno [EOL] medioPago = tipoMedioPago ( pago . p_medio ) [EOL] planHeaderDescuento = [string] [EOL] if pago . p_dtoGeneral > [number] : [EOL] planHeaderDescuento += formatoPorcentaje ( porcentajeValor ( pago . p_dtoGeneral , pago . p_precio ) ) [EOL] if pago . p_dtoParticular > [number] : [EOL] planHeaderDescuento += [string] + formatoPorcentaje ( porcentajeValor ( pago . p_dtoParticular , pago . p_precio ) ) [EOL] else : [EOL] if pago . p_dtoParticular > [number] : [EOL] planHeaderDescuento += formatoPorcentaje ( porcentajeValor ( pago . p_dtoParticular , pago . p_precio ) ) [EOL] try : [EOL] banco = pago . p_cuenta . c_banco [EOL] referencia = pago . p_referencia [EOL] except : [EOL] banco = [string] [EOL] referencia = [string] [EOL] data = { [string] : centro , [string] : nombre , [string] : alias , [string] : fecha , [string] : total , [string] : numeroRecibo , [string] : medioPago , [string] : banco , [string] : referencia , [string] : plan . p_nombre , [string] : plan . p_creditos_totales , [string] : fechaCorta ( plan . p_fecha_caducidad ) , [string] : bolivares ( pago . p_precio ) , [string] : planHeaderDescuento , [string] : bolivares ( pago . p_dtoGeneral + pago . p_dtoParticular ) } [EOL] from django . template import loader [EOL] [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] message = [string] [EOL] if envioCorreo : [EOL] send_mail ( [string] , message , [string] , [ pago . p_pagador . email ] , fail_silently = True , html_message = html_message ) [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def enviarCorreoIntencionCompra ( request ) : [EOL] from django . template import loader [EOL] [EOL] correoUsuario = request . user . username [EOL] producto = Producto . objects . get ( id = request . GET [ [string] ] ) [EOL] pm = PerfilMarca ( producto . p_marca . m_alias ) [EOL] cuentas = pm . marcaCuentasBancarias [EOL] data = { [string] : request . user . first_name + [string] + request . user . last_name , [string] : producto . p_nombre , [string] : producto . p_precio , [string] : pm . marcaNombre , [string] : pm . marcaAlias , [string] : cuentas , [string] : pm . marcaRazonSocial , [string] : pm . marcaRif , [string] : pm . marcaCorreo , [string] : pm . marcaTelefono1 , } [EOL] message = [string] + producto . p_nombre + [string] + pm . marcaNombre [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] send_mail ( [string] , message , [string] , [ correoUsuario ] , fail_silently = True , html_message = html_message ) [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def correoBienvenida ( request ) : [EOL] from django . template import loader [EOL] message = [string] [EOL] data = { } [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] send_mail ( [string] , message , [string] , [ [string] ] , fail_silently = True , html_message = html_message ) [EOL] return redirect ( request . META [ [string] ] ) [EOL] [EOL] [EOL] def eliminarUsuario ( request ) : [EOL] usuarioId = request . GET [ [string] ] [EOL] user = User . objects . get ( id = usuarioId ) [EOL] mensaje = [string] [EOL] marca = request . session [ [string] ] [EOL] try : [EOL] if Relacion . objects . filter ( r_user_id = user . id ) . count ( ) == [number] : [EOL] user . delete ( ) [EOL] mensaje = [string] [EOL] else : [EOL] mensaje = [string] [EOL] Relacion . objects . filter ( r_user = user , r_marca__m_alias = marca ) . delete ( ) [EOL] messages . success ( request , mensaje ) [EOL] except Exception as e : [EOL] mensaje = [string] + e . message [EOL] print ( mensaje ) [EOL] messages . error ( request , mensaje ) [EOL] return HttpResponse ( json . dumps ( mensaje ) , content_type = [string] ) [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def configuracionGeneral ( request , pka = None , method = [string] ) : [EOL] vs = manejarSesion ( request , pka , False ) [EOL] return render ( request , [string] , { [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def gestionarPlanes ( request , pka = None , pkb = None , method = [string] ) : [EOL] vs = manejarSesion ( request , pka , False ) [EOL] editando = False [EOL] cuentaNueva = False [EOL] if request . method == [string] : [EOL] post = request . POST [EOL] if post . get ( [string] ) == [string] : [EOL] editando = True [EOL] if editando : [EOL] producto = Producto . objects . get ( id = post . get ( [string] ) ) [EOL] else : [EOL] producto = Producto ( ) [EOL] producto . p_marca_id = vs . marcaEnUsoId [EOL] cuentaNueva = True [EOL] producto . p_nombre = post . get ( [string] ) [EOL] [EOL] producto . p_precio = int ( float ( post . get ( [string] ) . replace ( [string] , [string] ) . replace ( [string] , [string] ) ) ) [EOL] [EOL] if post . get ( [string] ) : [EOL] producto . p_descuento = int ( post . get ( [string] ) ) [EOL] [EOL] if post . get ( [string] ) : [EOL] producto . p_precio2 = int ( post . get ( [string] ) ) [EOL] [EOL] if post . get ( [string] ) : [EOL] producto . p_precio3 = int ( post . get ( [string] ) ) [EOL] [EOL] producto . p_creditos = post . get ( [string] ) [EOL] producto . p_duracion_meses = post . get ( [string] ) [EOL] producto . p_descripcion = post . get ( [string] ) [EOL] if post . get ( [string] ) == [string] : [EOL] producto . p_tipo = [number] [EOL] elif post . get ( [string] ) == [string] : [EOL] producto . p_tipo = [number] [EOL] producto . p_creditos = [number] [EOL] elif post . get ( [string] ) == [string] : [EOL] producto . p_tipo = [number] [EOL] producto . save ( ) [EOL] else : [EOL] if [string] in request . GET : [EOL] productoId = request . GET [ [string] ] [EOL] producto = Producto . objects . get ( id = productoId ) [EOL] idPlan = producto . id [EOL] nombrePlan = producto . p_nombre [EOL] descripcionPlan = producto . p_descripcion [EOL] precio = producto . p_precio [EOL] descuentoEspecial1 = producto . p_precio2 [EOL] descuentoEspecial2 = producto . p_precio3 [EOL] creditos = producto . p_creditos [EOL] vencimiento = producto . p_duracion_meses [EOL] descuentoGeneral = producto . p_descuento [EOL] if producto . p_tipo == [number] : [EOL] tipoPlan = [string] [EOL] elif producto . p_tipo == [number] : [EOL] tipoPlan = [string] [EOL] elif producto . p_tipo == [number] : [EOL] tipoPlan = [string] [EOL] return render ( request , [string] , { [string] : idPlan , [string] : nombrePlan , [string] : descripcionPlan , [string] : precio , [string] : descuentoEspecial1 , [string] : descuentoEspecial2 , [string] : creditos , [string] : vencimiento , [string] : descuentoGeneral , [string] : tipoPlan , [string] : vs , [string] : True , } ) [EOL] if editando or cuentaNueva : [EOL] return redirect ( [string] + pka + [string] + [string] ) [EOL] else : [EOL] return render ( request , [string] , { [string] : False , [string] : vs } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def gestionarCuentas ( request , pka = None , method = [string] ) : [EOL] vs = manejarSesion ( request , pka , False ) [EOL] editando = False [EOL] cuentaNueva = False [EOL] pm = PerfilMarca ( pka ) [EOL] statusLiteral = [string] [EOL] if request . method == [string] : [EOL] post = request . POST [EOL] if post . get ( [string] ) == [string] : [EOL] editando = True [EOL] if editando : [EOL] cuenta = Cuenta . objects . get ( id = post . get ( [string] ) ) [EOL] idCambioStatus = False [EOL] if post . get ( [string] ) == [string] : [EOL] idCambioStatus = True [EOL] statusActual = cuenta . c_status [EOL] if idCambioStatus : [EOL] cuenta . c_status = not statusActual [EOL] else : [EOL] cuenta = Cuenta ( ) [EOL] cuenta . c_marca_id = vs . marcaEnUsoId [EOL] cuenta . c_status = True [EOL] cuentaNueva = True [EOL] [EOL] cuenta . c_banco = post . get ( [string] ) [EOL] cuenta . c_numero_cuenta = post . get ( [string] ) [EOL] [EOL] cuenta . save ( ) [EOL] [EOL] else : [EOL] if [string] in request . GET : [EOL] cuentaId = request . GET [ [string] ] [EOL] cuenta = Cuenta . objects . get ( id = cuentaId ) [EOL] banco = cuenta . c_banco [EOL] numero = cuenta . c_numero_cuenta [EOL] status = cuenta . c_status [EOL] if not status : [EOL] statusLiteral = [string] [EOL] [EOL] return render ( request , [string] , { [string] : cuentaId , [string] : banco , [string] : numero , [string] : status , [string] : True , [string] : pm , [string] : statusLiteral , [string] : vs , } ) [EOL] if editando or cuentaNueva : [EOL] return redirect ( [string] + pka + [string] + [string] ) [EOL] else : [EOL] return render ( request , [string] , { [string] : False , [string] : pm , [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) @ user_is_legal def gestionarSalas ( request , pka = None , method = [string] ) : [EOL] vs = manejarSesion ( request , pka , False ) [EOL] editando = False [EOL] salaNueva = False [EOL] pm = PerfilMarca ( pka ) [EOL] [EOL] if request . method == [string] : [EOL] post = request . POST [EOL] if post . get ( [string] ) == [string] : [EOL] editando = True [EOL] if editando : [EOL] sala = Salon . objects . get ( id = post . get ( [string] ) ) [EOL] else : [EOL] sala = Salon ( ) [EOL] sala . c_marca_id = vs . marcaEnUsoId [EOL] salaNueva = True [EOL] [EOL] sala . s_nombre = post . get ( [string] ) [EOL] sala . s_capacidad = post . get ( [string] ) [EOL] sala . s_marca_id = vs . marcaEnUsoId [EOL] sala . s_overflow = [number] [EOL] sala . s_disciplina = None [EOL] if post . get ( [string] ) == [string] : [EOL] referenciado = True [EOL] else : [EOL] referenciado = False [EOL] sala . s_referenciado = referenciado [EOL] sala . save ( ) [EOL] [EOL] else : [EOL] if [string] in request . GET : [EOL] salaId = request . GET [ [string] ] [EOL] sala = Salon . objects . get ( id = salaId ) [EOL] nombre = sala . s_nombre [EOL] capacidad = sala . s_capacidad [EOL] overflow = sala . s_overflow [EOL] referenciado = sala . s_referenciado [EOL] [EOL] return render ( request , [string] , { [string] : salaId , [string] : nombre , [string] : capacidad , [string] : overflow , [string] : referenciado , [string] : True , [string] : vs , [string] : pm , } ) [EOL] if editando or salaNueva : [EOL] return redirect ( [string] + pka + [string] + [string] ) [EOL] else : [EOL] return render ( request , [string] , { [string] : False , [string] : pm , [string] : vs , } ) [EOL] [EOL] [EOL] @ login_required ( login_url = [string] ) def notificacionesAjax ( request , pk ) : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] mn = ManejoNotificaciones ( ) [EOL] [EOL] pendientes = ( [string] , ) [EOL] recientes = ( [string] , [string] , ) [EOL] [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] perfil = PerfilAtleta ( vs . userAlias ) [EOL] notificacionesAtleta = Usuario_Notificacion . objects . filter ( un_estado__in = recientes , un_usuario_id = vs . userId ) [EOL] if notificacionesAtleta : [EOL] listaNotificacionesRecientes = mn . listaNotificacionesAtleta ( vs . userId , recientes ) [EOL] else : [EOL] listaNotificacionesRecientes = None [EOL] else : [EOL] perfil = PerfilMarca ( vs . marcaEnUsoAlias ) [EOL] notificacionesMarca = Marca_Notificacion . objects . filter ( mn_estado__in = recientes , mn_marca_id = vs . marcaEnUsoId ) [EOL] if notificacionesMarca : [EOL] listaNotificacionesRecientes = mn . listaNotificacionesMarca ( vs . marcaEnUsoId , recientes ) [EOL] else : [EOL] listaNotificacionesRecientes = None [EOL] [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] notificacionesAtleta = Usuario_Notificacion . objects . filter ( un_estado__in = pendientes , un_usuario_id = vs . userId ) [EOL] if notificacionesAtleta : [EOL] listaNotificacionesPendientes = mn . listaNotificacionesAtleta ( vs . userId , pendientes ) [EOL] else : [EOL] listaNotificacionesPendientes = None [EOL] else : [EOL] notificacionesMarca = Marca_Notificacion . objects . filter ( mn_estado__in = pendientes , mn_marca_id = vs . marcaEnUsoId ) [EOL] if notificacionesMarca : [EOL] listaNotificacionesPendientes = mn . listaNotificacionesMarca ( vs . marcaEnUsoId , pendientes ) [EOL] else : [EOL] listaNotificacionesPendientes = None [EOL] [EOL] return render ( request , [string] , { [string] : listaNotificacionesPendientes , [string] : listaNotificacionesRecientes , [string] : vs , [string] : perfil , } ) [EOL] [EOL] [EOL] def aceptarRechazarSolicitudAjax ( request ) : [EOL] disparador = request . GET [ [string] ] [EOL] opcion = request . GET [ [string] ] [EOL] pk = request . user . profile . u_alias [EOL] notificacionId = request . GET [ [string] ] [EOL] marcaId = request . GET [ [string] ] [EOL] vs = manejarSesion ( request , pk , False ) [EOL] if vs . tipoSesion == vs . MARCA : [EOL] marcaAlias = vs . marcaEnUsoAlias [EOL] else : [EOL] marcaAlias = Marca . objects . get ( id = marcaId ) . m_alias [EOL] profile = UserProfile . objects . get ( u_user_id = request . GET [ [string] ] ) [EOL] userAlias = profile . u_alias [EOL] pm = PerfilMarca ( marcaAlias ) [EOL] pa = PerfilAtleta ( userAlias ) [EOL] userId = profile . u_user_id [EOL] notificacion = Notificacion . objects . get ( id = notificacionId ) [EOL] mn = ManejoNotificaciones ( ) [EOL] mensaje = [string] [EOL] estado = [string] [EOL] try : [EOL] relacion = Relacion . objects . get ( r_marca_id = marcaId , r_user_id = userId ) [EOL] if ( opcion == [string] ) : [EOL] if pm . marcaPermiteReferenciados : [EOL] setearPlanReferenciado ( pa , pm ) [EOL] relacion . r_estado = [string] [EOL] relacion . save ( ) [EOL] if not Saldo . objects . filter ( s_user = profile . u_user , s_marca_id = marcaId ) : [EOL] Saldo . objects . create ( s_user = profile . u_user , s_marca_id = marcaId ) [EOL] [EOL] if disparador == [string] : [EOL] mn . marca_acepta_atleta ( notificacion . id ) [EOL] [EOL] if disparador == [string] : [EOL] mn . atleta_acepta_marca ( notificacion . id ) [EOL] [EOL] mensaje = [string] [EOL] estado = [string] [EOL] else : [EOL] [EOL] if disparador == [string] : [EOL] mn . marca_rechaza_atleta ( notificacion . id ) [EOL] [EOL] if disparador == [string] : [EOL] mn . atleta_rechaza_marca ( notificacion . id ) [EOL] [EOL] relacion . delete ( ) [EOL] [EOL] mensaje = [string] [EOL] estado = [string] [EOL] [EOL] except Exception as e : [EOL] print ( [string] + e . message ) [EOL] mensaje = [string] [EOL] messages . error ( request , mensaje ) [EOL] [EOL] data = { [string] : estado } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def actualizaBaseEnSerie ( actividad ) : [EOL] [comment] [EOL] if actividad . ac_OpcionSerie == [string] and actividad . ac_actividadBaseSerieId == actividad . id : [EOL] try : [EOL] proxBaseSerie = Actividad . objects . filter ( id__gt = actividad . id ) . order_by ( [string] ) [ [number] ] . id [EOL] cantRemanenteSerie = Actividad . objects . filter ( id__gt = actividad . id ) . order_by ( [string] ) . count ( ) [EOL] except : [EOL] proxBaseSerie = None [EOL] cantRemanenteSerie = [number] [EOL] else : [EOL] proxBaseSerie = None [EOL] [EOL] actividadBaseSerieId = actividad . id [EOL] [EOL] if proxBaseSerie : [EOL] [comment] [EOL] if cantRemanenteSerie > [number] : [EOL] [comment] [EOL] Actividad . objects . filter ( ac_actividadBaseSerieId = actividad . ac_actividadBaseSerieId , id__gt = actividad . id ) . update ( ac_actividadBaseSerieId = proxBaseSerie ) [EOL] else : [EOL] [comment] [EOL] Actividad . objects . filter ( ac_actividadBaseSerieId = actividad . ac_actividadBaseSerieId , id__gt = actividad . id ) . update ( ac_actividadBaseSerieId = proxBaseSerie , ac_OpcionSerie = [string] , ac_repetirComo = [string] , ac_despd = [string] , ac_do = [number] , ac_enf = [string] , ac_fdesp = actividad . ac_fecha ) [EOL] [EOL] return [EOL] [EOL] [EOL] def password_reset_complete ( request , template_name = [string] , current_app = None , extra_context = None ) : [EOL] from django . shortcuts import resolve_url [EOL] from django . template . response import TemplateResponse [EOL] context = { [string] : resolve_url ( settings . LOGIN_URL ) , [string] : ( [string] ) , } [EOL] if extra_context is not None : [EOL] context . update ( extra_context ) [EOL] [EOL] if current_app is not None : [EOL] request . current_app = current_app [EOL] [EOL] return TemplateResponse ( request , template_name , context ) [EOL] [EOL] def subirAvatar ( request , pk ) : [EOL] if request . method == [string] and request . FILES [ [string] ] : [EOL] myAvatar = request . FILES [ [string] ] [EOL] fs = FileSystemStorage ( ) [EOL] filename = fs . save ( myAvatar . name , myAvatar ) [EOL] uploaded_file_url = fs . url ( filename ) [EOL] return render ( request , [string] , { [string] : uploaded_file_url } ) [EOL] return render ( request , [string] ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Dict , Tuple [EOL] import typing [EOL] from . . models import * [EOL] from django . shortcuts import render , redirect , get_object_or_404 [EOL] from web . templatetags . filtrosEspeciales import * [EOL] from openpyxl import load_workbook [EOL] from openpyxl . styles import Font , Fill [EOL] from openpyxl . cell import Cell [EOL] [EOL] [comment] [EOL] NADA = [number] [EOL] ERROR = [number] [EOL] CREADO = [number] [EOL] ACTUALIZADO = [number] [EOL] REFERENCIADO = [number] [EOL] ACCION = { NADA : [string] , ERROR : [string] , CREADO : [string] , ACTUALIZADO : [string] , REFERENCIADO : [string] } [EOL] [EOL] resultados = { [string] : NADA , [string] : NADA , [string] : NADA , [string] : NADA , [string] : NADA , [string] : NADA , [string] : NADA } [EOL] [EOL] def crearUsuariosBatch ( request ) : [EOL] [comment] [EOL] CORREO = [number] [EOL] CLAVE = [number] [EOL] PRIMER_NOMBRE = [number] [EOL] PRIMER_APELLIDO = [number] [EOL] SEGUNDO_NOMBRE = [number] [EOL] SEGUNDO_APELLIDO = [number] [EOL] TELEFONO = [number] [EOL] ALIAS = [number] [EOL] MARCA = [number] [EOL] CIUDAD = [number] [EOL] MUNICIPIO = [number] [EOL] PAIS = [number] [EOL] CALLE_AVENIDA = [number] [EOL] EDIF_CASA = [number] [EOL] URBANIZACION = [number] [EOL] DISCIPLINA1 = [number] [EOL] DISCIPLINA2 = [number] [EOL] DISCIPLINA3 = [number] [EOL] CREDITOS = [number] [EOL] [EOL] faltaInfo = False [EOL] [EOL] workbook = load_workbook ( filename = [string] ) [EOL] grabaEncabezados ( workbook ) [EOL] [EOL] for row_cells in workbook [ [string] ] . iter_rows ( ) : [EOL] faltaInfo = False [EOL] resultados [ [string] ] = NADA [EOL] resultados [ [string] ] = NADA [EOL] resultados [ [string] ] = NADA [EOL] resultados [ [string] ] = NADA [EOL] resultados [ [string] ] = NADA [EOL] resultados [ [string] ] = NADA [EOL] for cell in row_cells : [EOL] if cell . row == [number] and cell . value is not None : [EOL] if cell . value . strip ( ) == [string] : [EOL] PRIMER_NOMBRE = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] PRIMER_APELLIDO = cell . col_idx - [number] [EOL] if cell . value . strip ( ) == [string] : [EOL] SEGUNDO_NOMBRE = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] SEGUNDO_APELLIDO = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] CORREO = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] CLAVE = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] ALIAS = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] TELEFONO = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] MARCA = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] CIUDAD = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] MUNICIPIO = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] PAIS = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] CALLE_AVENIDA = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] EDIF_CASA = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] URBANIZACION = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] DISCIPLINA1 = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] DISCIPLINA2 = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] DISCIPLINA3 = cell . col_idx - [number] [EOL] elif cell . value . strip ( ) == [string] : [EOL] CREDITOS = cell . col_idx - [number] [EOL] else : [EOL] if cell . row > [number] : [EOL] correo = trim ( row_cells [ CORREO ] . value ) . lower ( ) [EOL] clave = trim ( row_cells [ CLAVE ] . value ) [EOL] nombre = trim ( row_cells [ PRIMER_NOMBRE ] . value ) [EOL] apellido = trim ( row_cells [ PRIMER_APELLIDO ] . value ) [EOL] segundoNombre = trim ( row_cells [ SEGUNDO_NOMBRE ] . value ) [EOL] segundoApellido = trim ( row_cells [ SEGUNDO_APELLIDO ] . value ) [EOL] telefono = soloNumeros ( trim ( row_cells [ TELEFONO ] . value ) ) [EOL] alias = trim ( row_cells [ ALIAS ] . value ) [EOL] marca = trim ( row_cells [ MARCA ] . value ) [EOL] calle = trim ( row_cells [ CALLE_AVENIDA ] . value ) [EOL] edificio_casa = trim ( row_cells [ EDIF_CASA ] . value ) [EOL] urbanizacion = trim ( row_cells [ URBANIZACION ] . value ) [EOL] ciudad = trim ( row_cells [ CIUDAD ] . value ) [EOL] municipio = trim ( row_cells [ MUNICIPIO ] . value ) [EOL] pais = trim ( row_cells [ PAIS ] . value ) [EOL] disciplina1 = trim ( row_cells [ DISCIPLINA1 ] . value ) [EOL] disciplina2 = trim ( row_cells [ DISCIPLINA2 ] . value ) [EOL] disciplina3 = trim ( row_cells [ DISCIPLINA3 ] . value ) [EOL] creditos = int ( str ( row_cells [ CREDITOS ] . value ) ) [EOL] if alias == None or alias == [string] : [EOL] alias = nombre [ [number] : [number] ] . lower ( ) + apellido . lower ( ) [EOL] if clave == None or clave == [string] : [EOL] clave = nombre . lower ( ) + [string] [EOL] if ( correo == [string] or clave == [string] or nombre == [string] or apellido == [string] or telefono == [string] or alias == [string] or marca == [string] ) : [EOL] faltaInfo = True [EOL] if ( ciudad == [string] or municipio == [string] or pais == [string] ) : [EOL] faltaInfo = True [EOL] if not faltaInfo and cell . row > [number] : [EOL] crearUsuario ( correo , clave , nombre , apellido , segundoNombre , segundoApellido , telefono , alias , marca , calle , edificio_casa , urbanizacion , ciudad , municipio , pais , disciplina1 , disciplina2 , disciplina3 , creditos ) [EOL] grabaResultados ( correo , workbook , resultados ) [EOL] grabaFooter ( workbook ) [EOL] return redirect ( [string] ) [EOL] [EOL] [EOL] def crearUsuario ( correo , clave , nombre , apellido , segundoNombre , segundoApellido , telefono , alias , marca , calle , edificio_casa , urbanizacion , ciudad , municipio , pais , disciplina1 , disciplina2 , disciplina3 , creditos ) : [EOL] [EOL] try : [EOL] usuarioExiste = User . objects . filter ( username = correo ) [EOL] if usuarioExiste : [EOL] usuario = User . objects . get ( username = correo ) [EOL] usuario . email = correo [EOL] usuario . first_name = nombre [EOL] usuario . last_name = apellido [EOL] usuario . set_password ( clave ) [EOL] usuario . is_active = True [EOL] usuario . save ( ) [EOL] resultados [ [string] ] = ACTUALIZADO [EOL] [EOL] else : [EOL] usuario = User . objects . create ( username = correo , password = clave , first_name = nombre , last_name = apellido , email = correo , is_active = True ) [EOL] usuario . set_password ( clave ) [EOL] usuario . save ( ) [EOL] resultados [ [string] ] = CREADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] return [EOL] [EOL] [EOL] try : [EOL] if UserProfile . objects . filter ( u_user = usuario ) . exists ( ) == False : [EOL] perfil = UserProfile . objects . create ( u_user = usuario , u_alias = alias , u_secondname = segundoNombre , u_secondlastname = segundoApellido , u_telefono = telefono , u_calle = calle , u_edificioCasa = edificio_casa , u_urbanizacion = urbanizacion , u_direccion = [string] + edificio_casa + [string] + calle + [string] + urbanizacion , u_ciudad = Ciudad . objects . get ( c_nombre = ciudad ) , u_municipio = Zona . objects . get ( z_municipio = municipio ) , u_displinafav1 = Disciplina . objects . get ( d_nombre = disciplina1 ) , u_displinafav2 = Disciplina . objects . get ( d_nombre = disciplina2 ) , u_displinafav3 = None , u_pais = Pais . objects . get ( p_nombre = pais ) ) [EOL] if disciplina3 != [string] : [EOL] perfil . u_displinafav2 = Disciplina . objects . get ( d_nombre = disciplina3 ) [EOL] perfil . save ( ) [EOL] resultados [ [string] ] = CREADO [EOL] else : [EOL] perfil = UserProfile . objects . get ( u_user = usuario ) [EOL] u_user = usuario , [EOL] u_alias = alias , [EOL] u_secondname = segundoNombre , [EOL] u_secondlastname = segundoApellido , [EOL] u_telefono = tel , [EOL] u_calle = calle , [EOL] u_edificioCasa = edificio_casa , [EOL] u_urbanizacion = urbanizacion , [EOL] u_direccion = [string] + edificio_casa + [string] + calle + [string] + urbanizacion , [EOL] u_ciudad = Ciudad . objects . get ( c_nombre = ciudad ) , [EOL] u_municipio = Zona . objects . get ( z_municipio = municipio ) , [EOL] u_displinafav1 = Disciplina . objects . get ( d_nombre = disciplina1 ) , [EOL] u_displinafav2 = Disciplina . objects . get ( d_nombre = disciplina2 ) , [EOL] u_pais = Pais . objects . get ( p_nombre = pais ) [EOL] if disciplina3 != [string] : [EOL] perfil . u_displinafav2 = Disciplina . objects . get ( d_nombre = disciplina3 ) [EOL] perfil . save ( ) [EOL] resultados [ [string] ] = ACTUALIZADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] return [EOL] [EOL] try : [EOL] marca = Marca . objects . get ( m_nombre = marca ) [EOL] resultados [ [string] ] = REFERENCIADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] return [EOL] [EOL] try : [EOL] if Relacion . objects . filter ( r_user = usuario , r_marca = marca ) . exists ( ) : [EOL] relacion = Relacion . objects . get ( r_user = usuario , r_marca = marca ) [EOL] relacion . r_estado = [string] [EOL] relacion . save ( ) [EOL] resultados [ [string] ] = REFERENCIADO [EOL] else : [EOL] relacion = Relacion . objects . create ( r_user = usuario , r_marca = marca , r_estado = [string] ) [EOL] resultados [ [string] ] = CREADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] return [EOL] [EOL] try : [EOL] if Saldo . objects . filter ( s_user = usuario , s_marca = marca ) . exists ( ) : [EOL] saldo = Saldo . objects . get ( s_user = usuario , s_marca = marca ) [EOL] saldo . s_saldo = creditos [EOL] saldo . save ( ) [EOL] resultados [ [string] ] = REFERENCIADO [EOL] else : [EOL] saldo = Saldo . objects . create ( s_user = usuario , s_marca = marca , s_saldo = creditos ) [EOL] resultados [ [string] ] = CREADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] return [EOL] [EOL] try : [EOL] if Planes . objects . filter ( p_usuario = usuario , p_marca = marca , p_nombre = [string] ) . exists ( ) : [EOL] plan = Planes . objects . get ( p_usuario = usuario , p_marca = marca , p_nombre = [string] ) [EOL] plan . p_creditos_totales = creditos [EOL] plan . p_creditos_usados = [number] [EOL] plan . p_fecha_obtencion = datetime . now ( ) [EOL] plan . p_fecha_caducidad = datetime . now ( ) + timedelta ( days = [number] ) [EOL] plan . save ( ) [EOL] resultados [ [string] ] = ACTUALIZADO [EOL] else : [EOL] plan = Planes . objects . create ( p_usuario = usuario , p_marca = marca , p_nombre = [string] , p_creditos_totales = creditos , p_creditos_usados = [number] , p_fecha_obtencion = datetime . now ( ) , p_fecha_caducidad = datetime . now ( ) + timedelta ( days = [number] ) ) [EOL] resultados [ [string] ] = CREADO [EOL] except : [EOL] resultados [ [string] ] = ERROR [EOL] [EOL] return [EOL] [EOL] [EOL] def trim ( valor ) : [EOL] if valor == None : [EOL] return [string] [EOL] else : [EOL] return valor . strip ( ) [EOL] [EOL] [EOL] def soloNumeros ( valor ) : [EOL] valorNumerico = [string] [EOL] digitos = [string] [EOL] for d in valor : [EOL] if d in digitos : [EOL] valorNumerico += d [EOL] return valorNumerico [EOL] [EOL] def grabaResultados ( usuario , workbook , resultados ) : [EOL] referencia = { [string] : [string] , [string] : [string] , [string] : [string] , [string] : [string] , [string] : [string] , [string] : [string] , [string] : [string] } [EOL] row = workbook [ [string] ] . max_row + [number] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = usuario [EOL] for letra in [string] : [EOL] workbook [ [string] ] [ letra + str ( row ) ] = ACCION [ resultados [ referencia [ letra ] ] ] [EOL] workbook . save ( filename = [string] ) [EOL] return [EOL] [EOL] def grabaEncabezados ( workbook ) : [EOL] row = workbook [ [string] ] . max_row + [number] [EOL] _cell = workbook [ [string] ] . cell ( [string] + str ( row ) ) [EOL] _cell . font = Font ( bold = True ) [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] + fechaCorta ( datetime . now ( ) ) + [string] + horaCivil ( datetime . now ( ) . time ( ) ) [EOL] row = workbook [ [string] ] . max_row + [number] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook . save ( filename = [string] ) [EOL] return [EOL] [EOL] def grabaFooter ( workbook ) : [EOL] row = workbook [ [string] ] . max_row + [number] [EOL] _cell = workbook [ [string] ] . cell ( [string] + str ( row ) ) [EOL] _cell . font = Font ( bold = True ) [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] row = workbook [ [string] ] . max_row + [number] [EOL] workbook [ [string] ] [ [string] + str ( row ) ] = [string] [EOL] workbook . save ( filename = [string] ) [EOL] return	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $typing.Dict[builtins.int,builtins.str]$ 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 $builtins.int$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Dict[builtins.int,builtins.str]$ 0 $typing.Dict[builtins.str,builtins.int]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
	0
	0
[comment] [EOL] [EOL] from typing import Any , List [EOL] import typing [EOL] import web [EOL] import datetime [EOL] from django import template [EOL] from datetime import datetime , timedelta [EOL] import locale [EOL] from django . utils . safestring import mark_safe [EOL] import re [EOL] from web . models import * [EOL] from web . clases import VicSafe , PerfilActividad , PerfilMarca , VicSession [EOL] from django_globals import globals [EOL] [EOL] register = template . Library ( ) [EOL] [EOL] @ register . simple_tag def notificaciones_pendientes ( vs ) : [EOL] if vs . tipoSesion == vs . MARCA : [EOL] np = str ( Marca_Notificacion . objects . filter ( mn_marca_id = vs . marcaEnUsoId , mn_estado = [string] ) . count ( ) ) [EOL] else : [EOL] np = str ( Usuario_Notificacion . objects . filter ( un_usuario_id = vs . userId , un_estado = [string] ) . count ( ) ) [EOL] if np == [string] : [EOL] np = [string] [EOL] return np [EOL] [EOL] @ register . simple_tag def current_time ( format_string ) : [EOL] return datetime . now ( ) . strftime ( format_string ) [EOL] [EOL] @ register . simple_tag def perfil_de_marca ( marcaAlias ) : [EOL] pm = PerfilMarca ( marcaAlias ) [EOL] return pm [EOL] [EOL] @ register . simple_tag def marca_tiene_actividades_abiertas ( marcaId ) : [EOL] tiene = False [EOL] actividades = Actividad . objects . filter ( ac_marca_id = marcaId , ac_estado_id__in = [ [string] , [string] ] ) [EOL] if actividades : [EOL] tiene = True [EOL] return tiene [EOL] [EOL] @ register . simple_tag def soy_yo_mismo ( atletaId ) : [EOL] soyYoMismo = False [EOL] vs = None [EOL] if [string] in globals . request . session : [EOL] vsJson = globals . request . session [ [string] ] [EOL] vs = VicSession ( globals . request . user . username ) [EOL] vs . setear ( vsJson ) [EOL] if vs . userId == atletaId : [EOL] soyYoMismo = True [EOL] return soyYoMismo [EOL] [EOL] @ register . simple_tag def puede_reservar ( actividadId , atletaId ) : [EOL] vs = None [EOL] if [string] in globals . request . session : [EOL] vsJson = globals . request . session [ [string] ] [EOL] vs = VicSession ( globals . request . user . username ) [EOL] vs . setear ( vsJson ) [EOL] actividad = Actividad . objects . get ( id = actividadId ) [EOL] actividadInstructor = actividad . ac_instructor [EOL] marcaActividadId = actividad . ac_marca_id [EOL] [EOL] try : [EOL] if vs . userAlias == actividadInstructor . u_alias : [EOL] return False [EOL] else : [EOL] try : [EOL] vicsafe = VicSafe ( atletaId , marcaActividadId , None ) [EOL] resultado = vicsafe . puedeReservarActividad ( actividadId , vs ) is not None [EOL] return resultado [EOL] except : [EOL] return False [EOL] except : [EOL] return False [EOL] [EOL] [EOL] @ register . simple_tag def esta_reservado ( actividadId , atletaId ) : [EOL] reservado = Participantes . objects . filter ( pa_actividad_id = actividadId , pa_usuario_id = atletaId ) [EOL] espera = Espera . objects . filter ( es_actividad_id = actividadId , es_usuario_id = atletaId ) [EOL] if reservado or espera : [EOL] estaReservado = True [EOL] else : [EOL] estaReservado = False [EOL] return estaReservado [EOL] [EOL] @ register . simple_tag def atleta_asistio ( actividadId , atletaId ) : [EOL] participo = Participantes . objects . filter ( pa_actividad_id = actividadId , pa_usuario_id = atletaId ) [EOL] if participo : [EOL] if participo [ [number] ] . pa_asistencia == True : [EOL] return True [EOL] return False [EOL] [EOL] @ register . simple_tag def puesto_reserva ( actividadId , atletaId ) : [EOL] participacion = Participantes . objects . filter ( pa_actividad_id = actividadId , pa_usuario_id = atletaId ) [EOL] if participacion : [EOL] puestoReserva = participacion [ [number] ] . pa_num_cupo [EOL] else : [EOL] puestoReserva = None [EOL] return puestoReserva [EOL] [EOL] @ register . simple_tag def puesto_espera ( actividadId , atletaId ) : [EOL] espera = Espera . objects . filter ( es_actividad_id = actividadId , es_usuario_id = atletaId ) [EOL] if espera : [EOL] puestoEspera = espera [ [number] ] . es_num_cupo [EOL] else : [EOL] puestoEspera = None [EOL] return puestoEspera [EOL] [EOL] @ register . simple_tag def esta_en_espera ( actividadId , atletaId ) : [EOL] espera = Espera . objects . filter ( es_actividad_id = actividadId , es_usuario_id = atletaId ) [EOL] if espera : [EOL] estaEnEspera = True [EOL] else : [EOL] estaEnEspera = False [EOL] return estaEnEspera [EOL] [EOL] @ register . simple_tag def siguiendo_esta_marca ( marcaId , atletaId ) : [EOL] estaSiguiendo = False [EOL] siguiendo = Relacion . objects . filter ( r_user_id = atletaId , r_marca_id = marcaId , r_estado = [string] ) [EOL] if siguiendo : [EOL] estaSiguiendo = True [EOL] return estaSiguiendo [EOL] [EOL] @ register . simple_tag def pendiente_con_esta_marca ( marcaId , atletaId ) : [EOL] estaPendiente = False [EOL] pendiente = Relacion . objects . filter ( r_user_id = atletaId , r_marca_id = marcaId , r_estado = [string] ) [EOL] if pendiente : [EOL] estaPendiente = True [EOL] return estaPendiente [EOL] [EOL] @ register . simple_tag def instructor_en_esta_marca ( marcaId , atletaId ) : [EOL] esInstructor = False [EOL] instructor = Relacion . objects . filter ( r_user_id = atletaId , r_marca_id = marcaId , r_entrenador = True ) [EOL] if instructor : [EOL] esInstructor = True [EOL] return esInstructor [EOL] [EOL] @ register . simple_tag def esAmigo ( atletaReceptorId , atletaSolicitanteId ) : [EOL] esAmigo = False [EOL] amigos = Amistad . objects . filter ( a_estado = [string] , a_receptor_id = atletaReceptorId , a_solicitante_id = atletaSolicitanteId ) [EOL] if amigos : [EOL] esAmigo = True [EOL] return esAmigo [EOL] [EOL] @ register . simple_tag def tieneAmigosEnActividad ( atletaId , actividadId ) : [EOL] tieneAmigos = False [EOL] participantes = Participantes . objects . filter ( pa_actividad_id = actividadId ) [EOL] for participante in participantes : [EOL] if esAmigo ( participante . pa_usuario_id , atletaId ) : [EOL] tieneAmigos = True [EOL] break [EOL] return tieneAmigos [EOL] [EOL] def multiply ( value , arg ) : [EOL] return value * arg [EOL] [EOL] def telefono ( telefonoIn ) : [EOL] telefonoIn = re . sub ( [string] , [string] , telefonoIn ) [EOL] if telefonoIn [ [number] : [number] ] == [string] : [EOL] telefonoIn = telefonoIn [ [number] : ] [EOL] if len ( telefonoIn ) == [number] : [EOL] area = telefonoIn [ [number] : [number] ] [EOL] tel = telefonoIn [ [number] : ] [EOL] elif len ( telefonoIn ) == [number] : [EOL] area = [string] + telefonoIn [ [number] : [number] ] [EOL] tel = telefonoIn [ [number] : ] [EOL] else : [EOL] area = [string] [EOL] tel = telefonoIn [ : ] [EOL] telefonoFormateado = [string] [EOL] telefonoFormateado += [string] + [string] + area + [string] + tel [ [number] : [number] ] + [string] + tel [ [number] : ] [EOL] return telefonoFormateado [EOL] [EOL] def fechaLarga ( fechaIn ) : [comment] [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] d = fecha . weekday ( ) [EOL] fechaFormateada = dias [ d ] + [string] [EOL] fechaFormateada += str ( fecha . day ) + [string] [EOL] fechaFormateada += meses [ fecha . month - [number] ] + [string] [EOL] fechaFormateada += str ( fecha . year ) [EOL] return fechaFormateada [EOL] [EOL] def fechaMedioLarga ( fechaIn ) : [comment] [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] d = fecha . weekday ( ) [EOL] fechaFormateada = dias [ d ] . capitalize ( ) + [string] [EOL] fechaFormateada += str ( fecha . day ) + [string] [EOL] fechaFormateada += meses [ fecha . month - [number] ] . capitalize ( ) + [string] [EOL] fechaFormateada += str ( fecha . year ) [EOL] return fechaFormateada [EOL] [EOL] def fechaNormal ( fechaIn ) : [comment] [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] d = fecha . weekday ( ) [EOL] fechaFormateada += str ( fecha . day ) + [string] [EOL] fechaFormateada += meses [ fecha . month - [number] ] + [string] [EOL] fechaFormateada += str ( fecha . year ) [EOL] return fechaFormateada [EOL] [EOL] def fechaEspecial_ ( fechaIn ) : [comment] [EOL] hoy = datetime . now ( ) . date ( ) [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] d = fecha . weekday ( ) [EOL] dia = dias [ d ] [EOL] if fecha == hoy : [EOL] fechaFormateada = [string] [EOL] elif fecha == hoy + timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] elif fecha == hoy - timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] elif fecha . month == hoy . month and fecha . year == hoy . year : [EOL] fechaFormateada = dia + [string] + str ( fecha . day ) [EOL] elif fecha . year == hoy . year : [EOL] fechaFormateada += str ( fecha . day ) + [string] [EOL] fechaFormateada += meses [ fecha . month - [number] ] [EOL] else : [EOL] fechaFormateada += str ( fecha . day ) + [string] [EOL] fechaFormateada += meses [ fecha . month - [number] ] + [string] [EOL] fechaFormateada += str ( fecha . year ) [EOL] return fechaFormateada [EOL] [EOL] def fechaEspecial ( fechaIn ) : [comment] [EOL] hoy = datetime . now ( ) . date ( ) [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] d = fecha . weekday ( ) [EOL] diaStr = dias [ d ] [ : [number] ] [EOL] dia = str ( fecha . day ) [EOL] mes = meses [ fecha . month - [number] ] [ : [number] ] [EOL] if fecha == hoy : [EOL] fechaFormateada = [string] [EOL] elif fecha == hoy + timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] elif fecha == hoy - timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] elif fecha . month == hoy . month and fecha . year == hoy . year : [EOL] fechaFormateada = diaStr + [string] + dia [EOL] elif fecha . year == hoy . year : [EOL] fechaFormateada += diaStr + [string] + dia + [string] + mes [EOL] else : [EOL] fechaFormateada = fechaCorta ( fechaIn ) [EOL] return fechaFormateada [EOL] [EOL] def fechaCorta ( fechaIn ) : [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] fechaFormateada = str ( fecha . day ) + [string] + str ( fecha . month ) + [string] + str ( fecha . year ) [EOL] return fechaFormateada [EOL] [EOL] def fechaCortaConHora ( fechaIn ) : [EOL] fechaFormateada = [string] [EOL] if not fechaIn : [EOL] return fechaFormateada [EOL] fecha = fechaIn [EOL] fechaFormateada = str ( fecha . day ) + [string] + str ( fecha . month ) + [string] + str ( fecha . year ) [EOL] fechaFormateada += [string] [EOL] fechaFormateada += horaCivil ( fechaIn . time ( ) ) [EOL] return fechaFormateada [EOL] [EOL] def horaCivil ( horaIn ) : [EOL] if type ( horaIn ) . __name__ == [string] or type ( horaIn ) . __name__ == [string] : [EOL] hora = horaIn [EOL] else : [EOL] hora = datetime . strptime ( horaIn , [string] ) . time ( ) [EOL] horaFormateada = hora . strftime ( [string] ) [EOL] return horaFormateada [EOL] [EOL] def tiempo ( tiempoIn ) : [EOL] if type ( tiempoIn ) . __name__ == [string] or type ( tiempoIn ) . __name__ == [string] : [EOL] tiempo = tiempoIn [EOL] else : [EOL] tiempo = datetime . strptime ( tiempoIn , [string] ) . time ( ) [EOL] tiempoFormateado = tiempo . strftime ( [string] ) [EOL] return tiempoFormateado [EOL] [EOL] def porcentajeValor ( valorIn , baseIn ) : [comment] [EOL] valor = float ( valorIn ) [EOL] base = float ( baseIn ) [EOL] try : [EOL] porcentaje = round ( valor / base * [number] , [number] ) [EOL] except : [EOL] porcentaje = [number] [EOL] return porcentaje [EOL] [EOL] def mesLiteral ( fechaIn ) : [EOL] mes = [string] [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] meses = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if fechaIn == [string] : [EOL] fechaIn = datetime . now ( ) [EOL] if type ( fechaIn ) . __name__ == [string] or type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . time ( ) [EOL] mes = meses [ fecha . month - [number] ] [EOL] return mes [EOL] [EOL] def bolivares ( valor ) : [EOL] locale . setlocale ( locale . LC_ALL , [string] ) [EOL] try : [EOL] valor = float ( valor ) [EOL] except : [EOL] valor = [number] [EOL] valorFormateado = locale . format ( [string] , valor , grouping = True ) [EOL] [comment] [EOL] return valorFormateado [EOL] [EOL] def fechaCortaPlus ( fechaIn ) : [EOL] dias = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [EOL] if type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn [EOL] elif type ( fechaIn ) . __name__ == [string] : [EOL] fecha = fechaIn . date ( ) [EOL] else : [EOL] fecha = datetime . strptime ( fechaIn , [string] ) . date ( ) [EOL] fechaFormateada = str ( fecha . day ) + [string] + str ( fecha . month ) + [string] + str ( fecha . year ) [EOL] try : [EOL] if fecha == datetime . now ( ) . date ( ) : [EOL] fechaFormateada = [string] [EOL] elif fecha == datetime . now ( ) . date ( ) + timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] elif fecha == datetime . now ( ) . date ( ) - timedelta ( days = [number] ) : [EOL] fechaFormateada = [string] [EOL] else : [EOL] dia = dias [ fecha . weekday ( ) ] [ : [number] ] . capitalize ( ) [EOL] fechaFormateada = dia + [string] + str ( fecha . day ) + [string] + fechaIn . strftime ( [string] ) [ : [number] ] . capitalize ( ) [EOL] except : [EOL] a = [number] [EOL] return fechaFormateada [EOL] [EOL] @ register . filter ( name = [string] ) def getkey ( value , arg ) : [EOL] return value [ arg ] [EOL] [EOL] @ register . simple_tag def actualizar_variable ( value ) : [EOL] [docstring] [EOL] return value [EOL] [EOL] def tupleToString ( value ) : [EOL] value = [string] . join ( value [ [number] ] ) [EOL] return value [EOL] [EOL] def tipoMedioPago ( value ) : [EOL] tipoIn = [ [string] , [string] , [string] , [string] , [string] , [string] , [string] , [string] ] [ value ] [EOL] return tipoIn [EOL] [EOL] def formatoPorcentaje ( value ) : [EOL] value = round ( value ) [EOL] if value - int ( value ) > [number] : [EOL] return locale . format ( [string] , value , grouping = True ) + [string] [EOL] else : [EOL] return locale . format ( [string] , value , grouping = True ) + [string] [EOL] [EOL] def nbsp ( value ) : [EOL] return mark_safe ( [string] . join ( value . split ( [string] ) ) ) [EOL] [EOL] register . filter ( [string] , actualizar_variable ) [EOL] register . filter ( [string] , fechaLarga ) [EOL] register . filter ( [string] , fechaMedioLarga ) [EOL] register . filter ( [string] , fechaCorta ) [EOL] register . filter ( [string] , fechaCortaConHora ) [EOL] register . filter ( [string] , fechaNormal ) [EOL] register . filter ( [string] , fechaEspecial ) [EOL] register . filter ( [string] , horaCivil ) [EOL] register . filter ( [string] , porcentajeValor ) [EOL] register . filter ( [string] , mesLiteral ) [EOL] register . filter ( [string] , bolivares ) [EOL] register . filter ( [string] , fechaCortaPlus ) [EOL] register . filter ( [string] , tupleToString ) [EOL] register . filter ( [string] , tipoMedioPago ) [EOL] register . filter ( [string] , formatoPorcentaje ) [EOL] register . filter ( [string] , nbsp ) [EOL] register . filter ( [string] , telefono ) [EOL] register . filter ( [string] , tiempo ) [EOL] register . filter ( [string] , multiply ) [EOL] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0
	0
	0
from django . apps import AppConfig [EOL] [EOL] [EOL] class AccountsConfig ( AppConfig ) : [EOL] name = [string] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0
from typing import Type , Tuple [EOL] import accounts [EOL] import typing [EOL] from django import forms [EOL] from web . models import * [EOL] [EOL] from django . contrib . auth . models import User [EOL] [EOL] class RegisterForm ( forms . ModelForm ) : [EOL] [EOL] class Meta : [EOL] model = User [EOL] fields = ( [string] , [string] , [string] , [string] )	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Type[accounts.forms.RegisterForm.Meta]$ 0 0 0 $typing.Tuple[builtins.str,builtins.str,builtins.str,builtins.str]$ 0 0 0 0 0 0 0 0 0 0
[comment] [EOL] [comment] [EOL] [comment] [EOL] [comment] [EOL] [EOL] from typing import Any , Dict [EOL] import accounts [EOL] import typing [EOL] import web [EOL] import logging [EOL] from django . shortcuts import render , redirect [EOL] from django . contrib . auth import * [EOL] from accounts . forms import * [EOL] from web . models import * [EOL] from django . db import transaction [EOL] from django . contrib import messages [EOL] import random [EOL] import string [EOL] from django . core . mail import send_mail [EOL] from django . contrib import auth [EOL] from web . clases import * [EOL] from django . http import JsonResponse [EOL] import logging [EOL] [EOL] app_name = [string] [EOL] [EOL] log = logging . getLogger ( [string] ) [EOL] [EOL] tokenValidator = [string] [EOL] [EOL] def validate_username ( request ) : [EOL] username = request . GET . get ( [string] , None ) [EOL] user = User . objects . filter ( username__iexact = username ) [EOL] is_taken = False [EOL] registeredHere = False [EOL] activo = False [EOL] marca = None [EOL] marcaNombre = None [EOL] marcaDescripcion = None [EOL] if user . exists ( ) : [EOL] is_taken = True [EOL] first_name = user [ [number] ] . first_name [EOL] last_name = user [ [number] ] . last_name [EOL] alias = user [ [number] ] . profile . u_alias [EOL] correo = user [ [number] ] . email [EOL] try : [EOL] telefono = user [ [number] ] . profile . u_telefono [EOL] except : [EOL] telefono = [string] [EOL] activo = user [ [number] ] . is_active [EOL] if [string] in request . session : [EOL] marca = request . session [ [string] ] [EOL] marcaNombre = [string] [EOL] marcaDescripcion = [string] [EOL] if Relacion . objects . filter ( r_user = user , r_estado = [string] , r_marca = Marca . objects . filter ( m_alias = request . session [ [string] ] ) [ [number] ] ) == True : [EOL] registeredHere = True [EOL] [EOL] if activo == False : [EOL] token = Token . objects . filter ( u_user = user [ [number] ] ) [ [number] ] [EOL] from django . template import loader [EOL] message = [string] [EOL] data = { [string] : token , [string] : [string] + request . META [ [string] ] + [string] + token . u_token , [string] : first_name + [string] + last_name , [string] : alias , [string] : marcaNombre , [string] : marcaDescripcion , [string] : False , } [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] send_mail ( [string] , message , [string] , [ correo ] , fail_silently = True , html_message = html_message ) [EOL] else : [EOL] pass [EOL] else : [EOL] is_taken = False [EOL] first_name = [string] [EOL] last_name = [string] [EOL] alias = [string] [EOL] telefono = [string] [EOL] [EOL] data = { [string] : is_taken , [string] : registeredHere , [string] : marca , [string] : first_name , [string] : last_name , [string] : alias , [string] : telefono , [string] : activo , } [EOL] [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def validate_useralias ( request ) : [EOL] useralias = request . GET . get ( [string] , None ) [EOL] is_taken = False [EOL] usuario_pk = None [EOL] if UserProfile . objects . filter ( u_alias__iexact = useralias ) . exists ( ) : [EOL] is_taken = True [EOL] usuario_pk = UserProfile . objects . get ( u_alias__iexact = useralias ) . u_user . pk [EOL] else : [EOL] usuario_pk = None [EOL] data = { [string] : is_taken , [string] : usuario_pk , } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def validate_marcaalias ( request ) : [EOL] marcaalias = request . GET . get ( [string] , None ) [EOL] data = { [string] : Marca . objects . filter ( m_alias__iexact = marcaalias ) . exists ( ) } [EOL] return JsonResponse ( data ) [EOL] [EOL] [EOL] def cambiarmarca ( request , pk ) : [EOL] request . session [ [string] ] = pk [EOL] manejarSesion ( request , pk , True ) [EOL] [EOL] return redirect ( [string] + request . session [ [string] ] + [string] ) [EOL] [EOL] [EOL] def get_client_ip ( request ) : [EOL] x_forwarded_for = request . META . get ( [string] ) [EOL] if x_forwarded_for : [EOL] ip = x_forwarded_for . split ( [string] ) [ [number] ] [EOL] else : [EOL] ip = request . META . get ( [string] ) [EOL] return ip [EOL] [EOL] def user_logout ( request ) : [EOL] ip = get_client_ip ( request ) [EOL] log . info ( [string] + ip + [string] + request . user . username ) [EOL] logout ( request ) [EOL] return redirect ( [string] ) [EOL] [EOL] def login ( request ) : [EOL] ip = get_client_ip ( request ) [EOL] [comment] [EOL] if request . session . get ( [string] , False ) : [EOL] pass [EOL] else : [EOL] request . session [ [string] ] = True [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] global tipo [EOL] tipo = [number] [EOL] tip = tipo [EOL] [EOL] form = RegisterForm ( ) [EOL] if request . user . is_authenticated : [EOL] try : [EOL] actual = Dueno . objects . filter ( d_user__username = request . user . username ) [ [number] ] [EOL] return redirect ( [string] + actual . d_marca . m_alias + [string] ) [EOL] except : [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] return redirect ( [string] + perfil . u_alias + [string] ) [EOL] elif request . method == [string] : [EOL] [EOL] if request . POST [ [string] ] == [string] : [EOL] form = RegisterForm ( request . POST ) [EOL] if form . is_valid ( ) or True : [EOL] try : [EOL] with transaction . atomic ( ) : [EOL] user = form . save ( commit = False ) [EOL] user . set_password ( request . POST . get ( [string] , [string] ) ) [EOL] user . is_active = False [EOL] user . email = user . username [EOL] user . save ( ) [EOL] disc1 = Disciplina . objects . get ( d_nombre = request . POST . get ( [string] , [string] ) ) [EOL] disc2 = Disciplina . objects . get ( d_nombre = request . POST . get ( [string] , [string] ) ) [EOL] telefono = request . POST . get ( [string] , [string] ) [EOL] [EOL] useralias = request . POST . get ( [string] ) [EOL] [EOL] perfil = UserProfile . objects . create ( u_user = user , u_alias = useralias , u_secondname = [string] , u_secondlastname = [string] , u_telefono = telefono , u_direccion = [string] , u_displinafav1 = disc1 , u_displinafav2 = disc2 , u_displinafav3 = None ) [EOL] perfil . save ( ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] return redirect ( [string] ) [EOL] t = [string] + [string] . join ( random . choice ( string . ascii_uppercase + string . digits ) for _ in range ( [number] ) ) [EOL] token = Token . objects . create ( u_user = user , u_token = t ) [EOL] correo = user . username [EOL] [EOL] from django . template import loader [EOL] message = [string] [EOL] data = { [string] : token , [string] : [string] + request . META [ [string] ] + [string] + token . u_token , [string] : user . first_name + [string] + user . last_name , [string] : useralias , [string] : [string] , [string] : False , } [EOL] html_message = loader . render_to_string ( [string] , data , ) [EOL] send_mail ( [string] , message , [string] , [ correo ] , fail_silently = True , html_message = html_message ) [EOL] messages . success ( request , [string] , extra_tags = [string] ) [EOL] return redirect ( [string] ) [EOL] else : [EOL] mensaje = [string] [EOL] messages . error ( request , [string] ) [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , } ) [EOL] elif request . POST [ [string] ] in ( [string] , [string] ) : [EOL] prospects = Prospect . objects . filter ( ) . order_by ( [string] ) [EOL] prospect = Prospect ( ) [EOL] if request . POST [ [string] ] == [string] : [EOL] prospect . pr_tipo = [string] [EOL] else : [EOL] prospect . pr_tipo = [string] [EOL] prospect . pr_nombre = request . POST [ [string] ] [EOL] prospect . pr_apellido = request . POST [ [string] ] [EOL] prospect . pr_correo = request . POST [ [string] ] [EOL] try : [EOL] prospect . pr_aspiraciones = request . POST [ [string] ] [EOL] except : [EOL] prospect . pr_aspiraciones = [string] [EOL] try : [EOL] prospect . pr_centros_frecuentados = request . POST [ [string] ] [EOL] except : [EOL] prospect . pr_centros_frecuentados = [string] [EOL] try : [EOL] prospect . pr_ubicacion_negocio = request . POST [ [string] ] [EOL] except : [EOL] prospect . pr_ubicacion_negocio = [string] [EOL] try : [EOL] prospect . pr_nombre_negocio = request . POST [ [string] ] [EOL] except : [EOL] prospect . pr_nombre_negocio = [string] [EOL] try : [EOL] prospect . pr_descripcion_negocio = request . POST [ [string] ] [EOL] except : [EOL] prospect . pr_descripcion_negocio = [string] [EOL] prospect . save ( ) [EOL] messages . success ( request , [string] , extra_tags = [string] ) [EOL] return redirect ( [string] ) [EOL] else : [EOL] usernameIn = request . POST . get ( [string] , [string] ) [EOL] passwordIn = request . POST . get ( [string] , [string] ) [EOL] global tokenValidator [EOL] if request . POST . get ( [string] , [string] ) == tokenValidator : [EOL] tipo = [number] [EOL] else : [EOL] tipo = [number] [EOL] if User . objects . filter ( username = usernameIn ) . exists ( ) : [EOL] if User . objects . get ( username = usernameIn ) . profile . u_registrado == False : [EOL] request . POST = request . POST . copy ( ) [EOL] mensaje = [string] [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] messages . warning ( request , [string] + usernameIn + [string] , extra_tags = [string] ) [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , [string] : tipo } ) [EOL] tokenValidator = request . POST . get ( [string] , [string] ) [EOL] user = authenticate ( username = usernameIn , password = passwordIn ) [EOL] if user is not None : [EOL] auth . login ( request , user ) [EOL] log . info ( [string] + ip + [string] + request . user . username ) [EOL] perfil = UserProfile . objects . get ( u_user = request . user ) [EOL] if perfil . u_marca : [EOL] actual = Dueno . objects . filter ( d_user__username = usernameIn ) [ [number] ] [EOL] request . session [ [string] ] = actual . d_marca . m_alias [EOL] return redirect ( [string] + actual . d_marca . m_alias + [string] ) [EOL] else : [EOL] return redirect ( [string] + perfil . u_alias + [string] ) [EOL] else : [EOL] user = User . objects . filter ( username = usernameIn ) [EOL] if user . count ( ) > [number] : [EOL] if user [ [number] ] . is_active == False : [EOL] request . POST = request . POST . copy ( ) [EOL] mensaje = [string] [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] messages . warning ( request , [string] + usernameIn + [string] , extra_tags = [string] ) [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , [string] : tipo } ) [EOL] else : [EOL] messages . error ( request , [string] ) [EOL] mensaje = [string] [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , [string] : tip , } ) [EOL] else : [EOL] messages . error ( request , [string] ) [EOL] mensaje = [string] [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , [string] : tip , } ) [EOL] else : [EOL] mensaje = [string] [EOL] marcas_publicas = Marca . objects . filter ( m_public = True ) . order_by ( [string] ) [ [number] : [number] ] [EOL] return render ( request , [string] , { [string] : [string] , [string] : disciplinas , [string] : mensaje , [string] : marcas_publicas , [string] : tip , } ) [EOL] [EOL] def token ( request , pk ) : [EOL] try : [EOL] token = Token . objects . get ( u_token = pk ) [EOL] except : [EOL] messages . error ( request , [string] ) [EOL] return redirect ( [string] ) [EOL] usuario = token . u_user [EOL] perfil = UserProfile . objects . get ( u_user = usuario ) [EOL] [EOL] usuario . activate = True [EOL] usuario . save ( ) [EOL] token . u_data = True [EOL] token . save ( ) [EOL] [EOL] if not request . user . is_authenticated : [EOL] auth . login ( request , usuario ) [EOL] vs = manejarSesion ( request , usuario . username , False ) [EOL] else : [EOL] vs = manejarSesion ( request , pk , False ) [EOL] [EOL] telefono = perfil . u_telefono [EOL] pais = Pais . objects . all ( ) [EOL] ciudad = Ciudad . objects . all ( ) [EOL] municipio = Zona . objects . all ( ) [EOL] marcasPublicas = Marca . objects . filter ( m_public = True ) [EOL] marcasSeguidas = Relacion . objects . filter ( r_user_id = usuario . id ) . values_list ( [string] , flat = True ) [EOL] marcas = Dueno . objects . filter ( d_user = usuario ) [EOL] try : [EOL] dic1 = Disciplina . objects . get ( pk = perfil . u_displinafav1_id ) . d_nombre [EOL] except : [EOL] dic1 = [string] [EOL] try : [EOL] dic2 = Disciplina . objects . get ( pk = perfil . u_displinafav2_id ) . d_nombre [EOL] except : [EOL] dic2 = [string] [EOL] try : [EOL] dic3 = Disciplina . objects . get ( pk = perfil . u_displinafav3_id ) . d_nombre [EOL] except : [EOL] dic3 = [string] [EOL] disciplinas = Disciplina . objects . all ( ) [EOL] return render ( request , [string] , { [string] : usuario , [string] : perfil , [string] : telefono , [string] : str ( perfil . u_fecha_nac ) , [string] : str ( dic1 ) , [string] : dic2 , [string] : dic3 , [string] : marcasPublicas , [string] : marcasSeguidas , [string] : False , [string] : pais , [string] : ciudad , [string] : disciplinas , [string] : municipio , [string] : marcas , [string] : vs , [string] : True , } ) [EOL] [EOL] [EOL] def register ( request ) : [EOL] return render ( request , [string] , { [string] : Disciplina . objects . all ( ) , } ) [EOL] [EOL] [EOL] def manejarSesion ( request , pkIn , cambiarSesion ) : [EOL] [EOL] try : [EOL] vs = None [EOL] prev_tipo = None [EOL] if [string] in request . session : [comment] [EOL] vsJson = request . session [ [string] ] [EOL] vs = VicSession ( request . user . username ) [EOL] vs . setear ( vsJson ) [EOL] prev_tipo = vs . tipoSesion [EOL] if cambiarSesion : [EOL] vs . cambiarTipoSesion ( pkIn ) [EOL] del request . session [ [string] ] [EOL] request . session [ [string] ] = vs . getJason ( ) [EOL] request . session . modified = True [EOL] if vs . tipoSesion == vs . ATLETA : [EOL] if prev_tipo != vs . tipoSesion : [EOL] log . info ( [string] + request . user . username ) [EOL] else : [EOL] if prev_tipo != vs . tipoSesion : [EOL] log . info ( [string] + request . user . username ) [EOL] else : [EOL] vs = VicSession ( request . user . username ) [EOL] vsJson = vs . getJason ( ) [EOL] vs . setear ( vsJson ) [EOL] pkWork = request . user . profile . u_alias [EOL] if vs . tipoSesion == VicSession . MARCA : [EOL] pkWork = vs . marcaEnUso . m_alias [EOL] vs . cambiarTipoSesion ( pkWork ) [EOL] request . session [ [string] ] = vs . getJason ( ) [EOL] request . session . modified = True [EOL] except : [EOL] return None [EOL] [EOL] return vs	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $logging.Logger$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from django . contrib import admin [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
from typing import Any , List [EOL] import typing [EOL] from django . conf . urls import url [EOL] from accounts import views [EOL] from django . contrib . auth import views as auth_views [EOL] [EOL] [EOL] app_name = [string] [EOL] [EOL] urlpatterns = [ url ( [string] , views . login , name = [string] ) , url ( [string] , views . login , name = [string] ) , url ( [string] , views . user_logout , name = [string] ) , url ( [string] , views . validate_username , name = [string] ) , url ( [string] , views . validate_useralias , name = [string] ) , url ( [string] , views . validate_marcaalias , name = [string] ) , url ( [string] , views . cambiarmarca ) , url ( [string] , auth_views . PasswordResetView . as_view ( template_name = [string] , email_template_name = [string] , subject_template_name = [string] ) , name = [string] ) , url ( [string] , auth_views . PasswordResetDoneView . as_view ( template_name = [string] ) , name = [string] ) , url ( [string] , auth_views . PasswordResetConfirmView . as_view ( template_name = [string] ) , name = [string] ) , url ( [string] , auth_views . PasswordResetCompleteView . as_view ( template_name = [string] ) , name = [string] ) , ] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 $typing.List[typing.Any]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from django . db import models [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
from django . test import TestCase [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
	0
from django . test import TestCase [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
from typing import Any , List [EOL] import typing [EOL] from django . conf . urls import url [EOL] from apis import views [EOL] from rest_framework_simplejwt import views as jwt_views [EOL] [EOL] app_name = [string] [EOL] [EOL] urlpatterns = [ url ( [string] , jwt_views . TokenRefreshView . as_view ( ) , name = [string] ) , url ( [string] , jwt_views . TokenObtainPairView . as_view ( ) , name = [string] ) , url ( [string] , views . HelloView . as_view ( ) , name = [string] ) , url ( [string] , views . VictoriusApi . as_view ( ) ) , url ( [string] , views . ActividadesTodasView . as_view ( ) ) , url ( [string] , views . ActividadesAfiliacionView . as_view ( ) ) , url ( [string] , views . DetalleActividadView . as_view ( ) ) , url ( [string] , views . Reservar . as_view ( ) ) , url ( [string] , views . MarcarIngresoExpress . as_view ( ) , name = [string] ) , url ( [string] , views . Cancelar . as_view ( ) ) , url ( [string] , views . ActividadesReservadasView . as_view ( ) , name = [string] ) , url ( [string] , views . ActividadesEnEsperaView . as_view ( ) , name = [string] ) , url ( [string] , views . ProfilesApiView . as_view ( ) ) , url ( [string] , views . ProfileDetailApiView . as_view ( ) , name = [string] ) , url ( [string] , views . CentrosPublicosView . as_view ( ) ) , url ( [string] , views . CentrosAfiliacionView . as_view ( ) , name = [string] ) , url ( [string] , views . LocalidadesView . as_view ( ) ) , url ( [string] , views . LocalidadesAfiliacionView . as_view ( ) , name = [string] ) , url ( [string] , views . PlanesAtletaView . as_view ( ) , name = [string] ) , url ( [string] , views . ProductosActividadView . as_view ( ) , name = [string] ) , url ( [string] , views . PinNotificacionesAtletaView . as_view ( ) , name = [string] ) , url ( [string] , views . NotificacionesPendientesAtletaView . as_view ( ) , name = [string] ) , url ( [string] , views . NotificacionesRecientesAtletaView . as_view ( ) , name = [string] ) , url ( [string] , views . AccionNotificacionAtletaView . as_view ( ) , name = [string] ) , ]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 $typing.List[typing.Any]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from django . contrib import admin [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
from django . db import models [EOL] [EOL] [comment] [EOL]	0 0 0 0 0 0 0 0 0 0
	0
from django . apps import AppConfig [EOL] [EOL] [EOL] class ApisConfig ( AppConfig ) : [EOL] name = [string] [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0
	0