[comment] [EOL] [EOL] import southwest_api [EOL] import builtins [EOL] import click [EOL] from southwest_api import SouthwestAPI [EOL] [EOL] [EOL] class Actions : [EOL] SCHEDULE = [string] [EOL] CHECK_IN = [string] [EOL] [EOL] [EOL] @ click . command ( ) @ click . option ( [string] , [string] , required = True , help = [string] ) @ click . option ( [string] , [string] , required = True , help = [string] ) @ click . option ( [string] , [string] , required = True , help = [string] ) @ click . option ( [string] , [string] , required = True , type = click . Choice ( [ Actions . SCHEDULE , Actions . CHECK_IN ] ) , default = Actions . SCHEDULE ) def cli ( action , confirmation_num , first_name , last_name ) : [EOL] southwest_api = SouthwestAPI ( confirmation_num = confirmation_num , first_name = first_name , last_name = last_name ) [EOL] if action == Actions . CHECK_IN : [EOL] southwest_api . checkin ( ) [EOL] else : [EOL] southwest_api . schedule ( ) [EOL] [EOL] [EOL] if __name__ == [string] : [EOL] cli ( ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $None$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from typing import List , Type , Callable , TypeVar [EOL] import typing [EOL] import builtins [EOL] import time [EOL] from functools import wraps [EOL] from typing import Any [EOL] from typing import Callable [EOL] from typing import cast [EOL] from typing import List [EOL] from typing import Type [EOL] from typing import TypeVar [EOL] [EOL] [EOL] F = TypeVar ( [string] , bound = Callable [ ... , Any ] ) [EOL] [EOL] [EOL] def retry ( e , count = [number] , delay_s = [number] ) : [EOL] def decorator ( func ) : [EOL] @ wraps ( func ) def decorated ( * args , ** kwargs ) : [EOL] for i in range ( count ) : [EOL] try : [EOL] return func ( * args , ** kwargs ) [EOL] except tuple ( e ) : [EOL] time . sleep ( delay_s ) [EOL] print ( f' [string] { i }' ) [EOL] return func ( * args , ** kwargs ) [EOL] return cast ( F , decorated ) [EOL] return decorator [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $typing.Callable[[F],F]$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $F$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
from typing import Dict , Any [EOL] import selenium [EOL] import builtins [EOL] import typing [EOL] import southwest [EOL] import datetime [EOL] import sys [EOL] import subprocess [EOL] import datetime [EOL] from enum import Enum , auto [EOL] from selenium import webdriver [EOL] from selenium . webdriver . remote . webelement import WebElement [EOL] [EOL] [EOL] class Fields ( Enum ) : [EOL] [comment] [EOL] ConfirmationNum = auto ( ) [EOL] FirstName = auto ( ) [EOL] LastName = auto ( ) [EOL] [EOL] [comment] [EOL] RetrieveRes = auto ( ) [EOL] CheckIn = auto ( ) [EOL] [EOL] [comment] [EOL] DepartingDate = auto ( ) [EOL] DepartingTime = auto ( ) [EOL] DepartingPeriod = auto ( ) [EOL] ReturningDate = auto ( ) [EOL] ReturningTime = auto ( ) [EOL] ReturningPeriod = auto ( ) [EOL] [EOL] [EOL] [comment] [EOL] TEXT_TPL = [string] [EOL] BUTTON_TPL = [string] [EOL] DATETIME_TPL = [string] [EOL] DATE_TPL = [string] [EOL] TIME_TPL = [string] [EOL] PERIOD_TPL = [string] [EOL] FIELD_XPATHS = { Fields . ConfirmationNum : TEXT_TPL . format ( name = [string] ) , Fields . FirstName : TEXT_TPL . format ( name = [string] ) , Fields . LastName : TEXT_TPL . format ( name = [string] ) , Fields . RetrieveRes : BUTTON_TPL . format ( inner_html = [string] ) , Fields . CheckIn : BUTTON_TPL . format ( inner_html = [string] ) , Fields . DepartingDate : DATE_TPL . format ( idx = [number] ) , Fields . DepartingTime : TIME_TPL . format ( idx = [number] ) , Fields . DepartingPeriod : TIME_TPL . format ( idx = [number] ) , Fields . ReturningDate : DATE_TPL . format ( idx = [number] ) , Fields . ReturningTime : TIME_TPL . format ( idx = [number] ) , Fields . ReturningPeriod : PERIOD_TPL . format ( idx = [number] ) , } [EOL] [EOL] [EOL] CHECK_IN_URL = [string] [EOL] VIEW_RESERVATION_URL = [string] [EOL] [EOL] [EOL] class Southwest : [EOL] [EOL] def __init__ ( self , confirmation_num , first_name , last_name ) : [EOL] self . _config = { Fields . ConfirmationNum : confirmation_num , Fields . FirstName : first_name , Fields . LastName : last_name } [EOL] chrome_options = webdriver . ChromeOptions ( ) [EOL] [comment] [EOL] self . _driver = webdriver . Chrome ( options = chrome_options ) [EOL] self . _driver . implicitly_wait ( [number] ) [EOL] [EOL] def _enter_configuration ( self ) : [EOL] [comment] [EOL] for field in [ Fields . ConfirmationNum , Fields . FirstName , Fields . LastName , ] : [EOL] element = self . _get_element ( field ) [EOL] element . send_keys ( self . _config [ field ] ) [EOL] [EOL] self . _get_element ( Fields . RetrieveRes ) . click ( ) [EOL] [EOL] def _get_element ( self , field ) : [EOL] return self . _driver . find_element_by_xpath ( FIELD_XPATHS [ field ] ) [EOL] [EOL] def _parse_date_strings ( self , date , time , period ) : [EOL] [docstring] [EOL] _ , month_day , year = date . split ( [string] ) [EOL] return datetime . datetime . strptime ( f"{ month_day } [string] { year } [string] { time }{ period }" , [string] ) [EOL] [EOL] def _schedule_check_in ( self , flight_dt ) : [EOL] check_in_cmd = [string] . join ( [ sys . argv [ [number] ] , [string] , [string] , [string] , self . _config [ Fields . ConfirmationNum ] , [string] , self . _config [ Fields . FirstName ] , [string] , self . _config [ Fields . LastName ] ] ) [EOL] dt_str = flight_dt . strftime ( [string] ) [EOL] import ipdb [EOL] ipdb . set_trace ( ) [EOL] [EOL] subprocess . run ( [ [string] , [string] , dt_str ] , input = check_in_cmd ) [EOL] [EOL] def schedule ( self ) : [EOL] self . _driver . get ( VIEW_RESERVATION_URL ) [EOL] self . _enter_configuration ( ) [EOL] [EOL] departing_date = self . _get_element ( Fields . DepartingDate ) . text [EOL] departing_time = self . _get_element ( Fields . DepartingTime ) . text [EOL] departing_period = self . _get_element ( Fields . ReturningPeriod ) . text [EOL] departing_dt = self . _parse_date_strings ( departing_date , departing_time , departing_period ) [EOL] [EOL] self . _schedule_check_in ( flight_dt = departing_dt ) [EOL] [EOL] def check_in ( self ) : [EOL] self . _driver . get ( CHECK_IN_URL ) [EOL] self . _enter_configuration ( ) [EOL] [EOL] [comment] [EOL] self . _get_element ( Fields . CheckIn ) . click ( ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $None$ 0 0 0 $builtins.str$ 0 $builtins.str$ 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 $builtins.str$ 0 0 $typing.Any$ 0 0 0 0 0 0 0 0 0 0 0 $selenium.webdriver$ 0 0 0 0 0 0 0 $typing.Any$ 0 0 0 0 $selenium.webdriver$ 0 0 0 0 0 0 0 0 $None$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $selenium.webdriver.remote.webelement.WebElement$ 0 0 0 $Fields$ 0 0 0 0 0 0 0 0 0 0 0 0 $Fields$ 0 0 0 0 0 $datetime.datetime$ 0 0 0 $builtins.str$ 0 $builtins.str$ 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 $builtins.str$ 0 0 0 0 0 0 0 $None$ 0 0 0 $datetime.datetime$ 0 0 0 $builtins.str$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 $datetime.datetime$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $builtins.str$ 0 0 0 0 $builtins.str$ 0 0 0 0 $None$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $datetime.datetime$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 $datetime.datetime$ 0 0 0 0 $None$ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0