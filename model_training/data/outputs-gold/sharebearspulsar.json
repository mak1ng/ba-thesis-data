[comment] [EOL] [EOL] import flask [EOL] from pulsar import create_app [EOL] [EOL] app = create_app ( [string] ) [EOL] [EOL] if __name__ == [string] : [EOL] app . run ( ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 $flask.app.Flask$ 0 0 0 0 0 0 0 0 0 0 0 0 0 $flask.app.Flask$ 0 0 0 0 0
[comment] [EOL] from typing import Any [EOL] import typing [EOL] import flask [EOL] import os [EOL] import shlex [EOL] import subprocess [EOL] from collections import defaultdict [EOL] [EOL] import click [EOL] import flask [EOL] import sqlalchemy [EOL] from flask . cli import with_appcontext [EOL] [EOL] from core import cache , db [EOL] from core . permissions import Permissions [EOL] from core . test_data import CorePopulator [EOL] from core . users . models import User [EOL] from core . users . permissions import SitePermissions [EOL] from forums . test_data import ForumsPopulator [EOL] from messages . test_data import MessagesPopulator [EOL] from wiki . test_data import WikiPopulator [EOL] [EOL] app = flask . current_app [EOL] [EOL] POPULATORS = [ CorePopulator , ForumsPopulator , MessagesPopulator , WikiPopulator ] [EOL] [EOL] [EOL] @ click . group ( ) def dev ( ) : [EOL] [docstring] [EOL] pass [EOL] [EOL] [EOL] @ dev . command ( ) @ with_appcontext def createdb ( ) : [EOL] [docstring] [EOL] db . create_all ( ) [EOL] [EOL] [EOL] @ dev . command ( ) @ with_appcontext def insertdata ( ) : [EOL] [docstring] [EOL] with app . test_request_context ( ) : [EOL] flask . g . cache_keys = defaultdict ( set ) [EOL] [EOL] try : [EOL] user = User . from_pk ( [number] ) [EOL] except sqlalchemy . exc . ProgrammingError as e : [EOL] click . secho ( [string] , fg = [string] , bold = True , ) [EOL] raise click . Abort [EOL] [EOL] if user and user . username != [string] : [EOL] click . secho ( [string] [string] , fg = [string] , bold = True , ) [EOL] raise click . Abort [EOL] [EOL] cache . clear ( ) [EOL] db . session . commit ( ) [EOL] [EOL] with app . app_context ( ) : [EOL] db . drop_all ( ) [EOL] db . create_all ( ) [EOL] [EOL] with app . test_request_context ( ) : [EOL] for p in POPULATORS : [EOL] p . populate ( ) [EOL] CorePopulator . add_permissions ( SitePermissions . GOD_MODE ) [EOL] cache . clear ( ) [EOL] [EOL] click . echo ( f' [string] ' ) [EOL] [EOL] [EOL] @ dev . command ( ) def tests ( ) : [EOL] [docstring] [EOL] for pd in sorted ( os . listdir ( [string] ) ) : [EOL] if os . path . isdir ( os . path . join ( [string] , pd , [string] ) ) : [EOL] subprocess . call ( [ [string] , os . path . join ( [string] , shlex . quote ( pd ) ) ] ) [EOL] [EOL] [EOL] @ dev . command ( ) def update ( ) : [EOL] [docstring] [EOL] for pd in sorted ( os . listdir ( [string] ) ) : [EOL] click . secho ( f' [string] { pd } [string] ' , fg = [string] ) [EOL] subprocess . call ( [ [string] , [string] ] , cwd = os . path . join ( [string] , shlex . quote ( pd ) ) ) [EOL] [EOL] [EOL] @ dev . command ( ) @ with_appcontext def listperms ( ) : [EOL] [docstring] [EOL] for p in list ( sorted ( Permissions . get_all_permissions ( ) ) ) : [EOL] click . echo ( p ) [EOL]	0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
	0